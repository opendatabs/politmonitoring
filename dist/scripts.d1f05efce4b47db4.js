var hc=Object.defineProperty,fc=Object.defineProperties,dc=Object.getOwnPropertyDescriptors,Ba=Object.getOwnPropertySymbols,gc=Object.prototype.hasOwnProperty,_c=Object.prototype.propertyIsEnumerable,Va=(m,F,Z)=>F in m?hc(m,F,{enumerable:!0,configurable:!0,writable:!0,value:Z}):m[F]=Z,$e=(m,F)=>{for(var Z in F||(F={}))gc.call(F,Z)&&Va(m,Z,F[Z]);if(Ba)for(var Z of Ba(F))_c.call(F,Z)&&Va(m,Z,F[Z]);return m},hs=(m,F)=>fc(m,dc(F));function floatingTooltip(m,F){var Z=d3.select("body").append("div").attr("class","custom_tooltip").attr("id",m);function rt(){Z.style("display","none")}function gt(Mt){var Jt=parseInt(Z.style("width"),10),ie=parseInt(Z.style("height"),10),Rt=window.scrollY,dt=window.scrollX,ue=document.all?Mt.clientX+dt:Mt.pageX,le=document.all?Mt.clientY+Rt:Mt.pageY,sn=ue-dt+20+Jt>window.innerWidth?ue-Jt-10:ue+10;sn<dt+10&&(sn=dt+10);var Ne=le-Rt+20+ie>window.innerHeight?le-ie-10:le+10;Ne<Rt+10&&(Ne=le+10),Z.style({top:Ne+"px",left:sn+"px"})}return F&&Z.style("width",F),rt(),{showTooltip:function K(Mt,Yt,It){Z.style("display","block").html(Mt),Z.classed("fixed_tooltip",It),gt(Yt)},hideTooltip:rt,updatePosition:gt}}(function(m,F){"object"==typeof exports&&"undefined"!=typeof module?module.exports=F():"function"==typeof define&&define.amd?define(F):m.moment=F()})(this,function(){"use strict";var m;function F(){return m.apply(null,arguments)}function Z(s){return s instanceof Array||"[object Array]"===Object.prototype.toString.call(s)}function K(s){return null!=s&&"[object Object]"===Object.prototype.toString.call(s)}function rt(s,l){return Object.prototype.hasOwnProperty.call(s,l)}function gt(s){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(s).length;for(var l in s)if(rt(s,l))return;return 1}function Mt(s){return void 0===s}function Yt(s){return"number"==typeof s||"[object Number]"===Object.prototype.toString.call(s)}function It(s){return s instanceof Date||"[object Date]"===Object.prototype.toString.call(s)}function Jt(s,l){for(var g=[],y=s.length,S=0;S<y;++S)g.push(l(s[S],S));return g}function ie(s,l){for(var g in l)rt(l,g)&&(s[g]=l[g]);return rt(l,"toString")&&(s.toString=l.toString),rt(l,"valueOf")&&(s.valueOf=l.valueOf),s}function Rt(s,l,g,y){return Ft(s,l,g,y,!0).utc()}function dt(s){return null==s._pf&&(s._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),s._pf}function ue(s){if(null==s._isValid){var l=dt(s),g=sn.call(l.parsedDateParts,function(y){return null!=y});if(g=!isNaN(s._d.getTime())&&l.overflow<0&&!l.empty&&!l.invalidEra&&!l.invalidMonth&&!l.invalidWeekday&&!l.weekdayMismatch&&!l.nullInput&&!l.invalidFormat&&!l.userInvalidated&&(!l.meridiem||l.meridiem&&g),s._strict&&(g=g&&0===l.charsLeftOver&&0===l.unusedTokens.length&&void 0===l.bigHour),null!=Object.isFrozen&&Object.isFrozen(s))return g;s._isValid=g}return s._isValid}function le(s){var l=Rt(NaN);return null!=s?ie(dt(l),s):dt(l).userInvalidated=!0,l}var sn=Array.prototype.some||function(s){for(var l=Object(this),g=l.length>>>0,y=0;y<g;y++)if(y in l&&s.call(this,l[y],y,l))return!0;return!1},Ne=F.momentProperties=[],ht=!1;function _e(s,l){var g,y,S,P=Ne.length;if(Mt(l._isAMomentObject)||(s._isAMomentObject=l._isAMomentObject),Mt(l._i)||(s._i=l._i),Mt(l._f)||(s._f=l._f),Mt(l._l)||(s._l=l._l),Mt(l._strict)||(s._strict=l._strict),Mt(l._tzm)||(s._tzm=l._tzm),Mt(l._isUTC)||(s._isUTC=l._isUTC),Mt(l._offset)||(s._offset=l._offset),Mt(l._pf)||(s._pf=dt(l)),Mt(l._locale)||(s._locale=l._locale),0<P)for(g=0;g<P;g++)Mt(S=l[y=Ne[g]])||(s[y]=S);return s}function we(s){_e(this,s),this._d=new Date(null!=s._d?s._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===ht&&(ht=!0,F.updateOffset(this),ht=!1)}function se(s){return s instanceof we||null!=s&&null!=s._isAMomentObject}function tr(s){!1===F.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+s)}function ve(s,l){var g=!0;return ie(function(){if(null!=F.deprecationHandler&&F.deprecationHandler(null,s),g){for(var y,S,P=[],U=arguments.length,V=0;V<U;V++){if(y="","object"==typeof arguments[V]){for(S in y+="\n["+V+"] ",arguments[0])rt(arguments[0],S)&&(y+=S+": "+arguments[0][S]+", ");y=y.slice(0,-2)}else y=arguments[V];P.push(y)}tr(s+"\nArguments: "+Array.prototype.slice.call(P).join("")+"\n"+(new Error).stack),g=!1}return l.apply(this,arguments)},l)}var wn={};function Fn(s,l){null!=F.deprecationHandler&&F.deprecationHandler(s,l),wn[s]||(tr(l),wn[s]=!0)}function ye(s){return"undefined"!=typeof Function&&s instanceof Function||"[object Function]"===Object.prototype.toString.call(s)}function Hn(s,l){var g,y=ie({},s);for(g in l)rt(l,g)&&(K(s[g])&&K(l[g])?(y[g]={},ie(y[g],s[g]),ie(y[g],l[g])):null!=l[g]?y[g]=l[g]:delete y[g]);for(g in s)rt(s,g)&&!rt(l,g)&&K(s[g])&&(y[g]=ie({},y[g]));return y}function Mn(s){null!=s&&this.set(s)}F.suppressDeprecationWarnings=!1,F.deprecationHandler=null;var hr=Object.keys||function(s){var l,g=[];for(l in s)rt(s,l)&&g.push(l);return g};function Tt(s,l,g){var y=""+Math.abs(s);return(0<=s?g?"+":"":"-")+Math.pow(10,Math.max(0,l-y.length)).toString().substr(1)+y}var kt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,lt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,yt={},Ot={};function at(s,l,g,y){var S="string"==typeof y?function(){return this[y]()}:y;s&&(Ot[s]=S),l&&(Ot[l[0]]=function(){return Tt(S.apply(this,arguments),l[1],l[2])}),g&&(Ot[g]=function(){return this.localeData().ordinal(S.apply(this,arguments),s)})}function Pt(s,l){return s.isValid()?(l=ee(l,s.localeData()),yt[l]=yt[l]||function(g){for(var y,S=g.match(kt),P=0,U=S.length;P<U;P++)S[P]=Ot[S[P]]?Ot[S[P]]:(y=S[P]).match(/\[[\s\S]/)?y.replace(/^\[|\]$/g,""):y.replace(/\\/g,"");return function(V){for(var ot="",et=0;et<U;et++)ot+=ye(S[et])?S[et].call(V,g):S[et];return ot}}(l),yt[l](s)):s.localeData().invalidDate()}function ee(s,l){var g=5;function y(S){return l.longDateFormat(S)||S}for(lt.lastIndex=0;0<=g&&lt.test(s);)s=s.replace(lt,y),lt.lastIndex=0,--g;return s}var z={};function Et(s,l){var g=s.toLowerCase();z[g]=z[g+"s"]=z[l]=s}function zt(s){return"string"==typeof s?z[s]||z[s.toLowerCase()]:void 0}function Me(s){var l,g,y={};for(g in s)rt(s,g)&&(l=zt(g))&&(y[l]=s[g]);return y}var Ae={};function Xt(s,l){Ae[s]=l}function oe(s){return s%4==0&&s%100!=0||s%400==0}function ne(s){return s<0?Math.ceil(s)||0:Math.floor(s)}function _t(l){return 0!=(l=+l)&&isFinite(l)?ne(l):0}function ce(s,l){return function(g){return null!=g?(fr(this,s,g),F.updateOffset(this,l),this):Ct(this,s)}}function Ct(s,l){return s.isValid()?s._d["get"+(s._isUTC?"UTC":"")+l]():NaN}function fr(s,l,g){s.isValid()&&!isNaN(g)&&("FullYear"===l&&oe(s.year())&&1===s.month()&&29===s.date()?(g=_t(g),s._d["set"+(s._isUTC?"UTC":"")+l](g,s.month(),ln(g,s.month()))):s._d["set"+(s._isUTC?"UTC":"")+l](g))}var Q=/\d/,mt=/\d\d/,At=/\d{3}/,Zn=/\d{4}/,de=/[+-]?\d{6}/,qt=/\d\d?/,Un=/\d\d\d\d?/,on=/\d\d\d\d\d\d?/,Ze=/\d{1,3}/,Ce=/\d{1,4}/,Ln=/[+-]?\d{1,6}/,Fe=/\d+/,an=/[+-]?\d+/,Cr=/Z|[+-]\d\d:?\d\d/gi,Wn=/Z|[+-]\d\d(?::?\d\d)?/gi,Xe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function ct(s,l,g){Ar[s]=ye(l)?l:function(y,S){return y&&g?g:l}}function ki(s,l){return rt(Ar,s)?Ar[s](l._strict,l._locale):new RegExp(xe(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(g,y,S,P,U){return y||S||P||U})))}function xe(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Ht,Ar={},xn={};function Nt(s,l){var g,y,S=l;for("string"==typeof s&&(s=[s]),Yt(l)&&(S=function(P,U){U[l]=_t(P)}),y=s.length,g=0;g<y;g++)xn[s[g]]=S}function vn(s,l){Nt(s,function(g,y,S,P){S._w=S._w||{},l(g,S._w,S,P)})}function ln(s,l){if(isNaN(s)||isNaN(l))return NaN;var g=(l%(g=12)+g)%g;return s+=(l-g)/12,1==g?oe(s)?29:28:31-g%7%2}Ht=Array.prototype.indexOf||function(s){for(var l=0;l<this.length;++l)if(this[l]===s)return l;return-1},at("M",["MM",2],"Mo",function(){return this.month()+1}),at("MMM",0,0,function(s){return this.localeData().monthsShort(this,s)}),at("MMMM",0,0,function(s){return this.localeData().months(this,s)}),Et("month","M"),Xt("month",8),ct("M",qt),ct("MM",qt,mt),ct("MMM",function(s,l){return l.monthsShortRegex(s)}),ct("MMMM",function(s,l){return l.monthsRegex(s)}),Nt(["M","MM"],function(s,l){l[1]=_t(s)-1}),Nt(["MMM","MMMM"],function(s,l,g,y){null!=(y=g._locale.monthsParse(s,y,g._strict))?l[1]=y:dt(g).invalidMonth=s});var Ke="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),nt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Sn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,wt=Xe,De=Xe;function ri(s,l){var g;if(s.isValid()){if("string"==typeof l)if(/^\d+$/.test(l))l=_t(l);else if(!Yt(l=s.localeData().monthsParse(l)))return;g=Math.min(s.date(),ln(s.year(),l)),s._d["set"+(s._isUTC?"UTC":"")+"Month"](l,g)}}function Qt(s){return null!=s?(ri(this,s),F.updateOffset(this,!0),this):Ct(this,"Month")}function pt(){function s(U,V){return V.length-U.length}for(var l,g=[],y=[],S=[],P=0;P<12;P++)l=Rt([2e3,P]),g.push(this.monthsShort(l,"")),y.push(this.months(l,"")),S.push(this.months(l,"")),S.push(this.monthsShort(l,""));for(g.sort(s),y.sort(s),S.sort(s),P=0;P<12;P++)g[P]=xe(g[P]),y[P]=xe(y[P]);for(P=0;P<24;P++)S[P]=xe(S[P]);this._monthsRegex=new RegExp("^("+S.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+y.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+g.join("|")+")","i")}function Ut(s){return oe(s)?366:365}at("Y",0,0,function(){var s=this.year();return s<=9999?Tt(s,4):"+"+s}),at(0,["YY",2],0,function(){return this.year()%100}),at(0,["YYYY",4],0,"year"),at(0,["YYYYY",5],0,"year"),at(0,["YYYYYY",6,!0],0,"year"),Et("year","y"),Xt("year",1),ct("Y",an),ct("YY",qt,mt),ct("YYYY",Ce,Zn),ct("YYYYY",Ln,de),ct("YYYYYY",Ln,de),Nt(["YYYYY","YYYYYY"],0),Nt("YYYY",function(s,l){l[0]=2===s.length?F.parseTwoDigitYear(s):_t(s)}),Nt("YY",function(s,l){l[0]=F.parseTwoDigitYear(s)}),Nt("Y",function(s,l){l[0]=parseInt(s,10)}),F.parseTwoDigitYear=function(s){return _t(s)+(68<_t(s)?1900:2e3)};var Ye=ce("FullYear",!0);function ii(s,l,g,y,S,P,U){var V;return s<100&&0<=s?(V=new Date(s+400,l,g,y,S,P,U),isFinite(V.getFullYear())&&V.setFullYear(s)):V=new Date(s,l,g,y,S,P,U),V}function jn(s){var l;return s<100&&0<=s?((l=Array.prototype.slice.call(arguments))[0]=s+400,l=new Date(Date.UTC.apply(null,l)),isFinite(l.getUTCFullYear())&&l.setUTCFullYear(s)):l=new Date(Date.UTC.apply(null,arguments)),l}function Se(s,l,g){return(g=7+l-g)-(7+jn(s,0,g).getUTCDay()-l)%7-1}function cn(s,U,V,y,S){var P;return V=(U=1+7*(U-1)+(7+V-y)%7+Se(s,y,S))<=0?Ut(P=s-1)+U:U>Ut(s)?(P=s+1,U-Ut(s)):(P=s,U),{year:P,dayOfYear:V}}function er(s,l,g){var y,S,P=Se(s.year(),l,g);return(P=Math.floor((s.dayOfYear()-P-1)/7)+1)<1?y=P+Oe(S=s.year()-1,l,g):P>Oe(s.year(),l,g)?(y=P-Oe(s.year(),l,g),S=s.year()+1):(S=s.year(),y=P),{week:y,year:S}}function Oe(s,S,g){var y=Se(s,S,g);return S=Se(s+1,S,g),(Ut(s)-y+S)/7}function Tr(s,l){return s.slice(l,7).concat(s.slice(0,l))}at("w",["ww",2],"wo","week"),at("W",["WW",2],"Wo","isoWeek"),Et("week","w"),Et("isoWeek","W"),Xt("week",5),Xt("isoWeek",5),ct("w",qt),ct("ww",qt,mt),ct("W",qt),ct("WW",qt,mt),vn(["w","ww","W","WW"],function(s,l,g,y){l[y.substr(0,1)]=_t(s)}),at("d",0,"do","day"),at("dd",0,0,function(s){return this.localeData().weekdaysMin(this,s)}),at("ddd",0,0,function(s){return this.localeData().weekdaysShort(this,s)}),at("dddd",0,0,function(s){return this.localeData().weekdays(this,s)}),at("e",0,0,"weekday"),at("E",0,0,"isoWeekday"),Et("day","d"),Et("weekday","e"),Et("isoWeekday","E"),Xt("day",11),Xt("weekday",11),Xt("isoWeekday",11),ct("d",qt),ct("e",qt),ct("E",qt),ct("dd",function(s,l){return l.weekdaysMinRegex(s)}),ct("ddd",function(s,l){return l.weekdaysShortRegex(s)}),ct("dddd",function(s,l){return l.weekdaysRegex(s)}),vn(["dd","ddd","dddd"],function(s,l,g,y){null!=(y=g._locale.weekdaysParse(s,y,g._strict))?l.d=y:dt(g).invalidWeekday=s}),vn(["d","e","E"],function(s,l,g,y){l[y]=_t(s)});var Cn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),qn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Bn="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),si=Xe,oi=Xe,gr=Xe;function nr(){function s(et,xt){return xt.length-et.length}for(var l,g,y,S=[],P=[],U=[],V=[],ot=0;ot<7;ot++)y=Rt([2e3,1]).day(ot),l=xe(this.weekdaysMin(y,"")),g=xe(this.weekdaysShort(y,"")),y=xe(this.weekdays(y,"")),S.push(l),P.push(g),U.push(y),V.push(l),V.push(g),V.push(y);S.sort(s),P.sort(s),U.sort(s),V.sort(s),this._weekdaysRegex=new RegExp("^("+V.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+U.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+P.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+S.join("|")+")","i")}function hn(){return this.hours()%12||12}function Qe(s,l){at(s,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),l)})}function Nr(s,l){return l._meridiemParse}at("H",["HH",2],0,"hour"),at("h",["hh",2],0,hn),at("k",["kk",2],0,function(){return this.hours()||24}),at("hmm",0,0,function(){return""+hn.apply(this)+Tt(this.minutes(),2)}),at("hmmss",0,0,function(){return""+hn.apply(this)+Tt(this.minutes(),2)+Tt(this.seconds(),2)}),at("Hmm",0,0,function(){return""+this.hours()+Tt(this.minutes(),2)}),at("Hmmss",0,0,function(){return""+this.hours()+Tt(this.minutes(),2)+Tt(this.seconds(),2)}),Qe("a",!0),Qe("A",!1),Et("hour","h"),Xt("hour",13),ct("a",Nr),ct("A",Nr),ct("H",qt),ct("h",qt),ct("k",qt),ct("HH",qt,mt),ct("hh",qt,mt),ct("kk",qt,mt),ct("hmm",Un),ct("hmmss",on),ct("Hmm",Un),ct("Hmmss",on),Nt(["H","HH"],3),Nt(["k","kk"],function(s,l,g){s=_t(s),l[3]=24===s?0:s}),Nt(["a","A"],function(s,l,g){g._isPm=g._locale.isPM(s),g._meridiem=s}),Nt(["h","hh"],function(s,l,g){l[3]=_t(s),dt(g).bigHour=!0}),Nt("hmm",function(s,l,g){var y=s.length-2;l[3]=_t(s.substr(0,y)),l[4]=_t(s.substr(y)),dt(g).bigHour=!0}),Nt("hmmss",function(s,l,g){var y=s.length-4,S=s.length-2;l[3]=_t(s.substr(0,y)),l[4]=_t(s.substr(y,2)),l[5]=_t(s.substr(S)),dt(g).bigHour=!0}),Nt("Hmm",function(s,l,g){var y=s.length-2;l[3]=_t(s.substr(0,y)),l[4]=_t(s.substr(y))}),Nt("Hmmss",function(s,l,g){var y=s.length-4,S=s.length-2;l[3]=_t(s.substr(0,y)),l[4]=_t(s.substr(y,2)),l[5]=_t(s.substr(S))}),Xe=ce("Hours",!0);var An,Le={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ke,monthsShort:nt,week:{dow:0,doy:6},weekdays:Cn,weekdaysMin:Bn,weekdaysShort:qn,meridiemParse:/[ap]\.?m?\.?/i},Bt={},En={};function Pe(s){return s&&s.toLowerCase().replace("_","-")}function _r(s){var l;if(void 0===Bt[s]&&"undefined"!=typeof module&&module&&module.exports&&null!=s.match("^[^/\\\\]*$"))try{l=An._abbr,require("./locale/"+s),yn(l)}catch(g){Bt[s]=null}return Bt[s]}function yn(s,l){return s&&((l=Mt(l)?We(s):fn(s,l))?An=l:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+s+" not found. Did you forget to load it?")),An._abbr}function fn(s,l){if(null===l)return delete Bt[s],null;var g,y=Le;if(l.abbr=s,null!=Bt[s])Fn("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),y=Bt[s]._config;else if(null!=l.parentLocale)if(null!=Bt[l.parentLocale])y=Bt[l.parentLocale]._config;else{if(null==(g=_r(l.parentLocale)))return En[l.parentLocale]||(En[l.parentLocale]=[]),En[l.parentLocale].push({name:s,config:l}),null;y=g._config}return Bt[s]=new Mn(Hn(y,l)),En[s]&&En[s].forEach(function(S){fn(S.name,S.config)}),yn(s),Bt[s]}function We(s){var l;if(!(s=s&&s._locale&&s._locale._abbr?s._locale._abbr:s))return An;if(!Z(s)){if(l=_r(s))return l;s=[s]}return function rr(s){for(var l,g,y,S,P=0;P<s.length;){for(l=(S=Pe(s[P]).split("-")).length,g=(g=Pe(s[P+1]))?g.split("-"):null;0<l;){if(y=_r(S.slice(0,l).join("-")))return y;if(g&&g.length>=l&&function(U,V){for(var ot=Math.min(U.length,V.length),et=0;et<ot;et+=1)if(U[et]!==V[et])return et;return ot}(S,g)>=l-1)break;l--}P++}return An}(s)}function pr(s){var l=s._a;return l&&-2===dt(s).overflow&&(l=l[1]<0||11<l[1]?1:l[2]<1||l[2]>ln(l[0],l[1])?2:l[3]<0||24<l[3]||24===l[3]&&(0!==l[4]||0!==l[5]||0!==l[6])?3:l[4]<0||59<l[4]?4:l[5]<0||59<l[5]?5:l[6]<0||999<l[6]?6:-1,dt(s)._overflowDayOfYear&&(l<0||2<l)&&(l=2),dt(s)._overflowWeeks&&-1===l&&(l=7),dt(s)._overflowWeekday&&-1===l&&(l=8),dt(s).overflow=l),s}var qr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Dr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Or=/Z|[+-]\d\d(?::?\d\d)?/,Vn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],be=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ai=/^\/?Date\((-?\d+)/i,je=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Lr={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Gn(s){var l,g,y,S,P,U,V=qr.exec(ot=s._i)||Dr.exec(ot),ot=Vn.length,et=be.length;if(V){for(dt(s).iso=!0,l=0,g=ot;l<g;l++)if(Vn[l][1].exec(V[1])){S=Vn[l][0],y=!1!==Vn[l][2];break}if(null==S)s._isValid=!1;else{if(V[3]){for(l=0,g=et;l<g;l++)if(be[l][1].exec(V[3])){P=(V[2]||" ")+be[l][0];break}if(null==P)return void(s._isValid=!1)}if(y||null==P){if(V[4]){if(!Or.exec(V[4]))return void(s._isValid=!1);U="Z"}s._f=S+(P||"")+(U||""),vr(s)}else s._isValid=!1}}else s._isValid=!1}function Br(s){var l,g,y,S,P=je.exec(s._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));P?(l=function ui(s,l,g,y,S,P){return s=[(U=s,(U=parseInt(U,10))<=49?2e3+U:U<=999?1900+U:U),nt.indexOf(l),parseInt(g,10),parseInt(y,10),parseInt(S,10)],P&&s.push(parseInt(P,10)),s;var U}(P[4],P[3],P[2],P[5],P[6],P[7]),y=l,S=s,(g=P[1])&&qn.indexOf(g)!==new Date(y[0],y[1],y[2]).getDay()?(dt(S).weekdayMismatch=!0,S._isValid=!1):(s._a=l,s._tzm=(y=P[9],S=P[10],(g=P[8])?Lr[g]:y?0:((g=parseInt(S,10))-(y=g%100))/100*60+y),s._d=jn.apply(null,s._a),s._d.setUTCMinutes(s._d.getUTCMinutes()-s._tzm),dt(s).rfc2822=!0)):s._isValid=!1}function Tn(s,l,g){return null!=s?s:null!=l?l:g}function mr(s){var l,g,y,S,P,U,V,ot,et,xt,bt,$t=[];if(!s._d){for(y=s,S=new Date(F.now()),g=y._useUTC?[S.getUTCFullYear(),S.getUTCMonth(),S.getUTCDate()]:[S.getFullYear(),S.getMonth(),S.getDate()],s._w&&null==s._a[2]&&null==s._a[1]&&(null!=(S=(y=s)._w).GG||null!=S.W||null!=S.E?(ot=1,et=4,P=Tn(S.GG,y._a[0],er(Vt(),1,4).year),U=Tn(S.W,1),((V=Tn(S.E,1))<1||7<V)&&(xt=!0)):(ot=y._locale._week.dow,et=y._locale._week.doy,bt=er(Vt(),ot,et),P=Tn(S.gg,y._a[0],bt.year),U=Tn(S.w,bt.week),null!=S.d?((V=S.d)<0||6<V)&&(xt=!0):null!=S.e?(V=S.e+ot,(S.e<0||6<S.e)&&(xt=!0)):V=ot),U<1||U>Oe(P,ot,et)?dt(y)._overflowWeeks=!0:null!=xt?dt(y)._overflowWeekday=!0:(bt=cn(P,U,V,ot,et),y._a[0]=bt.year,y._dayOfYear=bt.dayOfYear)),null!=s._dayOfYear&&(S=Tn(s._a[0],g[0]),(s._dayOfYear>Ut(S)||0===s._dayOfYear)&&(dt(s)._overflowDayOfYear=!0),xt=jn(S,0,s._dayOfYear),s._a[1]=xt.getUTCMonth(),s._a[2]=xt.getUTCDate()),l=0;l<3&&null==s._a[l];++l)s._a[l]=$t[l]=g[l];for(;l<7;l++)s._a[l]=$t[l]=null==s._a[l]?2===l?1:0:s._a[l];24===s._a[3]&&0===s._a[4]&&0===s._a[5]&&0===s._a[6]&&(s._nextDay=!0,s._a[3]=0),s._d=(s._useUTC?jn:ii).apply(null,$t),P=s._useUTC?s._d.getUTCDay():s._d.getDay(),null!=s._tzm&&s._d.setUTCMinutes(s._d.getUTCMinutes()-s._tzm),s._nextDay&&(s._a[3]=24),s._w&&void 0!==s._w.d&&s._w.d!==P&&(dt(s).weekdayMismatch=!0)}}function vr(s){if(s._f===F.ISO_8601)Gn(s);else if(s._f===F.RFC_2822)Br(s);else{s._a=[],dt(s).empty=!0;for(var l,g,y,S,P,U=""+s._i,V=U.length,ot=0,et=ee(s._f,s._locale).match(kt)||[],xt=et.length,bt=0;bt<xt;bt++)(l=(U.match(ki(g=et[bt],s))||[])[0])&&(0<(y=U.substr(0,U.indexOf(l))).length&&dt(s).unusedInput.push(y),U=U.slice(U.indexOf(l)+l.length),ot+=l.length),Ot[g]?(l?dt(s).empty=!1:dt(s).unusedTokens.push(g),y=g,P=s,null!=(S=l)&&rt(xn,y)&&xn[y](S,P._a,P,y)):s._strict&&!l&&dt(s).unusedTokens.push(g);dt(s).charsLeftOver=V-ot,0<U.length&&dt(s).unusedInput.push(U),s._a[3]<=12&&!0===dt(s).bigHour&&0<s._a[3]&&(dt(s).bigHour=void 0),dt(s).parsedDateParts=s._a.slice(0),dt(s).meridiem=s._meridiem,s._a[3]=($t=s._locale,te=s._a[3],null==(pe=s._meridiem)?te:null!=$t.meridiemHour?$t.meridiemHour(te,pe):null!=$t.isPM?(($t=$t.isPM(pe))&&te<12&&(te+=12),te=$t||12!==te?te:0):te),null!==(V=dt(s).era)&&(s._a[0]=s._locale.erasConvertYear(V,s._a[0])),mr(s),pr(s)}var $t,te,pe}function yr(s){var l,g,y,S=s._i,P=s._f;return s._locale=s._locale||We(s._l),null===S||void 0===P&&""===S?le({nullInput:!0}):("string"==typeof S&&(s._i=S=s._locale.preparse(S)),se(S)?new we(pr(S)):(It(S)?s._d=S:Z(P)?function(U){var V,ot,et,xt,bt,$t,te=!1,pe=U._f.length;if(0===pe)return dt(U).invalidFormat=!0,U._d=new Date(NaN);for(xt=0;xt<pe;xt++)bt=0,$t=!1,V=_e({},U),null!=U._useUTC&&(V._useUTC=U._useUTC),V._f=U._f[xt],vr(V),ue(V)&&($t=!0),bt=(bt+=dt(V).charsLeftOver)+10*dt(V).unusedTokens.length,dt(V).score=bt,te?bt<et&&(et=bt,ot=V):(null==et||bt<et||$t)&&(et=bt,ot=V,$t&&(te=!0));ie(U,ot||V)}(s):P?vr(s):Mt(P=(S=s)._i)?S._d=new Date(F.now()):It(P)?S._d=new Date(P.valueOf()):"string"==typeof P?null!==(l=ai.exec((g=S)._i))?g._d=new Date(+l[1]):(Gn(g),!1===g._isValid&&(delete g._isValid,Br(g),!1===g._isValid&&(delete g._isValid,g._strict?g._isValid=!1:F.createFromInputFallback(g)))):Z(P)?(S._a=Jt(P.slice(0),function(U){return parseInt(U,10)}),mr(S)):K(P)?(l=S)._d||(y=void 0===(g=Me(l._i)).day?g.date:g.day,l._a=Jt([g.year,g.month,y,g.hour,g.minute,g.second,g.millisecond],function(U){return U&&parseInt(U,10)}),mr(l)):Yt(P)?S._d=new Date(P):F.createFromInputFallback(S),ue(s)||(s._d=null),s))}function Ft(s,l,g,y,S){var P={};return!0!==l&&!1!==l||(y=l,l=void 0),!0!==g&&!1!==g||(y=g,g=void 0),(K(s)&&gt(s)||Z(s)&&0===s.length)&&(s=void 0),P._isAMomentObject=!0,P._useUTC=P._isUTC=S,P._l=g,P._i=s,P._f=l,P._strict=y,(S=new we(pr(yr(S=P))))._nextDay&&(S.add(1,"d"),S._nextDay=void 0),S}function Vt(s,l,g,y){return Ft(s,l,g,y,!1)}function $n(s,l){var g,y;if(!(l=1===l.length&&Z(l[0])?l[0]:l).length)return Vt();for(g=l[0],y=1;y<l.length;++y)l[y].isValid()&&!l[y][s](g)||(g=l[y]);return g}F.createFromInputFallback=ve("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(s){s._d=new Date(s._i+(s._useUTC?" UTC":""))}),F.ISO_8601=function(){},F.RFC_2822=function(){},Un=ve("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var s=Vt.apply(null,arguments);return this.isValid()&&s.isValid()?s<this?this:s:le()}),on=ve("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var s=Vt.apply(null,arguments);return this.isValid()&&s.isValid()?this<s?this:s:le()});var Nn=["year","quarter","month","week","day","hour","minute","second","millisecond"];function br(l){var g=(l=Me(l)).year||0,y=l.quarter||0,S=l.month||0,P=l.week||l.isoWeek||0,U=l.day||0,V=l.hour||0,ot=l.minute||0,et=l.second||0,xt=l.millisecond||0;this._isValid=function(bt){var $t,te,pe=!1,Yn=Nn.length;for($t in bt)if(rt(bt,$t)&&(-1===Ht.call(Nn,$t)||null!=bt[$t]&&isNaN(bt[$t])))return!1;for(te=0;te<Yn;++te)if(bt[Nn[te]]){if(pe)return!1;parseFloat(bt[Nn[te]])!==_t(bt[Nn[te]])&&(pe=!0)}return!0}(l),this._milliseconds=+xt+1e3*et+6e4*ot+1e3*V*60*60,this._days=+U+7*P,this._months=+S+3*y+12*g,this._data={},this._locale=We(),this._bubble()}function Dn(s){return s instanceof br}function bn(s){return s<0?-1*Math.round(-1*s):Math.round(s)}function ir(s,l){at(s,0,0,function(){var g=this.utcOffset(),y="+";return g<0&&(g=-g,y="-"),y+Tt(~~(g/60),2)+l+Tt(~~g%60,2)})}ir("Z",":"),ir("ZZ",""),ct("Z",Wn),ct("ZZ",Wn),Nt(["Z","ZZ"],function(s,l,g){g._useUTC=!0,g._tzm=Yr(Wn,s)});var Pr=/([\+\-]|\d\d)/gi;function Yr(s,g){return null===(g=(g||"").match(s))?null:0===(g=60*(s=((g[g.length-1]||[])+"").match(Pr)||["-",0,0])[1]+_t(s[2]))?0:"+"===s[0]?g:-g}function sr(s,l){var g;return l._isUTC?(l=l.clone(),g=(se(s)||It(s)?s:Vt(s)).valueOf()-l.valueOf(),l._d.setTime(l._d.valueOf()+g),F.updateOffset(l,!1),l):Vt(s).local()}function Je(s){return-Math.round(s._d.getTimezoneOffset())}function Vr(){return!!this.isValid()&&this._isUTC&&0===this._offset}F.updateOffset=function(){};var li=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,or=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function qe(s,l){var g,P,U,V,y=s,S=null;return Dn(s)?y={ms:s._milliseconds,d:s._days,M:s._months}:Yt(s)||!isNaN(+s)?(y={},l?y[l]=+s:y.milliseconds=+s):(S=li.exec(s))?(g="-"===S[1]?-1:1,y={y:0,d:_t(S[2])*g,h:_t(S[3])*g,m:_t(S[4])*g,s:_t(S[5])*g,ms:_t(bn(1e3*S[6]))*g}):(S=or.exec(s))?y={y:tn(S[2],g="-"===S[1]?-1:1),M:tn(S[3],g),w:tn(S[4],g),d:tn(S[5],g),h:tn(S[6],g),m:tn(S[7],g),s:tn(S[8],g)}:null==y?y={}:"object"==typeof y&&("from"in y||"to"in y)&&(P=Vt(y.from),U=Vt(y.to),l=P.isValid()&&U.isValid()?(U=sr(U,P),P.isBefore(U)?V=Gr(P,U):((V=Gr(U,P)).milliseconds=-V.milliseconds,V.months=-V.months),V):{milliseconds:0,months:0},(y={}).ms=l.milliseconds,y.M=l.months),S=new br(y),Dn(s)&&rt(s,"_locale")&&(S._locale=s._locale),Dn(s)&&rt(s,"_isValid")&&(S._isValid=s._isValid),S}function tn(s,l){return s=s&&parseFloat(s.replace(",",".")),(isNaN(s)?0:s)*l}function Gr(s,l){var g={};return g.months=l.month()-s.month()+12*(l.year()-s.year()),s.clone().add(g.months,"M").isAfter(l)&&--g.months,g.milliseconds=+l-+s.clone().add(g.months,"M"),g}function $r(s,l){return function(g,y){var S;return null===y||isNaN(+y)||(Fn(l,"moment()."+l+"(period, number) is deprecated. Please use moment()."+l+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),S=g,g=y,y=S),ci(this,qe(g,y),s),this}}function ci(s,U,g,y){var S=U._milliseconds,P=bn(U._days);U=bn(U._months),s.isValid()&&(y=null==y||y,U&&ri(s,Ct(s,"Month")+U*g),P&&fr(s,"Date",Ct(s,"Date")+P*g),S&&s._d.setTime(s._d.valueOf()+S*g),y&&F.updateOffset(s,P||U))}function ar(s){return"string"==typeof s||s instanceof String}function st(s){return se(s)||It(s)||ar(s)||Yt(s)||(y=!1,(g=Z(l=s))&&(y=0===l.filter(function(S){return!Yt(S)&&ar(l)}).length),g&&y)||function(l){var g,S=K(l)&&!gt(l),P=!1,U=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],V=U.length;for(g=0;g<V;g+=1)P=P||rt(l,U[g]);return S&&P}(s)||null==s;var l,g,y}function ae(s,S){if(s.date()<S.date())return-ae(S,s);var g=12*(S.year()-s.year())+(S.month()-s.month()),y=s.clone().add(g,"months");return-(g+(S=S-y<0?(S-y)/(y-s.clone().add(g-1,"months")):(S-y)/(s.clone().add(1+g,"months")-y)))||0}function dn(s){return void 0===s?this._locale._abbr:(null!=(s=We(s))&&(this._locale=s),this)}function en(){return this._locale}qe.fn=br.prototype,qe.invalid=function(){return qe(NaN)},Ke=$r(1,"add"),Cn=$r(-1,"subtract"),F.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",F.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",Bn=ve("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(s){return void 0===s?this.localeData():this.locale(s)});var Ee,nn=126227808e5;function gn(s,l){return(s%l+l)%l}function Rr(s,l,g){return s<100&&0<=s?new Date(s+400,l,g)-nn:new Date(s,l,g).valueOf()}function Ir(s,l,g){return s<100&&0<=s?Date.UTC(s+400,l,g)-nn:Date.UTC(s,l,g)}function jt(s,l){return l.erasAbbrRegex(s)}function _n(){for(var s=[],l=[],g=[],y=[],S=this.eras(),P=0,U=S.length;P<U;++P)l.push(xe(S[P].name)),s.push(xe(S[P].abbr)),g.push(xe(S[P].narrow)),y.push(xe(S[P].name)),y.push(xe(S[P].abbr)),y.push(xe(S[P].narrow));this._erasRegex=new RegExp("^("+y.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+l.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+g.join("|")+")","i")}function he(s,l){at(0,[s,s.length],0,l)}function On(s,l,g,y,S){var P;return null==s?er(this,y,S).year:(P=Oe(s,y,S),function(U,V,ot,et,xt){return V=jn((U=cn(U,V,ot,et,xt)).year,0,U.dayOfYear),this.year(V.getUTCFullYear()),this.month(V.getUTCMonth()),this.date(V.getUTCDate()),this}.call(this,s,l=P<l?P:l,g,y,S))}for(at("N",0,0,"eraAbbr"),at("NN",0,0,"eraAbbr"),at("NNN",0,0,"eraAbbr"),at("NNNN",0,0,"eraName"),at("NNNNN",0,0,"eraNarrow"),at("y",["y",1],"yo","eraYear"),at("y",["yy",2],0,"eraYear"),at("y",["yyy",3],0,"eraYear"),at("y",["yyyy",4],0,"eraYear"),ct("N",jt),ct("NN",jt),ct("NNN",jt),ct("NNNN",function(s,l){return l.erasNameRegex(s)}),ct("NNNNN",function(s,l){return l.erasNarrowRegex(s)}),Nt(["N","NN","NNN","NNNN","NNNNN"],function(s,l,g,y){(y=g._locale.erasParse(s,y,g._strict))?dt(g).era=y:dt(g).invalidEra=s}),ct("y",Fe),ct("yy",Fe),ct("yyy",Fe),ct("yyyy",Fe),ct("yo",function(s,l){return l._eraYearOrdinalRegex||Fe}),Nt(["y","yy","yyy","yyyy"],0),Nt(["yo"],function(s,l,g,y){var S;g._locale._eraYearOrdinalRegex&&(S=s.match(g._locale._eraYearOrdinalRegex)),l[0]=g._locale.eraYearOrdinalParse?g._locale.eraYearOrdinalParse(s,S):parseInt(s,10)}),at(0,["gg",2],0,function(){return this.weekYear()%100}),at(0,["GG",2],0,function(){return this.isoWeekYear()%100}),he("gggg","weekYear"),he("ggggg","weekYear"),he("GGGG","isoWeekYear"),he("GGGGG","isoWeekYear"),Et("weekYear","gg"),Et("isoWeekYear","GG"),Xt("weekYear",1),Xt("isoWeekYear",1),ct("G",an),ct("g",an),ct("GG",qt,mt),ct("gg",qt,mt),ct("GGGG",Ce,Zn),ct("gggg",Ce,Zn),ct("GGGGG",Ln,de),ct("ggggg",Ln,de),vn(["gggg","ggggg","GGGG","GGGGG"],function(s,l,g,y){l[y.substr(0,2)]=_t(s)}),vn(["gg","GG"],function(s,l,g,y){l[y]=F.parseTwoDigitYear(s)}),at("Q",0,"Qo","quarter"),Et("quarter","Q"),Xt("quarter",7),ct("Q",Q),Nt("Q",function(s,l){l[1]=3*(_t(s)-1)}),at("D",["DD",2],"Do","date"),Et("date","D"),Xt("date",9),ct("D",qt),ct("DD",qt,mt),ct("Do",function(s,l){return s?l._dayOfMonthOrdinalParse||l._ordinalParse:l._dayOfMonthOrdinalParseLenient}),Nt(["D","DD"],2),Nt("Do",function(s,l){l[2]=_t(s.match(qt)[0])}),Ce=ce("Date",!0),at("DDD",["DDDD",3],"DDDo","dayOfYear"),Et("dayOfYear","DDD"),Xt("dayOfYear",4),ct("DDD",Ze),ct("DDDD",At),Nt(["DDD","DDDD"],function(s,l,g){g._dayOfYear=_t(s)}),at("m",["mm",2],0,"minute"),Et("minute","m"),Xt("minute",14),ct("m",qt),ct("mm",qt,mt),Nt(["m","mm"],4),Zn=ce("Minutes",!1),at("s",["ss",2],0,"second"),Et("second","s"),Xt("second",15),ct("s",qt),ct("ss",qt,mt),Nt(["s","ss"],5),Ln=ce("Seconds",!1),at("S",0,0,function(){return~~(this.millisecond()/100)}),at(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),at(0,["SSS",3],0,"millisecond"),at(0,["SSSS",4],0,function(){return 10*this.millisecond()}),at(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),at(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),at(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),at(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),at(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Et("millisecond","ms"),Xt("millisecond",16),ct("S",Ze,Q),ct("SS",Ze,mt),ct("SSS",Ze,At),Ee="SSSS";Ee.length<=9;Ee+="S")ct(Ee,Fe);function wr(s,l){l[6]=_t(1e3*("0."+s))}for(Ee="S";Ee.length<=9;Ee+="S")Nt(Ee,wr);function N(s){return s}function h(s,l,g,P){var S=We();return P=Rt().set(P,l),S[g](P,s)}function v(s,l,g){if(Yt(s)&&(l=s,s=void 0),s=s||"",null!=l)return h(s,l,g,"month");for(var y=[],S=0;S<12;S++)y[S]=h(s,S,g,"month");return y}function T(s,l,g,y){"boolean"==typeof s?Yt(l)&&(g=l,l=void 0):(l=s,s=!1,Yt(g=l)&&(g=l,l=void 0)),l=l||"";var S,P=We(),U=s?P._week.dow:0,V=[];if(null!=g)return h(l,(g+U)%7,y,"day");for(S=0;S<7;S++)V[S]=h(l,(S+U)%7,y,"day");return V}de=ce("Milliseconds",!1),at("z",0,0,"zoneAbbr"),at("zz",0,0,"zoneName"),(Q=we.prototype).add=Ke,Q.calendar=function(g,S){1===arguments.length&&(arguments[0]?st(arguments[0])?(g=arguments[0],S=void 0):function(P){for(var U=K(P)&&!gt(P),V=!1,ot=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],et=0;et<ot.length;et+=1)V=V||rt(P,ot[et]);return U&&V}(arguments[0])&&(S=arguments[0],g=void 0):S=g=void 0);var y=sr(g=g||Vt(),this).startOf("day");return y=F.calendarFormat(this,y)||"sameElse",S=S&&(ye(S[y])?S[y].call(this,g):S[y]),this.format(S||this.localeData().calendar(y,this,Vt(g)))},Q.clone=function(){return new we(this)},Q.diff=function(s,l,g){var y,S,P;if(!this.isValid())return NaN;if(!(y=sr(s,this)).isValid())return NaN;switch(S=6e4*(y.utcOffset()-this.utcOffset()),l=zt(l)){case"year":P=ae(this,y)/12;break;case"month":P=ae(this,y);break;case"quarter":P=ae(this,y)/3;break;case"second":P=(this-y)/1e3;break;case"minute":P=(this-y)/6e4;break;case"hour":P=(this-y)/36e5;break;case"day":P=(this-y-S)/864e5;break;case"week":P=(this-y-S)/6048e5;break;default:P=this-y}return g?P:ne(P)},Q.endOf=function(s){var l,g;if(void 0===(s=zt(s))||"millisecond"===s||!this.isValid())return this;switch(g=this._isUTC?Ir:Rr,s){case"year":l=g(this.year()+1,0,1)-1;break;case"quarter":l=g(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":l=g(this.year(),this.month()+1,1)-1;break;case"week":l=g(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":l=g(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":l=g(this.year(),this.month(),this.date()+1)-1;break;case"hour":l=this._d.valueOf(),l+=36e5-gn(l+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":l=this._d.valueOf(),l+=6e4-gn(l,6e4)-1;break;case"second":l=this._d.valueOf(),l+=1e3-gn(l,1e3)-1}return this._d.setTime(l),F.updateOffset(this,!0),this},Q.format=function(s){return s=Pt(this,s=s||(this.isUtc()?F.defaultFormatUtc:F.defaultFormat)),this.localeData().postformat(s)},Q.from=function(s,l){return this.isValid()&&(se(s)&&s.isValid()||Vt(s).isValid())?qe({to:this,from:s}).locale(this.locale()).humanize(!l):this.localeData().invalidDate()},Q.fromNow=function(s){return this.from(Vt(),s)},Q.to=function(s,l){return this.isValid()&&(se(s)&&s.isValid()||Vt(s).isValid())?qe({from:this,to:s}).locale(this.locale()).humanize(!l):this.localeData().invalidDate()},Q.toNow=function(s){return this.to(Vt(),s)},Q.get=function(s){return ye(this[s=zt(s)])?this[s]():this},Q.invalidAt=function(){return dt(this).overflow},Q.isAfter=function(s,l){return s=se(s)?s:Vt(s),!(!this.isValid()||!s.isValid())&&("millisecond"===(l=zt(l)||"millisecond")?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(l).valueOf())},Q.isBefore=function(s,l){return s=se(s)?s:Vt(s),!(!this.isValid()||!s.isValid())&&("millisecond"===(l=zt(l)||"millisecond")?this.valueOf()<s.valueOf():this.clone().endOf(l).valueOf()<s.valueOf())},Q.isBetween=function(s,l,g,y){return s=se(s)?s:Vt(s),l=se(l)?l:Vt(l),!!(this.isValid()&&s.isValid()&&l.isValid())&&("("===(y=y||"()")[0]?this.isAfter(s,g):!this.isBefore(s,g))&&(")"===y[1]?this.isBefore(l,g):!this.isAfter(l,g))},Q.isSame=function(g,l){return g=se(g)?g:Vt(g),!(!this.isValid()||!g.isValid())&&("millisecond"===(l=zt(l)||"millisecond")?this.valueOf()===g.valueOf():(g=g.valueOf(),this.clone().startOf(l).valueOf()<=g&&g<=this.clone().endOf(l).valueOf()))},Q.isSameOrAfter=function(s,l){return this.isSame(s,l)||this.isAfter(s,l)},Q.isSameOrBefore=function(s,l){return this.isSame(s,l)||this.isBefore(s,l)},Q.isValid=function(){return ue(this)},Q.lang=Bn,Q.locale=dn,Q.localeData=en,Q.max=on,Q.min=Un,Q.parsingFlags=function(){return ie({},dt(this))},Q.set=function(s,l){if("object"==typeof s)for(var g=function(P){var U,V=[];for(U in P)rt(P,U)&&V.push({unit:U,priority:Ae[U]});return V.sort(function(ot,et){return ot.priority-et.priority}),V}(s=Me(s)),y=g.length,S=0;S<y;S++)this[g[S].unit](s[g[S].unit]);else if(ye(this[s=zt(s)]))return this[s](l);return this},Q.startOf=function(s){var l,g;if(void 0===(s=zt(s))||"millisecond"===s||!this.isValid())return this;switch(g=this._isUTC?Ir:Rr,s){case"year":l=g(this.year(),0,1);break;case"quarter":l=g(this.year(),this.month()-this.month()%3,1);break;case"month":l=g(this.year(),this.month(),1);break;case"week":l=g(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":l=g(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":l=g(this.year(),this.month(),this.date());break;case"hour":l=this._d.valueOf(),l-=gn(l+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":l=this._d.valueOf(),l-=gn(l,6e4);break;case"second":l=this._d.valueOf(),l-=gn(l,1e3)}return this._d.setTime(l),F.updateOffset(this,!0),this},Q.subtract=Cn,Q.toArray=function(){var s=this;return[s.year(),s.month(),s.date(),s.hour(),s.minute(),s.second(),s.millisecond()]},Q.toObject=function(){var s=this;return{years:s.year(),months:s.month(),date:s.date(),hours:s.hours(),minutes:s.minutes(),seconds:s.seconds(),milliseconds:s.milliseconds()}},Q.toDate=function(){return new Date(this.valueOf())},Q.toISOString=function(s){if(!this.isValid())return null;var l=(s=!0!==s)?this.clone().utc():this;return l.year()<0||9999<l.year()?Pt(l,s?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ye(Date.prototype.toISOString)?s?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Pt(l,"Z")):Pt(l,s?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Q.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var s,l="moment",g="";return this.isLocal()||(l=0===this.utcOffset()?"moment.utc":"moment.parseZone",g="Z"),l="["+l+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(l+s+"-MM-DD[T]HH:mm:ss.SSS"+g+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Q[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Q.toJSON=function(){return this.isValid()?this.toISOString():null},Q.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Q.unix=function(){return Math.floor(this.valueOf()/1e3)},Q.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Q.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Q.eraName=function(){for(var s,l=this.localeData().eras(),g=0,y=l.length;g<y;++g)if(s=this.clone().startOf("day").valueOf(),l[g].since<=s&&s<=l[g].until||l[g].until<=s&&s<=l[g].since)return l[g].name;return""},Q.eraNarrow=function(){for(var s,l=this.localeData().eras(),g=0,y=l.length;g<y;++g)if(s=this.clone().startOf("day").valueOf(),l[g].since<=s&&s<=l[g].until||l[g].until<=s&&s<=l[g].since)return l[g].narrow;return""},Q.eraAbbr=function(){for(var s,l=this.localeData().eras(),g=0,y=l.length;g<y;++g)if(s=this.clone().startOf("day").valueOf(),l[g].since<=s&&s<=l[g].until||l[g].until<=s&&s<=l[g].since)return l[g].abbr;return""},Q.eraYear=function(){for(var s,l,g=this.localeData().eras(),y=0,S=g.length;y<S;++y)if(s=g[y].since<=g[y].until?1:-1,l=this.clone().startOf("day").valueOf(),g[y].since<=l&&l<=g[y].until||g[y].until<=l&&l<=g[y].since)return(this.year()-F(g[y].since).year())*s+g[y].offset;return this.year()},Q.year=Ye,Q.isLeapYear=function(){return oe(this.year())},Q.weekYear=function(s){return On.call(this,s,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Q.isoWeekYear=function(s){return On.call(this,s,this.isoWeek(),this.isoWeekday(),1,4)},Q.quarter=Q.quarters=function(s){return null==s?Math.ceil((this.month()+1)/3):this.month(3*(s-1)+this.month()%3)},Q.month=Qt,Q.daysInMonth=function(){return ln(this.year(),this.month())},Q.week=Q.weeks=function(s){var l=this.localeData().week(this);return null==s?l:this.add(7*(s-l),"d")},Q.isoWeek=Q.isoWeeks=function(s){var l=er(this,1,4).week;return null==s?l:this.add(7*(s-l),"d")},Q.weeksInYear=function(){var s=this.localeData()._week;return Oe(this.year(),s.dow,s.doy)},Q.weeksInWeekYear=function(){var s=this.localeData()._week;return Oe(this.weekYear(),s.dow,s.doy)},Q.isoWeeksInYear=function(){return Oe(this.year(),1,4)},Q.isoWeeksInISOWeekYear=function(){return Oe(this.isoWeekYear(),1,4)},Q.date=Ce,Q.day=Q.days=function(s){if(!this.isValid())return null!=s?this:NaN;var l,g,y=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=s?(l=s,g=this.localeData(),s="string"!=typeof l?l:isNaN(l)?"number"==typeof(l=g.weekdaysParse(l))?l:null:parseInt(l,10),this.add(s-y,"d")):y},Q.weekday=function(s){if(!this.isValid())return null!=s?this:NaN;var l=(this.day()+7-this.localeData()._week.dow)%7;return null==s?l:this.add(s-l,"d")},Q.isoWeekday=function(s){return this.isValid()?null!=s?(l=s,g=this.localeData(),g="string"==typeof l?g.weekdaysParse(l)%7||7:isNaN(l)?null:l,this.day(this.day()%7?g:g-7)):this.day()||7:null!=s?this:NaN;var l,g},Q.dayOfYear=function(s){var l=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==s?l:this.add(s-l,"d")},Q.hour=Q.hours=Xe,Q.minute=Q.minutes=Zn,Q.second=Q.seconds=Ln,Q.millisecond=Q.milliseconds=de,Q.utcOffset=function(s,l,g){var y,S=this._offset||0;if(!this.isValid())return null!=s?this:NaN;if(null==s)return this._isUTC?S:Je(this);if("string"==typeof s){if(null===(s=Yr(Wn,s)))return this}else Math.abs(s)<16&&!g&&(s*=60);return!this._isUTC&&l&&(y=Je(this)),this._offset=s,this._isUTC=!0,null!=y&&this.add(y,"m"),S!==s&&(!l||this._changeInProgress?ci(this,qe(s-S,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,F.updateOffset(this,!0),this._changeInProgress=null)),this},Q.utc=function(s){return this.utcOffset(0,s)},Q.local=function(s){return this._isUTC&&(this.utcOffset(0,s),this._isUTC=!1,s&&this.subtract(Je(this),"m")),this},Q.parseZone=function(){var s;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(s=Yr(Cr,this._i))?this.utcOffset(s):this.utcOffset(0,!0)),this},Q.hasAlignedHourOffset=function(s){return!!this.isValid()&&(s=s?Vt(s).utcOffset():0,(this.utcOffset()-s)%60==0)},Q.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Q.isLocal=function(){return!!this.isValid()&&!this._isUTC},Q.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Q.isUtc=Vr,Q.isUTC=Vr,Q.zoneAbbr=function(){return this._isUTC?"UTC":""},Q.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Q.dates=ve("dates accessor is deprecated. Use date instead.",Ce),Q.months=ve("months accessor is deprecated. Use month instead",Qt),Q.years=ve("years accessor is deprecated. Use year instead",Ye),Q.zone=ve("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(s,l){return null!=s?(this.utcOffset(s="string"!=typeof s?-s:s,l),this):-this.utcOffset()}),Q.isDSTShifted=ve("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!Mt(this._isDSTShifted))return this._isDSTShifted;var s,l={};return _e(l,this),(l=yr(l))._a?(s=(l._isUTC?Rt:Vt)(l._a),this._isDSTShifted=this.isValid()&&0<function(g,y,S){for(var P=Math.min(g.length,y.length),U=Math.abs(g.length-y.length),V=0,ot=0;ot<P;ot++)_t(g[ot])!==_t(y[ot])&&V++;return V+U}(l._a,s.toArray())):this._isDSTShifted=!1,this._isDSTShifted}),(mt=Mn.prototype).calendar=function(s,l,g){return ye(s=this._calendar[s]||this._calendar.sameElse)?s.call(l,g):s},mt.longDateFormat=function(s){var l=this._longDateFormat[s],g=this._longDateFormat[s.toUpperCase()];return l||!g?l:(this._longDateFormat[s]=g.match(kt).map(function(y){return"MMMM"===y||"MM"===y||"DD"===y||"dddd"===y?y.slice(1):y}).join(""),this._longDateFormat[s])},mt.invalidDate=function(){return this._invalidDate},mt.ordinal=function(s){return this._ordinal.replace("%d",s)},mt.preparse=N,mt.postformat=N,mt.relativeTime=function(s,l,g,y){var S=this._relativeTime[g];return ye(S)?S(s,l,g,y):S.replace(/%d/i,s)},mt.pastFuture=function(s,l){return ye(s=this._relativeTime[0<s?"future":"past"])?s(l):s.replace(/%s/i,l)},mt.set=function(s){var l,g;for(g in s)rt(s,g)&&(ye(l=s[g])?this[g]=l:this["_"+g]=l);this._config=s,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},mt.eras=function(s,l){for(var g,y=this._eras||We("en")._eras,S=0,P=y.length;S<P;++S)switch("string"==typeof y[S].since&&(g=F(y[S].since).startOf("day"),y[S].since=g.valueOf()),typeof y[S].until){case"undefined":y[S].until=1/0;break;case"string":g=F(y[S].until).startOf("day").valueOf(),y[S].until=g.valueOf()}return y},mt.erasParse=function(s,l,g){var y,S,P,U,V,ot=this.eras();for(s=s.toUpperCase(),y=0,S=ot.length;y<S;++y)if(P=ot[y].name.toUpperCase(),U=ot[y].abbr.toUpperCase(),V=ot[y].narrow.toUpperCase(),g)switch(l){case"N":case"NN":case"NNN":if(U===s)return ot[y];break;case"NNNN":if(P===s)return ot[y];break;case"NNNNN":if(V===s)return ot[y]}else if(0<=[P,U,V].indexOf(s))return ot[y]},mt.erasConvertYear=function(s,l){var g=s.since<=s.until?1:-1;return void 0===l?F(s.since).year():F(s.since).year()+(l-s.offset)*g},mt.erasAbbrRegex=function(s){return rt(this,"_erasAbbrRegex")||_n.call(this),s?this._erasAbbrRegex:this._erasRegex},mt.erasNameRegex=function(s){return rt(this,"_erasNameRegex")||_n.call(this),s?this._erasNameRegex:this._erasRegex},mt.erasNarrowRegex=function(s){return rt(this,"_erasNarrowRegex")||_n.call(this),s?this._erasNarrowRegex:this._erasRegex},mt.months=function(s,l){return s?(Z(this._months)?this._months:this._months[(this._months.isFormat||Sn).test(l)?"format":"standalone"])[s.month()]:Z(this._months)?this._months:this._months.standalone},mt.monthsShort=function(s,l){return s?(Z(this._monthsShort)?this._monthsShort:this._monthsShort[Sn.test(l)?"format":"standalone"])[s.month()]:Z(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},mt.monthsParse=function(s,l,g){var y,S;if(this._monthsParseExact)return function(bt,U,V){var ot,et,xt;if(bt=bt.toLocaleLowerCase(),!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],ot=0;ot<12;++ot)xt=Rt([2e3,ot]),this._shortMonthsParse[ot]=this.monthsShort(xt,"").toLocaleLowerCase(),this._longMonthsParse[ot]=this.months(xt,"").toLocaleLowerCase();return V?"MMM"===U?-1!==(et=Ht.call(this._shortMonthsParse,bt))?et:null:-1!==(et=Ht.call(this._longMonthsParse,bt))?et:null:"MMM"===U?-1!==(et=Ht.call(this._shortMonthsParse,bt))||-1!==(et=Ht.call(this._longMonthsParse,bt))?et:null:-1!==(et=Ht.call(this._longMonthsParse,bt))||-1!==(et=Ht.call(this._shortMonthsParse,bt))?et:null}.call(this,s,l,g);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),y=0;y<12;y++)if(S=Rt([2e3,y]),g&&!this._longMonthsParse[y]&&(this._longMonthsParse[y]=new RegExp("^"+this.months(S,"").replace(".","")+"$","i"),this._shortMonthsParse[y]=new RegExp("^"+this.monthsShort(S,"").replace(".","")+"$","i")),g||this._monthsParse[y]||(S="^"+this.months(S,"")+"|^"+this.monthsShort(S,""),this._monthsParse[y]=new RegExp(S.replace(".",""),"i")),g&&"MMMM"===l&&this._longMonthsParse[y].test(s)||g&&"MMM"===l&&this._shortMonthsParse[y].test(s)||!g&&this._monthsParse[y].test(s))return y},mt.monthsRegex=function(s){return this._monthsParseExact?(rt(this,"_monthsRegex")||pt.call(this),s?this._monthsStrictRegex:this._monthsRegex):(rt(this,"_monthsRegex")||(this._monthsRegex=De),this._monthsStrictRegex&&s?this._monthsStrictRegex:this._monthsRegex)},mt.monthsShortRegex=function(s){return this._monthsParseExact?(rt(this,"_monthsRegex")||pt.call(this),s?this._monthsShortStrictRegex:this._monthsShortRegex):(rt(this,"_monthsShortRegex")||(this._monthsShortRegex=wt),this._monthsShortStrictRegex&&s?this._monthsShortStrictRegex:this._monthsShortRegex)},mt.week=function(s){return er(s,this._week.dow,this._week.doy).week},mt.firstDayOfYear=function(){return this._week.doy},mt.firstDayOfWeek=function(){return this._week.dow},mt.weekdays=function(s,l){return l=Z(this._weekdays)?this._weekdays:this._weekdays[s&&!0!==s&&this._weekdays.isFormat.test(l)?"format":"standalone"],!0===s?Tr(l,this._week.dow):s?l[s.day()]:l},mt.weekdaysMin=function(s){return!0===s?Tr(this._weekdaysMin,this._week.dow):s?this._weekdaysMin[s.day()]:this._weekdaysMin},mt.weekdaysShort=function(s){return!0===s?Tr(this._weekdaysShort,this._week.dow):s?this._weekdaysShort[s.day()]:this._weekdaysShort},mt.weekdaysParse=function(s,l,g){var y,S;if(this._weekdaysParseExact)return function(bt,U,V){var ot,et,xt;if(bt=bt.toLocaleLowerCase(),!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],ot=0;ot<7;++ot)xt=Rt([2e3,1]).day(ot),this._minWeekdaysParse[ot]=this.weekdaysMin(xt,"").toLocaleLowerCase(),this._shortWeekdaysParse[ot]=this.weekdaysShort(xt,"").toLocaleLowerCase(),this._weekdaysParse[ot]=this.weekdays(xt,"").toLocaleLowerCase();return V?"dddd"===U?-1!==(et=Ht.call(this._weekdaysParse,bt))?et:null:"ddd"===U?-1!==(et=Ht.call(this._shortWeekdaysParse,bt))?et:null:-1!==(et=Ht.call(this._minWeekdaysParse,bt))?et:null:"dddd"===U?-1!==(et=Ht.call(this._weekdaysParse,bt))||-1!==(et=Ht.call(this._shortWeekdaysParse,bt))||-1!==(et=Ht.call(this._minWeekdaysParse,bt))?et:null:"ddd"===U?-1!==(et=Ht.call(this._shortWeekdaysParse,bt))||-1!==(et=Ht.call(this._weekdaysParse,bt))||-1!==(et=Ht.call(this._minWeekdaysParse,bt))?et:null:-1!==(et=Ht.call(this._minWeekdaysParse,bt))||-1!==(et=Ht.call(this._weekdaysParse,bt))||-1!==(et=Ht.call(this._shortWeekdaysParse,bt))?et:null}.call(this,s,l,g);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),y=0;y<7;y++)if(S=Rt([2e3,1]).day(y),g&&!this._fullWeekdaysParse[y]&&(this._fullWeekdaysParse[y]=new RegExp("^"+this.weekdays(S,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[y]=new RegExp("^"+this.weekdaysShort(S,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[y]=new RegExp("^"+this.weekdaysMin(S,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[y]||(S="^"+this.weekdays(S,"")+"|^"+this.weekdaysShort(S,"")+"|^"+this.weekdaysMin(S,""),this._weekdaysParse[y]=new RegExp(S.replace(".",""),"i")),g&&"dddd"===l&&this._fullWeekdaysParse[y].test(s)||g&&"ddd"===l&&this._shortWeekdaysParse[y].test(s)||g&&"dd"===l&&this._minWeekdaysParse[y].test(s)||!g&&this._weekdaysParse[y].test(s))return y},mt.weekdaysRegex=function(s){return this._weekdaysParseExact?(rt(this,"_weekdaysRegex")||nr.call(this),s?this._weekdaysStrictRegex:this._weekdaysRegex):(rt(this,"_weekdaysRegex")||(this._weekdaysRegex=si),this._weekdaysStrictRegex&&s?this._weekdaysStrictRegex:this._weekdaysRegex)},mt.weekdaysShortRegex=function(s){return this._weekdaysParseExact?(rt(this,"_weekdaysRegex")||nr.call(this),s?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(rt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=oi),this._weekdaysShortStrictRegex&&s?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},mt.weekdaysMinRegex=function(s){return this._weekdaysParseExact?(rt(this,"_weekdaysRegex")||nr.call(this),s?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(rt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=gr),this._weekdaysMinStrictRegex&&s?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},mt.isPM=function(s){return"p"===(s+"").toLowerCase().charAt(0)},mt.meridiem=function(s,l,g){return 11<s?g?"pm":"PM":g?"am":"AM"},yn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(s){var l=s%10;return s+(1===_t(s%100/10)?"th":1==l?"st":2==l?"nd":3==l?"rd":"th")}}),F.lang=ve("moment.lang is deprecated. Use moment.locale instead.",yn),F.langData=ve("moment.langData is deprecated. Use moment.localeData instead.",We);var q=Math.abs;function it(s,l,g,y){return l=qe(l,g),s._milliseconds+=y*l._milliseconds,s._days+=y*l._days,s._months+=y*l._months,s._bubble()}function ft(s){return s<0?Math.floor(s):Math.ceil(s)}function Lt(s){return 4800*s/146097}function Gt(s){return 146097*s/4800}function re(s){return function(){return this.as(s)}}function fe(s){return function(){return this.isValid()?this._data[s]:NaN}}Ze=re("ms"),At=re("s"),Ke=re("m"),on=re("h"),Un=re("d"),Cn=re("w"),Xe=re("M"),Zn=re("Q"),Ln=re("y"),de=fe("milliseconds"),Ce=fe("seconds"),Ye=fe("minutes"),mt=fe("hours");var Re=fe("days"),Pn=fe("months"),Mr=fe("years"),Be=Math.round,Ie={ss:44,s:45,m:45,h:22,d:26,w:null,M:11},Zr=Math.abs;function xr(s){return(0<s)-(s<0)||+s}function kr(){if(!this.isValid())return this.localeData().invalidDate();var s,l,g,y,S,P,U,V=Zr(this._milliseconds)/1e3,ot=Zr(this._days),et=Zr(this._months),xt=this.asSeconds();return xt?(s=ne(V/60),l=ne(s/60),V%=60,s%=60,g=ne(et/12),et%=12,y=V?V.toFixed(3).replace(/\.?0+$/,""):"",S=xr(this._months)!==xr(xt)?"-":"",P=xr(this._days)!==xr(xt)?"-":"",U=xr(this._milliseconds)!==xr(xt)?"-":"",(xt<0?"-":"")+"P"+(g?S+g+"Y":"")+(et?S+et+"M":"")+(ot?P+ot+"D":"")+(l||s||V?"T":"")+(l?U+l+"H":"")+(s?U+s+"M":"")+(V?U+y+"S":"")):"P0D"}var Dt=br.prototype;return Dt.isValid=function(){return this._isValid},Dt.abs=function(){var s=this._data;return this._milliseconds=q(this._milliseconds),this._days=q(this._days),this._months=q(this._months),s.milliseconds=q(s.milliseconds),s.seconds=q(s.seconds),s.minutes=q(s.minutes),s.hours=q(s.hours),s.months=q(s.months),s.years=q(s.years),this},Dt.add=function(s,l){return it(this,s,l,1)},Dt.subtract=function(s,l){return it(this,s,l,-1)},Dt.as=function(s){if(!this.isValid())return NaN;var l,g,y=this._milliseconds;if("month"===(s=zt(s))||"quarter"===s||"year"===s)switch(l=this._days+y/864e5,g=this._months+Lt(l),s){case"month":return g;case"quarter":return g/3;case"year":return g/12}else switch(l=this._days+Math.round(Gt(this._months)),s){case"week":return l/7+y/6048e5;case"day":return l+y/864e5;case"hour":return 24*l+y/36e5;case"minute":return 1440*l+y/6e4;case"second":return 86400*l+y/1e3;case"millisecond":return Math.floor(864e5*l)+y;default:throw new Error("Unknown unit "+s)}},Dt.asMilliseconds=Ze,Dt.asSeconds=At,Dt.asMinutes=Ke,Dt.asHours=on,Dt.asDays=Un,Dt.asWeeks=Cn,Dt.asMonths=Xe,Dt.asQuarters=Zn,Dt.asYears=Ln,Dt.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_t(this._months/12):NaN},Dt._bubble=function(){var s=this._milliseconds,l=this._days,g=this._months,y=this._data;return 0<=s&&0<=l&&0<=g||s<=0&&l<=0&&g<=0||(s+=864e5*ft(Gt(g)+l),g=l=0),y.milliseconds=s%1e3,s=ne(s/1e3),y.seconds=s%60,s=ne(s/60),y.minutes=s%60,s=ne(s/60),y.hours=s%24,l+=ne(s/24),g+=s=ne(Lt(l)),l-=ft(Gt(s)),s=ne(g/12),g%=12,y.days=l,y.months=g,y.years=s,this},Dt.clone=function(){return qe(this)},Dt.get=function(s){return s=zt(s),this.isValid()?this[s+"s"]():NaN},Dt.milliseconds=de,Dt.seconds=Ce,Dt.minutes=Ye,Dt.hours=mt,Dt.days=Re,Dt.weeks=function(){return ne(this.days()/7)},Dt.months=Pn,Dt.years=Mr,Dt.humanize=function(s,l){if(!this.isValid())return this.localeData().invalidDate();var g=!1,y=Ie;return"object"==typeof s&&(l=s,s=!1),"boolean"==typeof s&&(g=s),"object"==typeof l&&(y=Object.assign({},Ie,l),null!=l.s&&null==l.ss&&(y.ss=l.s-1)),l=function hi(s,l,g,y){var et=qe(s).abs(),xt=Be(et.as("s")),S=Be(et.as("m")),P=Be(et.as("h")),U=Be(et.as("d")),V=Be(et.as("M")),ot=Be(et.as("w"));return et=Be(et.as("y")),xt=(xt<=g.ss?["s",xt]:xt<g.s&&["ss",xt])||S<=1&&["m"]||S<g.m&&["mm",S]||P<=1&&["h"]||P<g.h&&["hh",P]||U<=1&&["d"]||U<g.d&&["dd",U],(xt=(xt=null!=g.w?xt||ot<=1&&["w"]||ot<g.w&&["ww",ot]:xt)||V<=1&&["M"]||V<g.M&&["MM",V]||et<=1&&["y"]||["yy",et])[2]=l,xt[3]=0<+s,xt[4]=y,function(bt,$t,te,pe,Yn){return Yn.relativeTime($t||1,!!te,bt,pe)}.apply(null,xt)}(this,!g,y,s=this.localeData()),g&&(l=s.pastFuture(+this,l)),s.postformat(l)},Dt.toISOString=kr,Dt.toString=kr,Dt.toJSON=kr,Dt.locale=dn,Dt.localeData=en,Dt.toIsoString=ve("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",kr),Dt.lang=Bn,at("X",0,0,"unix"),at("x",0,0,"valueOf"),ct("x",an),ct("X",/[+-]?\d+(\.\d{1,3})?/),Nt("X",function(s,l,g){g._d=new Date(1e3*parseFloat(s))}),Nt("x",function(s,l,g){g._d=new Date(_t(s))}),F.version="2.29.4",m=Vt,F.fn=Q,F.min=function(){return $n("isBefore",[].slice.call(arguments,0))},F.max=function(){return $n("isAfter",[].slice.call(arguments,0))},F.now=function(){return Date.now?Date.now():+new Date},F.utc=Rt,F.unix=function(s){return Vt(1e3*s)},F.months=function(s,l){return v(s,l,"months")},F.isDate=It,F.locale=yn,F.invalid=le,F.duration=qe,F.isMoment=se,F.weekdays=function(s,l,g){return T(s,l,g,"weekdays")},F.parseZone=function(){return Vt.apply(null,arguments).parseZone()},F.localeData=We,F.isDuration=Dn,F.monthsShort=function(s,l){return v(s,l,"monthsShort")},F.weekdaysMin=function(s,l,g){return T(s,l,g,"weekdaysMin")},F.defineLocale=fn,F.updateLocale=function(s,l){var g,y;return null!=l?(y=Le,null!=Bt[s]&&null!=Bt[s].parentLocale?Bt[s].set(Hn(Bt[s]._config,l)):(l=Hn(y=null!=(g=_r(s))?g._config:y,l),null==g&&(l.abbr=s),(y=new Mn(l)).parentLocale=Bt[s],Bt[s]=y),yn(s)):null!=Bt[s]&&(null!=Bt[s].parentLocale?(Bt[s]=Bt[s].parentLocale,s===yn()&&yn(s)):null!=Bt[s]&&delete Bt[s]),Bt[s]},F.locales=function(){return hr(Bt)},F.weekdaysShort=function(s,l,g){return T(s,l,g,"weekdaysShort")},F.normalizeUnits=zt,F.relativeTimeRounding=function(s){return void 0===s?Be:"function"==typeof s&&(Be=s,!0)},F.relativeTimeThreshold=function(s,l){return void 0!==Ie[s]&&(void 0===l?Ie[s]:(Ie[s]=l,"s"===s&&(Ie.ss=l-1),!0))},F.calendarFormat=function(s,l){return(s=s.diff(l,"days",!0))<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"},F.prototype=Q,F.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},F}),function(){var m={version:"3.5.16"},F=[].slice,Z=function(t){return F.call(t)},K=this.document;function rt(t){return t&&(t.ownerDocument||t.document||t).documentElement}function gt(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(K)try{Z(K.documentElement.childNodes)}catch(t){Z=function(e){for(var n=e.length,r=new Array(n);n--;)r[n]=e[n];return r}}if(Date.now||(Date.now=function(){return+new Date}),K)try{K.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var Mt=this.Element.prototype,Yt=Mt.setAttribute,It=Mt.setAttributeNS,Jt=this.CSSStyleDeclaration.prototype,ie=Jt.setProperty;Mt.setAttribute=function(e,n){Yt.call(this,e,n+"")},Mt.setAttributeNS=function(e,n,r){It.call(this,e,n,r+"")},Jt.setProperty=function(e,n,r){ie.call(this,e,n+"",r)}}function Rt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function dt(t){return null===t?NaN:+t}function ue(t){return!isNaN(t)}function le(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}m.ascending=Rt,m.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},m.min=function(t,e){var i,o,n=-1,r=t.length;if(1===arguments.length){for(;++n<r;)if(null!=(o=t[n])&&o>=o){i=o;break}for(;++n<r;)null!=(o=t[n])&&i>o&&(i=o)}else{for(;++n<r;)if(null!=(o=e.call(t,t[n],n))&&o>=o){i=o;break}for(;++n<r;)null!=(o=e.call(t,t[n],n))&&i>o&&(i=o)}return i},m.max=function(t,e){var i,o,n=-1,r=t.length;if(1===arguments.length){for(;++n<r;)if(null!=(o=t[n])&&o>=o){i=o;break}for(;++n<r;)null!=(o=t[n])&&o>i&&(i=o)}else{for(;++n<r;)if(null!=(o=e.call(t,t[n],n))&&o>=o){i=o;break}for(;++n<r;)null!=(o=e.call(t,t[n],n))&&o>i&&(i=o)}return i},m.extent=function(t,e){var i,o,u,n=-1,r=t.length;if(1===arguments.length){for(;++n<r;)if(null!=(o=t[n])&&o>=o){i=u=o;break}for(;++n<r;)null!=(o=t[n])&&(i>o&&(i=o),u<o&&(u=o))}else{for(;++n<r;)if(null!=(o=e.call(t,t[n],n))&&o>=o){i=u=o;break}for(;++n<r;)null!=(o=e.call(t,t[n],n))&&(i>o&&(i=o),u<o&&(u=o))}return[i,u]},m.sum=function(t,e){var i,n=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)ue(i=+t[o])&&(n+=i);else for(;++o<r;)ue(i=+e.call(t,t[o],o))&&(n+=i);return n},m.mean=function(t,e){var i,n=0,r=t.length,o=-1,u=r;if(1===arguments.length)for(;++o<r;)ue(i=dt(t[o]))?n+=i:--u;else for(;++o<r;)ue(i=dt(e.call(t,t[o],o)))?n+=i:--u;if(u)return n/u},m.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},m.median=function(t,e){var i,n=[],r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)ue(i=dt(t[o]))&&n.push(i);else for(;++o<r;)ue(i=dt(e.call(t,t[o],o)))&&n.push(i);if(n.length)return m.quantile(n.sort(Rt),.5)},m.variance=function(t,e){var i,o,n=t.length,r=0,u=0,a=-1,c=0;if(1===arguments.length)for(;++a<n;)ue(i=dt(t[a]))&&(u+=(o=i-r)*(i-(r+=o/++c)));else for(;++a<n;)ue(i=dt(e.call(t,t[a],a)))&&(u+=(o=i-r)*(i-(r+=o/++c)));if(c>1)return u/(c-1)},m.deviation=function(){var t=m.variance.apply(this,arguments);return t&&Math.sqrt(t)};var sn=le(Rt);function Ne(t){return t.length}m.bisectLeft=sn.left,m.bisect=m.bisectRight=sn.right,m.bisector=function(t){return le(1===t.length?function(e,n){return Rt(t(e),n)}:t)},m.shuffle=function(t,e,n){(r=arguments.length)<3&&(n=t.length,r<2&&(e=0));for(var i,o,r=n-e;r;)o=Math.random()*r--|0,i=t[r+e],t[r+e]=t[o+e],t[o+e]=i;return t},m.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},m.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);e<n;)o[e]=[i,i=t[++e]];return o},m.transpose=function(t){if(!(o=t.length))return[];for(var e=-1,n=m.min(t,Ne),r=new Array(n);++e<n;)for(var o,i=-1,u=r[e]=new Array(o);++i<o;)u[i]=t[i][e];return r},m.zip=function(){return m.transpose(arguments)},m.keys=function(t){var e=[];for(var n in t)e.push(n);return e},m.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},m.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},m.merge=function(t){for(var n,o,u,e=t.length,r=-1,i=0;++r<e;)i+=t[r].length;for(o=new Array(i);--e>=0;)for(n=(u=t[e]).length;--n>=0;)o[--i]=u[n];return o};var ht=Math.abs;function _e(t){for(var e=1;t*e%1;)e*=10;return e}function we(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function se(){this._=Object.create(null)}function wn(t){return"__proto__"==(t+="")||"\0"===t[0]?"\0"+t:t}function Fn(t){return"\0"===(t+="")[0]?t.slice(1):t}function ye(t){return wn(t)in this._}function Hn(t){return(t=wn(t))in this._&&delete this._[t]}function Mn(){var t=[];for(var e in this._)t.push(Fn(e));return t}function hr(){var t=0;for(var e in this._)++t;return t}function Tt(){for(var t in this._)return!1;return!0}function kt(){this._=Object.create(null)}function lt(t){return t}function yt(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function Ot(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=at.length;n<r;++n){var i=at[n]+e;if(i in t)return i}}m.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var u,r=[],i=_e(ht(n)),o=-1;if(t*=i,e*=i,(n*=i)<0)for(;(u=t+n*++o)>e;)r.push(u/i);else for(;(u=t+n*++o)<e;)r.push(u/i);return r},m.map=function(t,e){var n=new se;if(t instanceof se)t.forEach(function(a,c){n.set(a,c)});else if(Array.isArray(t)){var o,r=-1,i=t.length;if(1===arguments.length)for(;++r<i;)n.set(r,t[r]);else for(;++r<i;)n.set(e.call(t,o=t[r],r),o)}else for(var u in t)n.set(u,t[u]);return n},we(se,{has:ye,get:function(t){return this._[wn(t)]},set:function(t,e){return this._[wn(t)]=e},remove:Hn,keys:Mn,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:Fn(e),value:this._[e]});return t},size:hr,empty:Tt,forEach:function(t){for(var e in this._)t.call(this,Fn(e),this._[e])}}),m.nest=function(){var r,i,t={},e=[],n=[];function o(a,c,f){if(f>=e.length)return i?i.call(t,c):r?c.sort(r):c;for(var M,E,b,x,d=-1,_=c.length,p=e[f++],w=new se;++d<_;)(x=w.get(M=p(E=c[d])))?x.push(E):w.set(M,[E]);return a?(E=a(),b=function(A,k){E.set(A,o(a,k,f))}):(E={},b=function(A,k){E[A]=o(a,k,f)}),w.forEach(b),E}function u(a,c){if(c>=e.length)return a;var f=[],d=n[c++];return a.forEach(function(_,p){f.push({key:_,values:u(p,c)})}),d?f.sort(function(_,p){return d(_.key,p.key)}):f}return t.map=function(a,c){return o(c,a,0)},t.entries=function(a){return u(o(m.map,a,0),0)},t.key=function(a){return e.push(a),t},t.sortKeys=function(a){return n[e.length-1]=a,t},t.sortValues=function(a){return r=a,t},t.rollup=function(a){return i=a,t},t},m.set=function(t){var e=new kt;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},we(kt,{has:ye,add:function(t){return this._[wn(t+="")]=!0,t},remove:Hn,values:Mn,size:hr,empty:Tt,forEach:function(t){for(var e in this._)t.call(this,Fn(e))}}),m.behavior={},m.rebind=function(t,e){for(var i,n=1,r=arguments.length;++n<r;)t[i=arguments[n]]=yt(t,e,e[i]);return t};var at=["webkit","ms","moz","Moz","o","O"];function Pt(){}function ee(){}function z(t){var e=[],n=new se;function r(){for(var a,i=e,o=-1,u=i.length;++o<u;)(a=i[o].on)&&a.apply(this,arguments);return t}return r.on=function(i,o){var a,u=n.get(i);return arguments.length<2?u&&u.on:(u&&(u.on=null,e=e.slice(0,a=e.indexOf(u)).concat(e.slice(a+1)),n.remove(i)),o&&e.push(n.set(i,{on:o})),t)},r}function Et(){m.event.preventDefault()}function zt(){for(var e,t=m.event;e=t.sourceEvent;)t=e;return t}function Me(t){for(var e=new ee,n=0,r=arguments.length;++n<r;)e[arguments[n]]=z(e);return e.of=function(i,o){return function(u){try{var a=u.sourceEvent=m.event;u.target=t,m.event=u,e[u.type].apply(i,o)}finally{m.event=a}}},e}m.dispatch=function(){for(var t=new ee,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=z(t);return t},ee.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},m.event=null,m.requote=function(t){return t.replace(Ae,"\\$&")};var Ae=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Xt={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function oe(t){return Xt(t,Ct),t}var ne=function(t,e){return e.querySelector(t)},_t=function(t,e){return e.querySelectorAll(t)},ce=function(t,e){var n=t.matches||t[Ot(t,"matchesSelector")];return(ce=function(r,i){return n.call(r,i)})(t,e)};"function"==typeof Sizzle&&(ne=function(t,e){return Sizzle(t,e)[0]||null},_t=Sizzle,ce=Sizzle.matchesSelector),m.selection=function(){return m.select(K.documentElement)};var Ct=m.selection.prototype=[];function fr(t){return"function"==typeof t?t:function(){return ne(t,this)}}function Q(t){return"function"==typeof t?t:function(){return _t(t,this)}}Ct.select=function(t){var n,r,i,o,e=[];t=fr(t);for(var u=-1,a=this.length;++u<a;){e.push(n=[]),n.parentNode=(i=this[u]).parentNode;for(var c=-1,f=i.length;++c<f;)(o=i[c])?(n.push(r=t.call(o,o.__data__,c,u)),r&&"__data__"in o&&(r.__data__=o.__data__)):n.push(null)}return oe(e)},Ct.selectAll=function(t){var n,r,e=[];t=Q(t);for(var i=-1,o=this.length;++i<o;)for(var u=this[i],a=-1,c=u.length;++a<c;)(r=u[a])&&(e.push(n=Z(t.call(r,r.__data__,a,i))),n.parentNode=r);return oe(e)};var At="http://www.w3.org/1999/xhtml",qt={svg:"http://www.w3.org/2000/svg",xhtml:At,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Un(t,e){return t=m.ns.qualify(t),null==e?t.local?function r(){this.removeAttributeNS(t.space,t.local)}:function n(){this.removeAttribute(t)}:"function"==typeof e?t.local?function a(){var c=e.apply(this,arguments);null==c?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,c)}:function u(){var c=e.apply(this,arguments);null==c?this.removeAttribute(t):this.setAttribute(t,c)}:t.local?function o(){this.setAttributeNS(t.space,t.local,e)}:function i(){this.setAttribute(t,e)}}function on(t){return t.trim().replace(/\s+/g," ")}function Ze(t){return new RegExp("(?:^|\\s+)"+m.requote(t)+"(?:\\s+|$)","g")}function Fe(t){return(t+"").trim().split(/^|\s+/)}function an(t,e){var n=(t=Fe(t).map(Cr)).length;return"function"==typeof e?function i(){for(var o=-1,u=e.apply(this,arguments);++o<n;)t[o](this,u)}:function r(){for(var o=-1;++o<n;)t[o](this,e)}}function Cr(t){var e=Ze(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",on(i+" "+t))):n.setAttribute("class",on(i.replace(e," ")))}}function Wn(t,e,n){return null==e?function r(){this.style.removeProperty(t)}:"function"==typeof e?function o(){var u=e.apply(this,arguments);null==u?this.style.removeProperty(t):this.style.setProperty(t,u,n)}:function i(){this.style.setProperty(t,e,n)}}function Xe(t,e){return null==e?function n(){delete this[t]}:"function"==typeof e?function i(){var o=e.apply(this,arguments);null==o?delete this[t]:this[t]=o}:function r(){this[t]=e}}function ct(t){return"function"==typeof t?t:(t=m.ns.qualify(t)).local?function n(){return this.ownerDocument.createElementNS(t.space,t.local)}:function e(){var r=this.ownerDocument,i=this.namespaceURI;return i===At&&r.documentElement.namespaceURI===At?r.createElement(t):r.createElementNS(i,t)}}function ki(){var t=this.parentNode;t&&t.removeChild(this)}function xe(t){return{__data__:t}}function Ar(t){return function(){return ce(this,t)}}function xn(t){return arguments.length||(t=Rt),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function Nt(t,e){for(var n=0,r=t.length;n<r;n++)for(var a,i=t[n],o=0,u=i.length;o<u;o++)(a=i[o])&&e(a,o,n);return t}function vn(t){return Xt(t,Ht),t}m.ns={prefix:qt,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),qt.hasOwnProperty(n)?{space:qt[n],local:t}:t}},Ct.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=m.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(Un(e,t[e]));return this}return this.each(Un(t,e))},Ct.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=Fe(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!Ze(t[i]).test(e))return!1;return!0}for(e in t)this.each(an(e,t[e]));return this}return this.each(an(t,e))},Ct.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(Wn(n,t[n],e));return this}if(r<2){var i=this.node();return gt(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(Wn(t,e,n))},Ct.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(Xe(e,t[e]));return this}return this.each(Xe(t,e))},Ct.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Ct.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Ct.append=function(t){return t=ct(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Ct.insert=function(t,e){return t=ct(t),e=fr(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Ct.remove=function(){return this.each(ki)},Ct.data=function(t,e){var i,o,n=-1,r=this.length;if(!arguments.length){for(t=new Array(r=(i=this[0]).length);++n<r;)(o=i[n])&&(t[n]=o.__data__);return t}function u(d,_){var p,k,C,M=d.length,E=_.length,b=Math.min(M,E),w=new Array(E),x=new Array(E),A=new Array(M);if(e){var L,Y=new se,O=new Array(M);for(p=-1;++p<M;)(k=d[p])&&(Y.has(L=e.call(k,k.__data__,p))?A[p]=k:Y.set(L,k),O[p]=L);for(p=-1;++p<E;)(k=Y.get(L=e.call(_,C=_[p],p)))?!0!==k&&(w[p]=k,k.__data__=C):x[p]=xe(C),Y.set(L,!0);for(p=-1;++p<M;)p in O&&!0!==Y.get(O[p])&&(A[p]=d[p])}else{for(p=-1;++p<b;)C=_[p],(k=d[p])?(k.__data__=C,w[p]=k):x[p]=xe(C);for(;p<E;++p)x[p]=xe(_[p]);for(;p<M;++p)A[p]=d[p]}x.update=w,x.parentNode=w.parentNode=A.parentNode=d.parentNode,a.push(x),c.push(w),f.push(A)}var a=vn([]),c=oe([]),f=oe([]);if("function"==typeof t)for(;++n<r;)u(i=this[n],t.call(i,i.parentNode.__data__,n));else for(;++n<r;)u(i=this[n],t);return c.enter=function(){return a},c.exit=function(){return f},c},Ct.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ct.filter=function(t){var n,r,i,e=[];"function"!=typeof t&&(t=Ar(t));for(var o=0,u=this.length;o<u;o++){e.push(n=[]),n.parentNode=(r=this[o]).parentNode;for(var a=0,c=r.length;a<c;a++)(i=r[a])&&t.call(i,i.__data__,a,o)&&n.push(i)}return oe(e)},Ct.order=function(){for(var t=-1,e=this.length;++t<e;)for(var o,n=this[t],r=n.length-1,i=n[r];--r>=0;)(o=n[r])&&(i&&i!==o.nextSibling&&i.parentNode.insertBefore(o,i),i=o);return this},Ct.sort=function(t){t=xn.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Ct.each=function(t){return Nt(this,function(e,n,r){t.call(e,e.__data__,n,r)})},Ct.call=function(t){var e=Z(arguments);return t.apply(e[0]=this,e),this},Ct.empty=function(){return!this.node()},Ct.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},Ct.size=function(){var t=0;return Nt(this,function(){++t}),t};var Ht=[];function ge(t){var e,n;return function(r,i,o){var c,u=t[o].update,a=u.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(c=u[e])&&++e<a;);return c}}function un(t,e,n){var r="__on"+t,i=t.indexOf("."),o=Kt;i>0&&(t=t.slice(0,i));var u=He.get(t);function a(){var d=this[r];d&&(this.removeEventListener(t,d,d.$),delete this[r])}return u&&(t=u,o=Ue),i?e?function c(){var d=o(e,Z(arguments));a.call(this),this.addEventListener(t,this[r]=d,d.$=n),d._=e}:a:e?Pt:function f(){var _,d=new RegExp("^__on([^.]+)"+m.requote(t)+"$");for(var p in this)if(_=p.match(d)){var M=this[p];this.removeEventListener(_[1],M,M.$),delete this[p]}}}m.selection.enter=vn,m.selection.enter.prototype=Ht,Ht.append=Ct.append,Ht.empty=Ct.empty,Ht.node=Ct.node,Ht.call=Ct.call,Ht.size=Ct.size,Ht.select=function(t){for(var n,r,i,o,u,e=[],a=-1,c=this.length;++a<c;){i=(o=this[a]).update,e.push(n=[]),n.parentNode=o.parentNode;for(var f=-1,d=o.length;++f<d;)(u=o[f])?(n.push(i[f]=r=t.call(o.parentNode,u.__data__,f,a)),r.__data__=u.__data__):n.push(null)}return oe(e)},Ht.insert=function(t,e){return arguments.length<2&&(e=ge(this)),Ct.insert.call(this,t,e)},m.select=function(t){var e;return"string"==typeof t?(e=[ne(t,K)]).parentNode=K.documentElement:(e=[t]).parentNode=rt(t),oe([e])},m.selectAll=function(t){var e;return"string"==typeof t?(e=Z(_t(t,K))).parentNode=K.documentElement:(e=Z(t)).parentNode=null,oe([e])},Ct.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(un(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(un(t,e,n))};var He=m.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Kt(t,e){return function(n){var r=m.event;m.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{m.event=r}}}function Ue(t,e){var n=Kt(t,e);return function(r){var i=this,o=r.relatedTarget;(!o||o!==i&&!(8&o.compareDocumentPosition(i)))&&n.call(i,r)}}K&&He.forEach(function(t){"on"+t in K&&He.remove(t)});var ke,kn=0;function dr(t){var e=".dragsuppress-"+ ++kn,n="click"+e,r=m.select(gt(t)).on("touchmove"+e,Et).on("dragstart"+e,Et).on("selectstart"+e,Et);if(null==ke&&(ke=!("onselectstart"in t)&&Ot(t.style,"userSelect")),ke){var i=rt(t).style,o=i[ke];i[ke]="none"}return function(u){if(r.on(e,null),ke&&(i[ke]=o),u){var a=function(){r.on(n,null)};r.on(n,function(){Et(),a()},!0),setTimeout(a,0)}}}m.mouse=function(t){return ln(t,zt())};var Er=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function ln(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(Er<0){var i=gt(t);if(i.scrollX||i.scrollY){var o=(n=m.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Er=!(o.f||o.e),n.remove()}}return Er?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var u=t.getBoundingClientRect();return[e.clientX-u.left-t.clientLeft,e.clientY-u.top-t.clientTop]}function Ke(){return m.event.changedTouches[0].identifier}m.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=zt().changedTouches),e)for(var o,r=0,i=e.length;r<i;++r)if((o=e[r]).identifier===n)return ln(t,o)},m.behavior.drag=function(){var t=Me(i,"drag","dragstart","dragend"),e=null,n=o(Pt,m.mouse,gt,"mousemove","mouseup"),r=o(Ke,m.touch,lt,"touchmove","touchend");function i(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function o(u,a,c,f,d){return function(){var A,_=this,p=m.event.target.correspondingElement||m.event.target,M=_.parentNode,E=t.of(_,arguments),b=0,w=u(),x=".drag"+(null==w?"":"-"+w),k=m.select(c(p)).on(f+x,O).on(d+x,L),C=dr(p),Y=a(M,w);function O(){var H,j,D=a(M,w);!D||(b|=(H=D[0]-Y[0])|(j=D[1]-Y[1]),Y=D,E({type:"drag",x:D[0]+A[0],y:D[1]+A[1],dx:H,dy:j}))}function L(){!a(M,w)||(k.on(f+x,null).on(d+x,null),C(b),E({type:"dragend"}))}A=e?[(A=e.apply(_,arguments)).x-Y[0],A.y-Y[1]]:[0,0],E({type:"dragstart"})}}return i.origin=function(u){return arguments.length?(e=u,i):e},m.rebind(i,t,"on")},m.touches=function(t,e){return arguments.length<2&&(e=zt().touches),e?Z(e).map(function(n){var r=ln(t,n);return r.identifier=n.identifier,r}):[]};var nt=1e-6,Sn=1e-12,wt=Math.PI,De=2*wt,ri=De-nt,Qt=wt/2,pt=wt/180,Ut=180/wt;function ii(t){return t>0?1:t<0?-1:0}function jn(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Se(t){return t>1?0:t<-1?wt:Math.acos(t)}function cn(t){return t>1?Qt:t<-1?-Qt:Math.asin(t)}function Oe(t){return((t=Math.exp(t))+1/t)/2}function Cn(t){return(t=Math.sin(t/2))*t}var qn=Math.SQRT2;m.interpolateZoom=function(t,e){var _,p,n=t[0],r=t[1],i=t[2],a=e[2],c=e[0]-n,f=e[1]-r,d=c*c+f*f;if(d<Sn)p=Math.log(a/i)/qn,_=function(A){return[n+A*c,r+A*f,i*Math.exp(qn*A*p)]};else{var M=Math.sqrt(d),E=(a*a-i*i+4*d)/(2*i*2*M),b=(a*a-i*i-4*d)/(2*a*2*M),w=Math.log(Math.sqrt(E*E+1)-E),x=Math.log(Math.sqrt(b*b+1)-b);p=(x-w)/qn,_=function(A){var k=A*p,C=Oe(w),Y=i/(2*M)*(C*function Tr(t){return((t=Math.exp(2*t))-1)/(t+1)}(qn*k+w)-function er(t){return((t=Math.exp(t))-1/t)/2}(w));return[n+Y*c,r+Y*f,i*C/Oe(qn*k+w)]}}return _.duration=1e3*p,_},m.behavior.zoom=function(){var e,n,r,_,M,b,w,x,A,t={x:0,y:0,k:1},i=[960,500],o=oi,u=250,a=0,c="mousedown.zoom",f="mousemove.zoom",d="mouseup.zoom",p="touchstart.zoom",E=Me(k,"zoomstart","zoom","zoomend");function k(I){I.on(c,J).on(nr+".zoom",W).on("dblclick.zoom",G).on(p,R)}function C(I){return[(I[0]-t.x)/t.k,(I[1]-t.y)/t.k]}function O(I){t.k=Math.max(o[0],Math.min(o[1],I))}function L(I,B){B=function Y(I){return[I[0]*t.k+t.x,I[1]*t.k+t.y]}(B),t.x+=I[0]-B[0],t.y+=I[1]-B[1]}function D(I,B,ut,vt){I.__chart__={x:t.x,y:t.y,k:t.k},O(Math.pow(2,vt)),L(n=B,ut),I=m.select(I),u>0&&(I=I.transition().duration(u)),I.call(k.event)}function H(){w&&w.domain(b.range().map(function(I){return(I-t.x)/t.k}).map(b.invert)),A&&A.domain(x.range().map(function(I){return(I-t.y)/t.k}).map(x.invert))}function j(I){a++||I({type:"zoomstart"})}function tt(I){H(),I({type:"zoom",scale:t.k,translate:[t.x,t.y]})}function X(I){--a||(I({type:"zoomend"}),n=null)}function J(){var I=this,B=E.of(I,arguments),ut=0,vt=m.select(gt(I)).on(f,Zt).on(d,Ve),St=C(m.mouse(I)),Wt=dr(I);function Zt(){ut=1,L(m.mouse(I),St),tt(B)}function Ve(){vt.on(f,null).on(d,null),Wt(ut),X(B)}os.call(I),j(B)}function R(){var St,I=this,B=E.of(I,arguments),ut={},vt=0,Wt=".zoom-"+m.event.changedTouches[0].identifier,Zt="touchmove"+Wt,Ve="touchend"+Wt,rn=[],Ge=m.select(I),pn=dr(I);function ze(){var Jn=m.touches(I);return St=t.k,Jn.forEach(function(Te){Te.identifier in ut&&(ut[Te.identifier]=C(Te))}),Jn}function mn(){var Jn=m.event.target;m.select(Jn).on(Zt,ei).on(Ve,cc),rn.push(Jn);for(var Te=m.event.changedTouches,In=0,cr=Te.length;In<cr;++In)ut[Te[In].identifier]=null;var zn=ze(),xi=Date.now();if(1===zn.length)xi-M<500&&(D(I,ni=zn[0],ut[ni.identifier],Math.floor(Math.log(t.k)/Math.LN2)+1),Et()),M=xi;else if(zn.length>1){var ni,jr=zn[1],cs=(ni=zn[0])[0]-jr[0],qa=ni[1]-jr[1];vt=cs*cs+qa*qa}}function ei(){var Te,In,cr,zn,Jn=m.touches(I);os.call(I);for(var xi=0,ni=Jn.length;xi<ni;++xi,zn=null)if(zn=ut[(cr=Jn[xi]).identifier]){if(In)break;Te=cr,In=zn}if(zn){var jr=(jr=cr[0]-Te[0])*jr+(jr=cr[1]-Te[1])*jr,cs=vt&&Math.sqrt(jr/vt);Te=[(Te[0]+cr[0])/2,(Te[1]+cr[1])/2],In=[(In[0]+zn[0])/2,(In[1]+zn[1])/2],O(cs*St)}M=null,L(Te,In),tt(B)}function cc(){if(m.event.touches.length){for(var Jn=m.event.changedTouches,Te=0,In=Jn.length;Te<In;++Te)delete ut[Jn[Te].identifier];for(var cr in ut)return void ze()}m.selectAll(rn).on(Wt,null),Ge.on(c,J).on(p,R),pn(),X(B)}mn(),j(B),Ge.on(c,null).on(p,mn)}function W(){var I=E.of(this,arguments);_?clearTimeout(_):(os.call(this),e=C(n=r||m.mouse(this)),j(I)),_=setTimeout(function(){_=null,X(I)},50),Et(),O(Math.pow(2,.002*gr())*t.k),L(n,e),tt(I)}function G(){var I=m.mouse(this),B=Math.log(t.k)/Math.LN2;D(this,I,C(I),m.event.shiftKey?Math.ceil(B)-1:Math.floor(B)+1)}return nr||(nr="onwheel"in K?(gr=function(){return-m.event.deltaY*(m.event.deltaMode?120:1)},"wheel"):"onmousewheel"in K?(gr=function(){return m.event.wheelDelta},"mousewheel"):(gr=function(){return-m.event.detail},"MozMousePixelScroll")),k.event=function(I){I.each(function(){var B=E.of(this,arguments),ut=t;Jr?m.select(this).transition().each("start.zoom",function(){t=this.__chart__||{x:0,y:0,k:1},j(B)}).tween("zoom:zoom",function(){var vt=i[0],Wt=n?n[0]:vt/2,Zt=n?n[1]:i[1]/2,Ve=m.interpolateZoom([(Wt-t.x)/t.k,(Zt-t.y)/t.k,vt/t.k],[(Wt-ut.x)/ut.k,(Zt-ut.y)/ut.k,vt/ut.k]);return function(rn){var Ge=Ve(rn),pn=vt/Ge[2];this.__chart__=t={x:Wt-Ge[0]*pn,y:Zt-Ge[1]*pn,k:pn},tt(B)}}).each("interrupt.zoom",function(){X(B)}).each("end.zoom",function(){X(B)}):(this.__chart__=t,j(B),tt(B),X(B))})},k.translate=function(I){return arguments.length?(t={x:+I[0],y:+I[1],k:t.k},H(),k):[t.x,t.y]},k.scale=function(I){return arguments.length?(t={x:t.x,y:t.y,k:null},O(+I),H(),k):t.k},k.scaleExtent=function(I){return arguments.length?(o=null==I?oi:[+I[0],+I[1]],k):o},k.center=function(I){return arguments.length?(r=I&&[+I[0],+I[1]],k):r},k.size=function(I){return arguments.length?(i=I&&[+I[0],+I[1]],k):i},k.duration=function(I){return arguments.length?(u=+I,k):u},k.x=function(I){return arguments.length?(w=I,b=I.copy(),t={x:0,y:0,k:1},k):w},k.y=function(I){return arguments.length?(A=I,x=I.copy(),t={x:0,y:0,k:1},k):A},m.rebind(k,E,"on")};var gr,nr,oi=[0,1/0];function hn(){}function Qe(t,e,n){return this instanceof Qe?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Qe?new Qe(t.h,t.s,t.l):ui(""+t,Br,Qe):new Qe(t,e,n)}m.color=hn,hn.prototype.toString=function(){return this.rgb()+""},m.hsl=Qe;var Nr=Qe.prototype=new hn;function An(t,e,n){var r,i;function u(a){return Math.round(255*function o(a){return a>360?a-=360:a<0&&(a+=360),a<60?r+(i-r)*a/60:a<180?i:a<240?r+(i-r)*(240-a)/60:r}(a))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||e<0?0:e>1?1:e,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+e):n+e-n*e),new be(u(t+120),u(t),u(t-120))}function Le(t,e,n){return this instanceof Le?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Le?new Le(t.h,t.c,t.l):qr(t instanceof Pe?t.l:(t=Tn((t=m.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Le(t,e,n)}Nr.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Qe(this.h,this.s,this.l/t)},Nr.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Qe(this.h,this.s,t*this.l)},Nr.rgb=function(){return An(this.h,this.s,this.l)},m.hcl=Le;var Bt=Le.prototype=new hn;function En(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Pe(n,Math.cos(t*=pt)*e,Math.sin(t)*e)}function Pe(t,e,n){return this instanceof Pe?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Pe?new Pe(t.l,t.a,t.b):t instanceof Le?En(t.h,t.c,t.l):Tn((t=be(t)).r,t.g,t.b):new Pe(t,e,n)}Bt.brighter=function(t){return new Le(this.h,this.c,Math.min(100,this.l+rr*(arguments.length?t:1)))},Bt.darker=function(t){return new Le(this.h,this.c,Math.max(0,this.l-rr*(arguments.length?t:1)))},Bt.rgb=function(){return En(this.h,this.c,this.l).rgb()},m.lab=Pe;var rr=18,We=Pe.prototype=new hn;function pr(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return new be(Vn(3.2404542*(i=.95047*Dr(i))-1.5371385*(r=1*Dr(r))-.4985314*(o=1.08883*Dr(o))),Vn(-.969266*i+1.8760108*r+.041556*o),Vn(.0556434*i-.2040259*r+1.0572252*o))}function qr(t,e,n){return t>0?new Le(Math.atan2(n,e)*Ut,Math.sqrt(e*e+n*n),t):new Le(NaN,NaN,t)}function Dr(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function Or(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function Vn(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function be(t,e,n){return this instanceof be?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof be?new be(t.r,t.g,t.b):ui(""+t,be,An):new be(t,e,n)}function ai(t){return new be(t>>16,t>>8&255,255&t)}function je(t){return ai(t)+""}We.brighter=function(t){return new Pe(Math.min(100,this.l+rr*(arguments.length?t:1)),this.a,this.b)},We.darker=function(t){return new Pe(Math.max(0,this.l-rr*(arguments.length?t:1)),this.a,this.b)},We.rgb=function(){return pr(this.l,this.a,this.b)},m.rgb=be;var Lr=be.prototype=new hn;function Gn(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function ui(t,e,n){var u,a,c,r=0,i=0,o=0;if(u=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(a=u[2].split(","),u[1]){case"hsl":return n(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return e(vr(a[0]),vr(a[1]),vr(a[2]))}return(c=yr.get(t))?e(c.r,c.g,c.b):(null!=t&&"#"===t.charAt(0)&&!isNaN(c=parseInt(t.slice(1),16))&&(4===t.length?(r=(3840&c)>>4,r|=r>>4,i=240&c,i|=i>>4,o=15&c,o|=o<<4):7===t.length&&(r=(16711680&c)>>16,i=(65280&c)>>8,o=255&c)),e(r,i,o))}function Br(t,e,n){var u,a,r=Math.min(t/=255,e/=255,n/=255),i=Math.max(t,e,n),o=i-r,c=(i+r)/2;return o?(a=c<.5?o/(i+r):o/(2-i-r),u=t==i?(e-n)/o+(e<n?6:0):e==i?(n-t)/o+2:(t-e)/o+4,u*=60):(u=NaN,a=c>0&&c<1?0:u),new Qe(u,a,c)}function Tn(t,e,n){var r=Or((.4124564*(t=mr(t))+.3575761*(e=mr(e))+.1804375*(n=mr(n)))/.95047),i=Or((.2126729*t+.7151522*e+.072175*n)/1);return Pe(116*i-16,500*(r-i),200*(i-Or((.0193339*t+.119192*e+.9503041*n)/1.08883)))}function mr(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function vr(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}Lr.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new be(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new be(i,i,i)},Lr.darker=function(t){return new be((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},Lr.hsl=function(){return Br(this.r,this.g,this.b)},Lr.toString=function(){return"#"+Gn(this.r)+Gn(this.g)+Gn(this.b)};var yr=m.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Ft(t){return"function"==typeof t?t:function(){return t}}function Vt(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),$n(e,n,t,r)}}function $n(t,e,n,r){var i={},o=m.dispatch("beforesend","progress","load","error"),u={},a=new XMLHttpRequest,c=null;function f(){var _,d=a.status;if(!d&&function br(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(a)||d>=200&&d<300||304===d){try{_=n.call(i,a)}catch(p){return void o.error.call(i,p)}o.load.call(i,_)}else o.error.call(i,a)}return this.XDomainRequest&&!("withCredentials"in a)&&/^(http(s)?:)?\/\//.test(t)&&(a=new XDomainRequest),"onload"in a?a.onload=a.onerror=f:a.onreadystatechange=function(){a.readyState>3&&f()},a.onprogress=function(d){var _=m.event;m.event=d;try{o.progress.call(i,a)}finally{m.event=_}},i.header=function(d,_){return d=(d+"").toLowerCase(),arguments.length<2?u[d]:(null==_?delete u[d]:u[d]=_+"",i)},i.mimeType=function(d){return arguments.length?(e=null==d?null:d+"",i):e},i.responseType=function(d){return arguments.length?(c=d,i):c},i.response=function(d){return n=d,i},["get","post"].forEach(function(d){i[d]=function(){return i.send.apply(i,[d].concat(Z(arguments)))}}),i.send=function(d,_,p){if(2===arguments.length&&"function"==typeof _&&(p=_,_=null),a.open(d,t,!0),null!=e&&!("accept"in u)&&(u.accept=e+",*/*"),a.setRequestHeader)for(var M in u)a.setRequestHeader(M,u[M]);return null!=e&&a.overrideMimeType&&a.overrideMimeType(e),null!=c&&(a.responseType=c),null!=p&&i.on("error",p).on("load",function(E){p(null,E)}),o.beforesend.call(i,a),a.send(null==_?null:_),i},i.abort=function(){return a.abort(),i},m.rebind(i,o,"on"),null==r?i:i.get(function Nn(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(r))}yr.forEach(function(t,e){yr.set(t,ai(e))}),m.functor=Ft,m.xhr=Vt(lt),m.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function i(f,d,_){arguments.length<3&&(_=d,d=null);var p=$n(f,e,null==d?o:u(d),_);return p.row=function(M){return arguments.length?p.response(null==(d=M)?o:u(M)):d},p}function o(f){return i.parse(f.responseText)}function u(f){return function(d){return i.parse(d.responseText,f)}}function a(f){return f.map(c).join(t)}function c(f){return n.test(f)?'"'+f.replace(/\"/g,'""')+'"':f}return i.parse=function(f,d){var _;return i.parseRows(f,function(p,M){if(_)return _(p,M-1);var E=new Function("d","return {"+p.map(function(b,w){return JSON.stringify(b)+": d["+w+"]"}).join(",")+"}");_=d?function(b,w){return d(E(b),w)}:E})},i.parseRows=function(f,d){var x,A,_={},p={},M=[],E=f.length,b=0,w=0;function k(){if(b>=E)return p;if(A)return A=!1,_;var Y=b;if(34===f.charCodeAt(Y)){for(var O=Y;O++<E;)if(34===f.charCodeAt(O)){if(34!==f.charCodeAt(O+1))break;++O}return b=O+2,13===(L=f.charCodeAt(O+1))?(A=!0,10===f.charCodeAt(O+2)&&++b):10===L&&(A=!0),f.slice(Y+1,O).replace(/""/g,'"')}for(;b<E;){var L,D=1;if(10===(L=f.charCodeAt(b++)))A=!0;else if(13===L)A=!0,10===f.charCodeAt(b)&&(++b,++D);else if(L!==r)continue;return f.slice(Y,b-D)}return f.slice(Y)}for(;(x=k())!==p;){for(var C=[];x!==_&&x!==p;)C.push(x),x=k();d&&null==(C=d(C,w++))||M.push(C)}return M},i.format=function(f){if(Array.isArray(f[0]))return i.formatRows(f);var d=new kt,_=[];return f.forEach(function(p){for(var M in p)d.has(M)||_.push(d.add(M))}),[_.map(c).join(t)].concat(f.map(function(p){return _.map(function(M){return c(p[M])}).join(t)})).join("\n")},i.formatRows=function(f){return f.map(a).join("\n")},i},m.csv=m.dsv(",","text/csv"),m.tsv=m.dsv("\t","text/tab-separated-values");var Dn,bn,ir,Pr,Yr=this[Ot(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function sr(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i=n+e,o={c:t,t:i,n:null};return bn?bn.n=o:Dn=o,bn=o,ir||(Pr=clearTimeout(Pr),ir=1,Yr(Je)),o}function Je(){var t=Vr(),e=li()-t;e>24?(isFinite(e)&&(clearTimeout(Pr),Pr=setTimeout(Je,e)),ir=0):(ir=1,Yr(Je))}function Vr(){for(var t=Date.now(),e=Dn;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function li(){for(var t,e=Dn,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:Dn=e.n;return bn=t,n}function or(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}m.timer=function(){sr.apply(this,arguments)},m.timer.flush=function(){Vr(),li()},m.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var qe=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(function tn(t,e){var n=Math.pow(10,3*ht(8-e));return{scale:e>8?function(r){return r/n}:function(r){return r*n},symbol:t}});function Gr(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(u,a){for(var c=u.length,f=[],d=0,_=r[0],p=0;c>0&&_>0&&(p+_+1>a&&(_=Math.max(1,a-p)),f.push(u.substring(c-=_,c+_)),!((p+=_+1)>a));)_=r[d=(d+1)%r.length];return f.reverse().join(n)}:lt;return function(u){var a=$r.exec(u),c=a[1]||" ",f=a[2]||">",d=a[3]||"-",_=a[4]||"",p=a[5],M=+a[6],E=a[7],b=a[8],w=a[9],x=1,A="",k="",C=!1,Y=!0;switch(b&&(b=+b.substring(1)),(p||"0"===c&&"="===f)&&(p=c="0",f="="),w){case"n":E=!0,w="g";break;case"%":x=100,k="%",w="f";break;case"p":x=100,k="%",w="r";break;case"b":case"o":case"x":case"X":"#"===_&&(A="0"+w.toLowerCase());case"c":Y=!1;case"d":C=!0,b=0;break;case"s":x=-1,w="r"}"$"===_&&(A=i[0],k=i[1]),"r"==w&&!b&&(w="g"),null!=b&&("g"==w?b=Math.max(1,Math.min(21,b)):("e"==w||"f"==w)&&(b=Math.max(0,Math.min(20,b)))),w=ci.get(w)||ar;var O=p&&E;return function(L){var D=k;if(C&&L%1)return"";var H=L<0||0===L&&1/L<0?(L=-L,"-"):"-"===d?"":d;if(x<0){var j=m.formatPrefix(L,b);L=j.scale(L),D=j.symbol+k}else L*=x;var X,J,tt=(L=w(L,b)).lastIndexOf(".");if(tt<0){var R=Y?L.lastIndexOf("e"):-1;R<0?(X=L,J=""):(X=L.substring(0,R),J=L.substring(R))}else X=L.substring(0,tt),J=e+L.substring(tt+1);!p&&E&&(X=o(X,1/0));var W=A.length+X.length+J.length+(O?0:H.length),G=W<M?new Array(W=M-W+1).join(c):"";return O&&(X=o(G+X,G.length?M-J.length:1/0)),H+=A,L=X+J,("<"===f?H+L+G:">"===f?G+H+L:"^"===f?G.substring(0,W>>=1)+H+L+G.substring(W):H+(O?L:G+L))+D}}}m.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=m.round(t,or(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),qe[8+n/3]};var $r=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ci=m.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=m.round(t,or(t,e))).toFixed(Math.max(0,Math.min(20,or(t*(1+1e-15),e))))}});function ar(t){return t+""}var st=m.time={},ae=Date;function dn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}dn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){en.setUTCDate.apply(this._,arguments)},setDay:function(){en.setUTCDay.apply(this._,arguments)},setFullYear:function(){en.setUTCFullYear.apply(this._,arguments)},setHours:function(){en.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){en.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){en.setUTCMinutes.apply(this._,arguments)},setMonth:function(){en.setUTCMonth.apply(this._,arguments)},setSeconds:function(){en.setUTCSeconds.apply(this._,arguments)},setTime:function(){en.setTime.apply(this._,arguments)}};var en=Date.prototype;function nn(t,e,n){function r(f){var d=t(f),_=o(d,1);return f-d<_-f?d:_}function i(f){return e(f=t(new ae(f-1)),1),f}function o(f,d){return e(f=new ae(+f),d),f}function u(f,d,_){var p=i(f),M=[];if(_>1)for(;p<d;)n(p)%_||M.push(new Date(+p)),e(p,1);else for(;p<d;)M.push(new Date(+p)),e(p,1);return M}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=u;var c=t.utc=gn(t);return c.floor=c,c.round=gn(r),c.ceil=gn(i),c.offset=gn(o),c.range=function a(f,d,_){try{ae=dn;var p=new dn;return p._=f,u(p,d,_)}finally{ae=Date}},t}function gn(t){return function(e,n){try{ae=dn;var r=new dn;return r._=e,t(r,n)._}finally{ae=Date}}}function Rr(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,u=t.shortDays,a=t.months,c=t.shortMonths;function f(R){var W=R.length;function G(I){for(var St,Wt,Zt,B=[],ut=-1,vt=0;++ut<W;)37===R.charCodeAt(ut)&&(B.push(R.slice(vt,ut)),null!=(Wt=Ir[St=R.charAt(++ut)])&&(St=R.charAt(++ut)),(Zt=C[St])&&(St=Zt(I,null==Wt?"e"===St?" ":"0":Wt)),B.push(St),vt=ut+1);return B.push(R.slice(vt,ut)),B.join("")}return G.parse=function(I){var B={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(d(B,R,I,0)!=I.length)return null;"p"in B&&(B.H=B.H%12+12*B.p);var vt=null!=B.Z&&ae!==dn,St=new(vt?dn:ae);return"j"in B?St.setFullYear(B.y,0,B.j):"W"in B||"U"in B?("w"in B||(B.w="W"in B?1:0),St.setFullYear(B.y,0,1),St.setFullYear(B.y,0,"W"in B?(B.w+6)%7+7*B.W-(St.getDay()+5)%7:B.w+7*B.U-(St.getDay()+6)%7)):St.setFullYear(B.y,B.m,B.d),St.setHours(B.H+(B.Z/100|0),B.M+B.Z%100,B.S,B.L),vt?St._:St},G.toString=function(){return R},G}function d(R,W,G,I){for(var B,ut,vt,St=0,Wt=W.length,Zt=G.length;St<Wt;){if(I>=Zt)return-1;if(37===(B=W.charCodeAt(St++))){if(vt=W.charAt(St++),!(ut=Y[vt in Ir?W.charAt(St++):vt])||(I=ut(R,G,I))<0)return-1}else if(B!=G.charCodeAt(I++))return-1}return I}f.utc=function(R){var W=f(R);function G(I){try{var B=new(ae=dn);return B._=I,W(B)}finally{ae=Date}}return G.parse=function(I){try{ae=dn;var B=W.parse(I);return B&&B._}finally{ae=Date}},G.toString=W.toString,G},f.multi=f.utc.multi=Ye;var _=m.map(),p=On(o),M=Ee(o),E=On(u),b=Ee(u),w=On(a),x=Ee(a),A=On(c),k=Ee(c);i.forEach(function(R,W){_.set(R.toLowerCase(),W)});var C={a:function(R){return u[R.getDay()]},A:function(R){return o[R.getDay()]},b:function(R){return c[R.getMonth()]},B:function(R){return a[R.getMonth()]},c:f(e),d:function(R,W){return he(R.getDate(),W,2)},e:function(R,W){return he(R.getDate(),W,2)},H:function(R,W){return he(R.getHours(),W,2)},I:function(R,W){return he(R.getHours()%12||12,W,2)},j:function(R,W){return he(1+st.dayOfYear(R),W,3)},L:function(R,W){return he(R.getMilliseconds(),W,3)},m:function(R,W){return he(R.getMonth()+1,W,2)},M:function(R,W){return he(R.getMinutes(),W,2)},p:function(R){return i[+(R.getHours()>=12)]},S:function(R,W){return he(R.getSeconds(),W,2)},U:function(R,W){return he(st.sundayOfYear(R),W,2)},w:function(R){return R.getDay()},W:function(R,W){return he(st.mondayOfYear(R),W,2)},x:f(n),X:f(r),y:function(R,W){return he(R.getFullYear()%100,W,2)},Y:function(R,W){return he(R.getFullYear()%1e4,W,4)},Z:de,"%":function(){return"%"}},Y={a:function O(R,W,G){E.lastIndex=0;var I=E.exec(W.slice(G));return I?(R.w=b.get(I[0].toLowerCase()),G+I[0].length):-1},A:function L(R,W,G){p.lastIndex=0;var I=p.exec(W.slice(G));return I?(R.w=M.get(I[0].toLowerCase()),G+I[0].length):-1},b:function D(R,W,G){A.lastIndex=0;var I=A.exec(W.slice(G));return I?(R.m=k.get(I[0].toLowerCase()),G+I[0].length):-1},B:function H(R,W,G){w.lastIndex=0;var I=w.exec(W.slice(G));return I?(R.m=x.get(I[0].toLowerCase()),G+I[0].length):-1},c:function j(R,W,G){return d(R,C.c.toString(),W,G)},d:it,e:it,H:Lt,I:Lt,j:ft,L:fe,m:q,M:Gt,p:function J(R,W,G){var I=_.get(W.slice(G,G+=2).toLowerCase());return null==I?-1:(R.p=I,G)},S:re,U:Ln,w:Zn,W:wr,x:function tt(R,W,G){return d(R,C.x.toString(),W,G)},X:function X(R,W,G){return d(R,C.X.toString(),W,G)},y:h,Y:N,Z:v,"%":Ce};return f}st.year=nn(function(t){return(t=st.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),st.years=st.year.range,st.years.utc=st.year.utc.range,st.day=nn(function(t){var e=new ae(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),st.days=st.day.range,st.days.utc=st.day.utc.range,st.dayOfYear=function(t){var e=st.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=st[t]=nn(function(r){return(r=st.day(r)).setDate(r.getDate()-(r.getDay()+e)%7),r},function(r,i){r.setDate(r.getDate()+7*Math.floor(i))},function(r){var i=st.year(r).getDay();return Math.floor((st.dayOfYear(r)+(i+e)%7)/7)-(i!==e)});st[t+"s"]=n.range,st[t+"s"].utc=n.utc.range,st[t+"OfYear"]=function(r){var i=st.year(r).getDay();return Math.floor((st.dayOfYear(r)+(i+e)%7)/7)}}),st.week=st.sunday,st.weeks=st.sunday.range,st.weeks.utc=st.sunday.utc.range,st.weekOfYear=st.sundayOfYear;var Ir={"-":"",_:" ",0:"0"},jt=/^\s*\d+/,_n=/^%/;function he(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function On(t){return new RegExp("^(?:"+t.map(m.requote).join("|")+")","i")}function Ee(t){for(var e=new se,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Zn(t,e,n){jt.lastIndex=0;var r=jt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ln(t,e,n){jt.lastIndex=0;var r=jt.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function wr(t,e,n){jt.lastIndex=0;var r=jt.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function N(t,e,n){jt.lastIndex=0;var r=jt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function h(t,e,n){jt.lastIndex=0;var r=jt.exec(e.slice(n,n+2));return r?(t.y=function T(t){return t+(t>68?1900:2e3)}(+r[0]),n+r[0].length):-1}function v(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function q(t,e,n){jt.lastIndex=0;var r=jt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function it(t,e,n){jt.lastIndex=0;var r=jt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ft(t,e,n){jt.lastIndex=0;var r=jt.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function Lt(t,e,n){jt.lastIndex=0;var r=jt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Gt(t,e,n){jt.lastIndex=0;var r=jt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function re(t,e,n){jt.lastIndex=0;var r=jt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function fe(t,e,n){jt.lastIndex=0;var r=jt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function de(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=ht(e)/60|0,i=ht(e)%60;return n+he(r,"0",2)+he(i,"0",2)}function Ce(t,e,n){_n.lastIndex=0;var r=_n.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ye(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(r){for(var i=0,o=t[i];!o[1](r);)o=t[++i];return o[0](r)}}m.locale=function(t){return{numberFormat:Gr(t),timeFormat:Rr(t)}};var mt=m.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Re(){}m.format=mt.numberFormat,m.geo={},Re.prototype={s:0,t:0,add:function(t){Mr(t,this.t,Pn),Mr(Pn.s,this.s,this),this.s?this.t+=Pn.t:this.s=Pn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Pn=new Re;function Mr(t,e,n){var r=n.s=t+e,i=r-t;n.t=t-(r-i)+(e-i)}function Be(t,e){t&&hi.hasOwnProperty(t.type)&&hi[t.type](t,e)}m.geo.stream=function(t,e){t&&Ie.hasOwnProperty(t.type)?Ie[t.type](t,e):Be(t,e)};var Ie={Feature:function(t,e){Be(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Be(n[r].geometry,e)}},hi={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)e.point((t=n[r])[0],t[1],t[2])},LineString:function(t,e){Zr(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Zr(n[r],e,0)},Polygon:function(t,e){xr(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)xr(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Be(n[r],e)}};function Zr(t,e,n){var o,r=-1,i=t.length-n;for(e.lineStart();++r<i;)e.point((o=t[r])[0],o[1],o[2]);e.lineEnd()}function xr(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Zr(t[n],e,1);e.polygonEnd()}m.geo.area=function(t){return kr=0,m.geo.stream(t,s),kr};var kr,Dt=new Re,s={sphere:function(){kr+=4*wt},point:Pt,lineStart:Pt,lineEnd:Pt,polygonStart:function(){Dt.reset(),s.lineStart=l},polygonEnd:function(){var t=2*Dt;kr+=t<0?4*wt+t:t,s.lineStart=s.lineEnd=s.point=Pt}};function l(){var t,e,n,r,i;function o(u,a){a=a*pt/2+wt/4;var c=(u*=pt)-n,f=c>=0?1:-1,d=f*c,_=Math.cos(a),p=Math.sin(a),M=i*p,E=r*_+M*Math.cos(d),b=M*f*Math.sin(d);Dt.add(Math.atan2(b,E)),n=u,r=_,i=p}s.point=function(u,a){s.point=o,n=(t=u)*pt,r=Math.cos(a=(e=a)*pt/2+wt/4),i=Math.sin(a)},s.lineEnd=function(){o(t,e)}}function g(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function y(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function S(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function P(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function U(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function V(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function ot(t){return[Math.atan2(t[1],t[0]),cn(t[2])]}function et(t,e){return ht(t[0]-e[0])<nt&&ht(t[1]-e[1])<nt}m.geo.bounds=function(){var t,e,n,r,i,o,u,a,c,f,d,_={point:p,lineStart:E,lineEnd:b,polygonStart:function(){_.point=w,_.lineStart=x,_.lineEnd=A,c=0,s.polygonStart()},polygonEnd:function(){s.polygonEnd(),_.point=p,_.lineStart=E,_.lineEnd=b,Dt<0?(t=-(n=180),e=-(r=90)):c>nt?r=90:c<-nt&&(e=-90),d[0]=t,d[1]=n}};function p(O,L){f.push(d=[t=O,n=O]),L<e&&(e=L),L>r&&(r=L)}function M(O,L){var D=g([O*pt,L*pt]);if(a){var H=S(a,D),tt=S([H[1],-H[0],0],H);V(tt),tt=ot(tt);var X=O-i,J=X>0?1:-1,R=tt[0]*Ut*J,W=ht(X)>180;if(W^(J*i<R&&R<J*O))(G=tt[1]*Ut)>r&&(r=G);else if(W^(J*i<(R=(R+360)%360-180)&&R<J*O)){var G;(G=-tt[1]*Ut)<e&&(e=G)}else L<e&&(e=L),L>r&&(r=L);W?O<i?k(t,O)>k(t,n)&&(n=O):k(O,n)>k(t,n)&&(t=O):n>=t?(O<t&&(t=O),O>n&&(n=O)):O>i?k(t,O)>k(t,n)&&(n=O):k(O,n)>k(t,n)&&(t=O)}else p(O,L);a=D,i=O}function E(){_.point=M}function b(){d[0]=t,d[1]=n,_.point=p,a=null}function w(O,L){if(a){var D=O-i;c+=ht(D)>180?D+(D>0?360:-360):D}else o=O,u=L;s.point(O,L),M(O,L)}function x(){s.lineStart()}function A(){w(o,u),s.lineEnd(),ht(c)>nt&&(t=-(n=180)),d[0]=t,d[1]=n,a=null}function k(O,L){return(L-=O)<0?L+360:L}function C(O,L){return O[0]-L[0]}function Y(O,L){return L[0]<=L[1]?L[0]<=O&&O<=L[1]:O<L[0]||L[1]<O}return function(O){if(r=n=-(t=e=1/0),f=[],m.geo.stream(O,_),L=f.length){f.sort(C);for(var D=1,tt=[H=f[0]];D<L;++D)Y((j=f[D])[0],H)||Y(j[1],H)?(k(H[0],j[1])>k(H[0],H[1])&&(H[1]=j[1]),k(j[0],H[1])>k(H[0],H[1])&&(H[0]=j[0])):tt.push(H=j);for(var J,L,j,X=-1/0,H=(D=0,tt[L=tt.length-1]);D<=L;H=j,++D)(J=k(H[1],(j=tt[D])[0]))>X&&(X=J,t=j[0],n=H[1])}return f=d=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),m.geo.centroid=function(t){xt=bt=$t=te=pe=Yn=zr=ur=fi=di=Fr=0,m.geo.stream(t,Xn);var e=fi,n=di,r=Fr,i=e*e+n*n+r*r;return i<Sn&&(e=Yn,n=zr,r=ur,bt<nt&&(e=$t,n=te,r=pe),(i=e*e+n*n+r*r)<Sn)?[NaN,NaN]:[Math.atan2(n,e)*Ut,cn(r/Math.sqrt(i))*Ut]};var xt,bt,$t,te,pe,Yn,zr,ur,fi,di,Fr,Xn={sphere:Pt,point:fs,lineStart:to,lineEnd:eo,polygonStart:function(){Xn.lineStart=Ga},polygonEnd:function(){Xn.lineStart=to}};function fs(t,e){t*=pt;var n=Math.cos(e*=pt);Si(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Si(t,e,n){++xt,$t+=(t-$t)/xt,te+=(e-te)/xt,pe+=(n-pe)/xt}function to(){var t,e,n;function r(i,o){i*=pt;var u=Math.cos(o*=pt),a=u*Math.cos(i),c=u*Math.sin(i),f=Math.sin(o),d=Math.atan2(Math.sqrt((d=e*f-n*c)*d+(d=n*a-t*f)*d+(d=t*c-e*a)*d),t*a+e*c+n*f);bt+=d,Yn+=d*(t+(t=a)),zr+=d*(e+(e=c)),ur+=d*(n+(n=f)),Si(t,e,n)}Xn.point=function(i,o){i*=pt;var u=Math.cos(o*=pt);t=u*Math.cos(i),e=u*Math.sin(i),n=Math.sin(o),Xn.point=r,Si(t,e,n)}}function eo(){Xn.point=fs}function Ga(){var t,e,n,r,i;function o(u,a){u*=pt;var c=Math.cos(a*=pt),f=c*Math.cos(u),d=c*Math.sin(u),_=Math.sin(a),p=r*_-i*d,M=i*f-n*_,E=n*d-r*f,b=Math.sqrt(p*p+M*M+E*E),w=n*f+r*d+i*_,x=b&&-Se(w)/b,A=Math.atan2(b,w);fi+=x*p,di+=x*M,Fr+=x*E,bt+=A,Yn+=A*(n+(n=f)),zr+=A*(r+(r=d)),ur+=A*(i+(i=_)),Si(n,r,i)}Xn.point=function(u,a){t=u,e=a,Xn.point=o,u*=pt;var c=Math.cos(a*=pt);n=c*Math.cos(u),r=c*Math.sin(u),i=Math.sin(a),Si(n,r,i)},Xn.lineEnd=function(){o(t,e),Xn.lineEnd=eo,Xn.point=fs}}function no(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return(r=e.invert(r,i))&&t.invert(r[0],r[1])}),n}function Ci(){return!0}function ro(t,e,n,r,i){var o=[],u=[];if(t.forEach(function(b){if(!((w=b.length-1)<=0)){var w,x=b[0],A=b[w];if(et(x,A)){i.lineStart();for(var k=0;k<w;++k)i.point((x=b[k])[0],x[1]);return void i.lineEnd()}var C=new zi(x,b,null,!0),Y=new zi(x,null,C,!1);C.o=Y,o.push(C),u.push(Y),C=new zi(A,b,null,!1),Y=new zi(A,null,C,!0),C.o=Y,o.push(C),u.push(Y)}}),u.sort(e),io(o),io(u),o.length){for(var a=0,c=n,f=u.length;a<f;++a)u[a].e=c=!c;for(var _,p,d=o[0];;){for(var M=d,E=!0;M.v;)if((M=M.n)===d)return;_=M.z,i.lineStart();do{if(M.v=M.o.v=!0,M.e){if(E)for(a=0,f=_.length;a<f;++a)i.point((p=_[a])[0],p[1]);else r(M.x,M.n.x,1,i);M=M.n}else{if(E)for(a=(_=M.p.z).length-1;a>=0;--a)i.point((p=_[a])[0],p[1]);else r(M.x,M.p.x,-1,i);M=M.p}_=(M=M.o).z,E=!E}while(!M.v);i.lineEnd()}}}function io(t){if(e=t.length){for(var e,i,n=0,r=t[0];++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function zi(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function so(t,e,n,r){return function(i,o){var u=e(o),a=i.invert(r[0],r[1]),c={point:f,lineStart:_,lineEnd:p,polygonStart:function(){c.point=k,c.lineStart=C,c.lineEnd=Y,M=[],x=[]},polygonEnd:function(){c.point=f,c.lineStart=_,c.lineEnd=p,M=m.merge(M);var O=function Ja(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,u=0;Dt.reset();for(var a=0,c=e.length;a<c;++a){var f=e[a],d=f.length;if(d)for(var _=f[0],p=_[0],M=_[1]/2+wt/4,E=Math.sin(M),b=Math.cos(M),w=1;;){w===d&&(w=0);var x=(t=f[w])[0],A=t[1]/2+wt/4,k=Math.sin(A),C=Math.cos(A),Y=x-p,O=Y>=0?1:-1,L=O*Y,D=L>wt,H=E*k;if(Dt.add(Math.atan2(H*O*Math.sin(L),b*C+H*Math.cos(L))),o+=D?Y+O*De:Y,D^p>=n^x>=n){var j=S(g(_),g(t));V(j);var tt=S(i,j);V(tt);var X=(D^Y>=0?-1:1)*cn(tt[2]);(r>X||r===X&&(j[0]||j[1]))&&(u+=D^Y>=0?1:-1)}if(!w++)break;p=x,E=k,b=C,_=t}}return(o<-nt||o<nt&&Dt<0)^1&u}(a,x);M.length?(w||(o.polygonStart(),w=!0),ro(M,Za,O,n,o)):O&&(w||(o.polygonStart(),w=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),w&&(o.polygonEnd(),w=!1),M=x=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function f(O,L){var D=i(O,L);t(O=D[0],L=D[1])&&o.point(O,L)}function d(O,L){var D=i(O,L);u.point(D[0],D[1])}function _(){c.point=d,u.lineStart()}function p(){c.point=f,u.lineEnd()}var M,x,A,E=oo(),b=e(E),w=!1;function k(O,L){A.push([O,L]);var D=i(O,L);b.point(D[0],D[1])}function C(){b.lineStart(),A=[]}function Y(){k(A[0][0],A[0][1]),b.lineEnd();var D,O=b.clean(),L=E.buffer(),H=L.length;if(A.pop(),x.push(A),A=null,H){if(1&O){var tt,j=-1;if((H=(D=L[0]).length-1)>0){for(w||(o.polygonStart(),w=!0),o.lineStart();++j<H;)o.point((tt=D[j])[0],tt[1]);o.lineEnd()}return}H>1&&2&O&&L.push(L.pop().concat(L.shift())),M.push(L.filter($a))}}return c}}function $a(t){return t.length>1}function oo(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(n,r){e.push([n,r])},lineEnd:Pt,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Za(t,e){return((t=t.x)[0]<0?t[1]-Qt-nt:Qt-t[1])-((e=e.x)[0]<0?e[1]-Qt-nt:Qt-e[1])}var ao=so(Ci,function Xa(t){var i,e=NaN,n=NaN,r=NaN;return{lineStart:function(){t.lineStart(),i=1},point:function(o,u){var a=o>0?wt:-wt,c=ht(o-e);ht(c-wt)<nt?(t.point(e,n=(n+u)/2>0?Qt:-Qt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),t.point(o,n),i=0):r!==a&&c>=wt&&(ht(e-r)<nt&&(e-=r*nt),ht(o-a)<nt&&(o-=a*nt),n=function Ka(t,e,n,r){var i,o,u=Math.sin(t-n);return ht(u)>nt?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*u)):(e+r)/2}(e,n,o,u),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),i=0),t.point(e=o,n=u),r=a},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}},function Qa(t,e,n,r){var i;if(null==t)r.point(-wt,i=n*Qt),r.point(0,i),r.point(wt,i),r.point(wt,0),r.point(wt,-i),r.point(0,-i),r.point(-wt,-i),r.point(-wt,0),r.point(-wt,i);else if(ht(t[0]-e[0])>nt){var o=t[0]<e[0]?wt:-wt;r.point(-o,i=n*o/2),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-wt,-wt/2]);function tu(t){var e=Math.cos(t),n=e>0,r=ht(e)>nt;return so(o,function u(f){var d,_,p,M,E;return{lineStart:function(){M=p=!1,E=1},point:function(b,w){var A,x=[b,w],k=o(b,w),C=n?k?0:c(b,w):k?c(b+(b<0?wt:-wt),w):0;if(!d&&(M=p=k)&&f.lineStart(),k!==p&&(A=a(d,x),(et(d,A)||et(x,A))&&(x[0]+=nt,x[1]+=nt,k=o(x[0],x[1]))),k!==p)E=0,k?(f.lineStart(),A=a(x,d),f.point(A[0],A[1])):(A=a(d,x),f.point(A[0],A[1]),f.lineEnd()),d=A;else if(r&&d&&n^k){var Y;!(C&_)&&(Y=a(x,d,!0))&&(E=0,n?(f.lineStart(),f.point(Y[0][0],Y[0][1]),f.point(Y[1][0],Y[1][1]),f.lineEnd()):(f.point(Y[1][0],Y[1][1]),f.lineEnd(),f.lineStart(),f.point(Y[0][0],Y[0][1])))}k&&(!d||!et(d,x))&&f.point(x[0],x[1]),d=x,p=k,_=C},lineEnd:function(){p&&f.lineEnd(),d=null},clean:function(){return E|(M&&p)<<1}}},vs(t,6*pt),n?[0,-t]:[-wt,t-wt]);function o(f,d){return Math.cos(f)*Math.cos(d)>e}function a(f,d,_){var E=[1,0,0],b=S(g(f),g(d)),w=y(b,b),x=b[0],A=w-x*x;if(!A)return!_&&f;var k=e*w/A,C=-e*x/A,Y=S(E,b),O=U(E,k);P(O,U(b,C));var D=Y,H=y(O,D),j=y(D,D),tt=H*H-j*(y(O,O)-1);if(!(tt<0)){var X=Math.sqrt(tt),J=U(D,(-H-X)/j);if(P(J,O),J=ot(J),!_)return J;var B,R=f[0],W=d[0],G=f[1],I=d[1];W<R&&(B=R,R=W,W=B);var ut=W-R,vt=ht(ut-wt)<nt;if(!vt&&I<G&&(B=G,G=I,I=B),vt||ut<nt?vt?G+I>0^J[1]<(ht(J[0]-R)<nt?G:I):G<=J[1]&&J[1]<=I:ut>wt^(R<=J[0]&&J[0]<=W)){var Wt=U(D,(-H+X)/j);return P(Wt,O),[J,ot(Wt)]}}}function c(f,d){var _=n?t:wt-t,p=0;return f<-_?p|=1:f>_&&(p|=2),d<-_?p|=4:d>_&&(p|=8),p}}function uo(t,e,n,r){return function(i){var b,o=i.a,u=i.b,a=o.x,c=o.y,_=0,p=1,M=u.x-a,E=u.y-c;if(b=t-a,M||!(b>0)){if(b/=M,M<0){if(b<_)return;b<p&&(p=b)}else if(M>0){if(b>p)return;b>_&&(_=b)}if(b=n-a,M||!(b<0)){if(b/=M,M<0){if(b>p)return;b>_&&(_=b)}else if(M>0){if(b<_)return;b<p&&(p=b)}if(b=e-c,E||!(b>0)){if(b/=E,E<0){if(b<_)return;b<p&&(p=b)}else if(E>0){if(b>p)return;b>_&&(_=b)}if(b=r-c,E||!(b<0)){if(b/=E,E<0){if(b>p)return;b>_&&(_=b)}else if(E>0){if(b<_)return;b<p&&(p=b)}return _>0&&(i.a={x:a+_*M,y:c+_*E}),p<1&&(i.b={x:a+p*M,y:c+p*E}),i}}}}}}var Fi=1e9;function lo(t,e,n,r){return function(a){var _,p,M,k,C,Y,O,L,D,H,j,c=a,f=oo(),d=uo(t,e,n,r),E={point:A,lineStart:function tt(){E.point=J,p&&p.push(M=[]),H=!0,D=!1,O=L=NaN},lineEnd:function X(){_&&(J(k,C),Y&&D&&f.rejoin(),_.push(f.buffer())),E.point=A,D&&a.lineEnd()},polygonStart:function(){a=f,_=[],p=[],j=!0},polygonEnd:function(){a=c,_=m.merge(_);var R=function b(R){for(var W=0,G=p.length,I=R[1],B=0;B<G;++B)for(var Zt,ut=1,vt=p[B],St=vt.length,Wt=vt[0];ut<St;++ut)Zt=vt[ut],Wt[1]<=I?Zt[1]>I&&jn(Wt,Zt,R)>0&&++W:Zt[1]<=I&&jn(Wt,Zt,R)<0&&--W,Wt=Zt;return 0!==W}([t,r]),W=j&&R,G=_.length;(W||G)&&(a.polygonStart(),W&&(a.lineStart(),w(null,null,1,a),a.lineEnd()),G&&ro(_,o,R,w,a),a.polygonEnd()),_=p=M=null}};function w(R,W,G,I){var B=0,ut=0;if(null==R||(B=i(R,G))!==(ut=i(W,G))||u(R,W)<0^G>0)do{I.point(0===B||3===B?t:n,B>1?r:e)}while((B=(B+G+4)%4)!==ut);else I.point(W[0],W[1])}function x(R,W){return t<=R&&R<=n&&e<=W&&W<=r}function A(R,W){x(R,W)&&a.point(R,W)}function J(R,W){var G=x(R=Math.max(-Fi,Math.min(Fi,R)),W=Math.max(-Fi,Math.min(Fi,W)));if(p&&M.push([R,W]),H)k=R,C=W,Y=G,H=!1,G&&(a.lineStart(),a.point(R,W));else if(G&&D)a.point(R,W);else{var I={a:{x:O,y:L},b:{x:R,y:W}};d(I)?(D||(a.lineStart(),a.point(I.a.x,I.a.y)),a.point(I.b.x,I.b.y),G||a.lineEnd(),j=!1):G&&(a.lineStart(),a.point(R,W),j=!1)}O=R,L=W,D=G}return E};function i(a,c){return ht(a[0]-t)<nt?c>0?0:3:ht(a[0]-n)<nt?c>0?2:1:ht(a[1]-e)<nt?c>0?1:0:c>0?3:2}function o(a,c){return u(a.x,c.x)}function u(a,c){var f=i(a,1),d=i(c,1);return f!==d?f-d:0===f?c[1]-a[1]:1===f?a[0]-c[0]:2===f?a[1]-c[1]:c[0]-a[0]}}function ds(t){var e=0,n=wt/3,r=ps(t),i=r(e,n);return i.parallels=function(o){return arguments.length?r(e=o[0]*wt/180,n=o[1]*wt/180):[e/wt*180,n/wt*180]},i}function co(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),o=Math.sqrt(i)/r;function u(a,c){var f=Math.sqrt(i-2*r*Math.sin(c))/r;return[f*Math.sin(a*=r),o-f*Math.cos(a)]}return u.invert=function(a,c){var f=o-c;return[Math.atan2(a,f)/r,cn((i-(a*a+f*f)*r*r)/(2*r))]},u}m.geo.clipExtent=function(){var t,e,n,r,i,o,u={stream:function(a){return i&&(i.valid=!1),(i=o(a)).valid=!0,i},extent:function(a){return arguments.length?(o=lo(t=+a[0][0],e=+a[0][1],n=+a[1][0],r=+a[1][1]),i&&(i.valid=!1,i=null),u):[[t,e],[n,r]]}};return u.extent([[0,0],[960,500]])},(m.geo.conicEqualArea=function(){return ds(co)}).raw=co,m.geo.albers=function(){return m.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},m.geo.albersUsa=function(){var r,o,u,a,t=m.geo.albers(),e=m.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),n=m.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),i={point:function(f,d){r=[f,d]}};function c(f){var d=f[0],_=f[1];return r=null,o(d,_),r||(u(d,_),r)||a(d,_),r}return c.invert=function(f){var d=t.scale(),_=t.translate(),p=(f[0]-_[0])/d,M=(f[1]-_[1])/d;return(M>=.12&&M<.234&&p>=-.425&&p<-.214?e:M>=.166&&M<.234&&p>=-.214&&p<-.115?n:t).invert(f)},c.stream=function(f){var d=t.stream(f),_=e.stream(f),p=n.stream(f);return{point:function(M,E){d.point(M,E),_.point(M,E),p.point(M,E)},sphere:function(){d.sphere(),_.sphere(),p.sphere()},lineStart:function(){d.lineStart(),_.lineStart(),p.lineStart()},lineEnd:function(){d.lineEnd(),_.lineEnd(),p.lineEnd()},polygonStart:function(){d.polygonStart(),_.polygonStart(),p.polygonStart()},polygonEnd:function(){d.polygonEnd(),_.polygonEnd(),p.polygonEnd()}}},c.precision=function(f){return arguments.length?(t.precision(f),e.precision(f),n.precision(f),c):t.precision()},c.scale=function(f){return arguments.length?(t.scale(f),e.scale(.35*f),n.scale(f),c.translate(t.translate())):t.scale()},c.translate=function(f){if(!arguments.length)return t.translate();var d=t.scale(),_=+f[0],p=+f[1];return o=t.translate(f).clipExtent([[_-.455*d,p-.238*d],[_+.455*d,p+.238*d]]).stream(i).point,u=e.translate([_-.307*d,p+.201*d]).clipExtent([[_-.425*d+nt,p+.12*d+nt],[_-.214*d-nt,p+.234*d-nt]]).stream(i).point,a=n.translate([_-.205*d,p+.212*d]).clipExtent([[_-.214*d+nt,p+.166*d+nt],[_-.115*d-nt,p+.234*d-nt]]).stream(i).point,c},c.scale(1070)};var gs,_s,Hr={point:Pt,lineStart:Pt,lineEnd:Pt,polygonStart:function(){_s=0,Hr.lineStart=eu},polygonEnd:function(){Hr.lineStart=Hr.lineEnd=Hr.point=Pt,gs+=ht(_s/2)}};function eu(){var t,e,n,r;function i(o,u){_s+=r*o-n*u,n=o,r=u}Hr.point=function(o,u){Hr.point=i,t=n=o,e=r=u},Hr.lineEnd=function(){i(t,e)}}var Hi,Ui,Wi,ji,nu={point:function ru(t,e){t<Hi&&(Hi=t),t>Wi&&(Wi=t),e<Ui&&(Ui=e),e>ji&&(ji=e)},lineStart:Pt,lineEnd:Pt,polygonStart:Pt,polygonEnd:Pt};function iu(){var t=ho(4.5),e=[],n={point:r,lineStart:function(){n.point=i},lineEnd:u,polygonStart:function(){n.lineEnd=a},polygonEnd:function(){n.lineEnd=u,n.point=r},pointRadius:function(c){return t=ho(c),n},result:function(){if(e.length){var c=e.join("");return e=[],c}}};function r(c,f){e.push("M",c,",",f,t)}function i(c,f){e.push("M",c,",",f),n.point=o}function o(c,f){e.push("L",c,",",f)}function u(){n.point=r}function a(){e.push("Z")}return n}function ho(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var Kn={point:Xr,lineStart:fo,lineEnd:go,polygonStart:function(){Kn.lineStart=su},polygonEnd:function(){Kn.point=Xr,Kn.lineStart=fo,Kn.lineEnd=go}};function Xr(t,e){$t+=t,te+=e,++pe}function fo(){var t,e;function n(r,i){var o=r-t,u=i-e,a=Math.sqrt(o*o+u*u);Yn+=a*(t+r)/2,zr+=a*(e+i)/2,ur+=a,Xr(t=r,e=i)}Kn.point=function(r,i){Kn.point=n,Xr(t=r,e=i)}}function go(){Kn.point=Xr}function su(){var t,e,n,r;function i(o,u){var a=o-n,c=u-r,f=Math.sqrt(a*a+c*c);Yn+=f*(n+o)/2,zr+=f*(r+u)/2,ur+=f,fi+=(f=r*o-n*u)*(n+o),di+=f*(r+u),Fr+=3*f,Xr(n=o,r=u)}Kn.point=function(o,u){Kn.point=i,Xr(t=n=o,e=r=u)},Kn.lineEnd=function(){i(t,e)}}function ou(t){var e=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:u,polygonStart:function(){n.lineEnd=a},polygonEnd:function(){n.lineEnd=u,n.point=r},pointRadius:function(c){return e=c,n},result:Pt};function r(c,f){t.moveTo(c+e,f),t.arc(c,f,e,0,De)}function i(c,f){t.moveTo(c,f),n.point=o}function o(c,f){t.lineTo(c,f)}function u(){n.point=r}function a(){t.closePath()}return n}function _o(t){var e=.5,n=Math.cos(30*pt),r=16;function i(c){return(r?u:o)(c)}function o(c){return mo(c,function(f,d){f=t(f,d),c.point(f[0],f[1])})}function u(c){var f,_,p,M,E,b,w,x,A,k,C,Y,O={point:L,lineStart:D,lineEnd:j,polygonStart:function(){c.polygonStart(),O.lineStart=tt},polygonEnd:function(){c.polygonEnd(),O.lineStart=D}};function L(R,W){R=t(R,W),c.point(R[0],R[1])}function D(){x=NaN,O.point=H,c.lineStart()}function H(R,W){var G=g([R,W]),I=t(R,W);a(x,A,w,k,C,Y,x=I[0],A=I[1],w=R,k=G[0],C=G[1],Y=G[2],r,c),c.point(x,A)}function j(){O.point=L,c.lineEnd()}function tt(){D(),O.point=X,O.lineEnd=J}function X(R,W){H(f=R,W),_=x,p=A,M=k,E=C,b=Y,O.point=H}function J(){a(x,A,w,k,C,Y,_,p,f,M,E,b,r,c),O.lineEnd=j,j()}return O}function a(c,f,d,_,p,M,E,b,w,x,A,k,C,Y){var O=E-c,L=b-f,D=O*O+L*L;if(D>4*e&&C--){var H=_+x,j=p+A,tt=M+k,X=Math.sqrt(H*H+j*j+tt*tt),J=Math.asin(tt/=X),R=ht(ht(tt)-1)<nt||ht(d-w)<nt?(d+w)/2:Math.atan2(j,H),W=t(R,J),G=W[0],I=W[1],B=G-c,ut=I-f,vt=L*B-O*ut;(vt*vt/D>e||ht((O*B+L*ut)/D-.5)>.3||_*x+p*A+M*k<n)&&(a(c,f,d,_,p,M,G,I,R,H/=X,j/=X,tt,C,Y),Y.point(G,I),a(G,I,R,H,j,tt,E,b,w,x,A,k,C,Y))}}return i.precision=function(c){return arguments.length?(r=(e=c*c)>0&&16,i):Math.sqrt(e)},i}function au(t){var e=_o(function(n,r){return t([n*Ut,r*Ut])});return function(n){return vo(e(n))}}function po(t){this.stream=t}function mo(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Ur(t){return ps(function(){return t})()}function ps(t){var e,n,r,M,E,k,i=_o(function(D,H){return[(D=e(D,H))[0]*o+M,E-D[1]*o]}),o=150,u=480,a=250,c=0,f=0,d=0,_=0,p=0,b=ao,w=lt,x=null,A=null;function C(D){return[(D=r(D[0]*pt,D[1]*pt))[0]*o+M,E-D[1]*o]}function Y(D){return(D=r.invert((D[0]-M)/o,(E-D[1])/o))&&[D[0]*Ut,D[1]*Ut]}function O(){r=no(n=ms(d,_,p),e);var D=e(c,f);return M=u-D[0]*o,E=a+D[1]*o,L()}function L(){return k&&(k.valid=!1,k=null),C}return C.stream=function(D){return k&&(k.valid=!1),(k=vo(b(n,i(w(D))))).valid=!0,k},C.clipAngle=function(D){return arguments.length?(b=null==D?(x=D,ao):tu((x=+D)*pt),L()):x},C.clipExtent=function(D){return arguments.length?(A=D,w=D?lo(D[0][0],D[0][1],D[1][0],D[1][1]):lt,L()):A},C.scale=function(D){return arguments.length?(o=+D,O()):o},C.translate=function(D){return arguments.length?(u=+D[0],a=+D[1],O()):[u,a]},C.center=function(D){return arguments.length?(c=D[0]%360*pt,f=D[1]%360*pt,O()):[c*Ut,f*Ut]},C.rotate=function(D){return arguments.length?(d=D[0]%360*pt,_=D[1]%360*pt,p=D.length>2?D[2]%360*pt:0,O()):[d*Ut,_*Ut,p*Ut]},m.rebind(C,i,"precision"),function(){return e=t.apply(this,arguments),C.invert=e.invert&&Y,O()}}function vo(t){return mo(t,function(e,n){t.point(e*pt,n*pt)})}function Ai(t,e){return[t,e]}function yo(t,e){return[t>wt?t-De:t<-wt?t+De:t,e]}function ms(t,e,n){return t?e||n?no(wo(t),Mo(e,n)):wo(t):e||n?Mo(e,n):yo}function bo(t){return function(e,n){return[(e+=t)>wt?e-De:e<-wt?e+De:e,n]}}function wo(t){var e=bo(t);return e.invert=bo(-t),e}function Mo(t,e){var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),o=Math.sin(e);function u(a,c){var f=Math.cos(c),d=Math.cos(a)*f,_=Math.sin(a)*f,p=Math.sin(c),M=p*n+d*r;return[Math.atan2(_*i-M*o,d*n-p*r),cn(M*i+_*o)]}return u.invert=function(a,c){var f=Math.cos(c),d=Math.cos(a)*f,_=Math.sin(a)*f,p=Math.sin(c),M=p*i-_*o;return[Math.atan2(_*i+p*o,d*n+M*r),cn(M*n-d*r)]},u}function vs(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,u,a){var c=u*e;null!=i?(i=xo(n,i),o=xo(n,o),(u>0?i<o:i>o)&&(i+=u*De)):(i=t+u*De,o=t-.5*c);for(var f,d=i;u>0?d>o:d<o;d-=c)a.point((f=ot([n,-r*Math.cos(d),-r*Math.sin(d)]))[0],f[1])}}function xo(t,e){var n=g(e);n[0]-=t,V(n);var r=Se(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-nt)%(2*Math.PI)}function ko(t,e,n){var r=m.range(t,e-nt,n).concat(e);return function(i){return r.map(function(o){return[i,o]})}}function So(t,e,n){var r=m.range(t,e-nt,n).concat(e);return function(i){return r.map(function(o){return[o,i]})}}function ys(t){return t.source}function bs(t){return t.target}m.geo.path=function(){var e,n,r,i,o,t=4.5;function u(c){return c&&("function"==typeof t&&i.pointRadius(+t.apply(this,arguments)),(!o||!o.valid)&&(o=r(i)),m.geo.stream(c,o)),i.result()}function a(){return o=null,u}return u.area=function(c){return gs=0,m.geo.stream(c,r(Hr)),gs},u.centroid=function(c){return $t=te=pe=Yn=zr=ur=fi=di=Fr=0,m.geo.stream(c,r(Kn)),Fr?[fi/Fr,di/Fr]:ur?[Yn/ur,zr/ur]:pe?[$t/pe,te/pe]:[NaN,NaN]},u.bounds=function(c){return Wi=ji=-(Hi=Ui=1/0),m.geo.stream(c,r(nu)),[[Hi,Ui],[Wi,ji]]},u.projection=function(c){return arguments.length?(r=(e=c)?c.stream||au(c):lt,a()):e},u.context=function(c){return arguments.length?(i=null==(n=c)?new iu:new ou(c),"function"!=typeof t&&i.pointRadius(t),a()):n},u.pointRadius=function(c){return arguments.length?(t="function"==typeof c?c:(i.pointRadius(+c),+c),u):t},u.projection(m.geo.albersUsa()).context(null)},m.geo.transform=function(t){return{stream:function(e){var n=new po(e);for(var r in t)n[r]=t[r];return n}}},po.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},m.geo.projection=Ur,m.geo.projectionMutator=ps,(m.geo.equirectangular=function(){return Ur(Ai)}).raw=Ai.invert=Ai,m.geo.rotation=function(t){function e(n){return(n=t(n[0]*pt,n[1]*pt))[0]*=Ut,n[1]*=Ut,n}return t=ms(t[0]%360*pt,t[1]*pt,t.length>2?t[2]*pt:0),e.invert=function(n){return(n=t.invert(n[0]*pt,n[1]*pt))[0]*=Ut,n[1]*=Ut,n},e},yo.invert=Ai,m.geo.circle=function(){var e,r,t=[0,0],n=6;function i(){var o="function"==typeof t?t.apply(this,arguments):t,u=ms(-o[0]*pt,-o[1]*pt,0).invert,a=[];return r(null,null,1,{point:function(c,f){a.push(c=u(c,f)),c[0]*=Ut,c[1]*=Ut}}),{type:"Polygon",coordinates:[a]}}return i.origin=function(o){return arguments.length?(t=o,i):t},i.angle=function(o){return arguments.length?(r=vs((e=+o)*pt,n*pt),i):e},i.precision=function(o){return arguments.length?(r=vs(e*pt,(n=+o)*pt),i):n},i.angle(90)},m.geo.distance=function(t,e){var _,n=(e[0]-t[0])*pt,r=t[1]*pt,i=e[1]*pt,o=Math.sin(n),u=Math.cos(n),a=Math.sin(r),c=Math.cos(r),f=Math.sin(i),d=Math.cos(i);return Math.atan2(Math.sqrt((_=d*o)*_+(_=c*f-a*d*u)*_),a*f+c*d*u)},m.geo.graticule=function(){var t,e,n,r,i,o,u,a,p,M,E,b,c=10,f=c,d=90,_=360,w=2.5;function x(){return{type:"MultiLineString",coordinates:A()}}function A(){return m.range(Math.ceil(r/d)*d,n,d).map(E).concat(m.range(Math.ceil(a/_)*_,u,_).map(b)).concat(m.range(Math.ceil(e/c)*c,t,c).filter(function(k){return ht(k%d)>nt}).map(p)).concat(m.range(Math.ceil(o/f)*f,i,f).filter(function(k){return ht(k%_)>nt}).map(M))}return x.lines=function(){return A().map(function(k){return{type:"LineString",coordinates:k}})},x.outline=function(){return{type:"Polygon",coordinates:[E(r).concat(b(u).slice(1),E(n).reverse().slice(1),b(a).reverse().slice(1))]}},x.extent=function(k){return arguments.length?x.majorExtent(k).minorExtent(k):x.minorExtent()},x.majorExtent=function(k){return arguments.length?(a=+k[0][1],u=+k[1][1],(r=+k[0][0])>(n=+k[1][0])&&(k=r,r=n,n=k),a>u&&(k=a,a=u,u=k),x.precision(w)):[[r,a],[n,u]]},x.minorExtent=function(k){return arguments.length?(o=+k[0][1],i=+k[1][1],(e=+k[0][0])>(t=+k[1][0])&&(k=e,e=t,t=k),o>i&&(k=o,o=i,i=k),x.precision(w)):[[e,o],[t,i]]},x.step=function(k){return arguments.length?x.majorStep(k).minorStep(k):x.minorStep()},x.majorStep=function(k){return arguments.length?(d=+k[0],_=+k[1],x):[d,_]},x.minorStep=function(k){return arguments.length?(c=+k[0],f=+k[1],x):[c,f]},x.precision=function(k){return arguments.length?(w=+k,p=ko(o,i,90),M=So(e,t,w),E=ko(a,u,90),b=So(r,n,w),x):w},x.majorExtent([[-180,-90+nt],[180,90-nt]]).minorExtent([[-180,-80-nt],[180,80+nt]])},m.geo.greatArc=function(){var e,r,t=ys,n=bs;function i(){return{type:"LineString",coordinates:[e||t.apply(this,arguments),r||n.apply(this,arguments)]}}return i.distance=function(){return m.geo.distance(e||t.apply(this,arguments),r||n.apply(this,arguments))},i.source=function(o){return arguments.length?(t=o,e="function"==typeof o?null:o,i):t},i.target=function(o){return arguments.length?(n=o,r="function"==typeof o?null:o,i):n},i.precision=function(){return arguments.length?i:0},i},m.geo.interpolate=function(t,e){return function uu(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),u=Math.cos(r),a=Math.sin(r),c=i*Math.cos(t),f=i*Math.sin(t),d=u*Math.cos(n),_=u*Math.sin(n),p=2*Math.asin(Math.sqrt(Cn(r-e)+i*u*Cn(n-t))),M=1/Math.sin(p),E=p?function(b){var w=Math.sin(b*=p)*M,x=Math.sin(p-b)*M,A=x*c+w*d,k=x*f+w*_,C=x*o+w*a;return[Math.atan2(k,A)*Ut,Math.atan2(C,Math.sqrt(A*A+k*k))*Ut]}:function(){return[t*Ut,e*Ut]};return E.distance=p,E}(t[0]*pt,t[1]*pt,e[0]*pt,e[1]*pt)},m.geo.length=function(t){return ws=0,m.geo.stream(t,gi),ws};var ws,gi={sphere:Pt,point:Pt,lineStart:function lu(){var t,e,n;function r(i,o){var u=Math.sin(o*=pt),a=Math.cos(o),c=ht((i*=pt)-t),f=Math.cos(c);ws+=Math.atan2(Math.sqrt((c=a*Math.sin(c))*c+(c=n*u-e*a*f)*c),e*u+n*a*f),t=i,e=u,n=a}gi.point=function(i,o){t=i*pt,e=Math.sin(o*=pt),n=Math.cos(o),gi.point=r},gi.lineEnd=function(){gi.point=gi.lineEnd=Pt}},lineEnd:Pt,polygonStart:Pt,polygonEnd:Pt};function Ei(t,e){function n(r,i){var o=Math.cos(r),u=Math.cos(i),a=t(o*u);return[a*u*Math.sin(r),a*Math.sin(i)]}return n.invert=function(r,i){var o=Math.sqrt(r*r+i*i),u=e(o),a=Math.sin(u),c=Math.cos(u);return[Math.atan2(r*a,o*c),Math.asin(o&&i*a/o)]},n}var Co=Ei(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(m.geo.azimuthalEqualArea=function(){return Ur(Co)}).raw=Co;var Ao=Ei(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},lt);function Eo(t,e){var n=Math.cos(t),r=function(a){return Math.tan(wt/4+a/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),o=n*Math.pow(r(t),i)/i;if(!i)return qi;function u(a,c){o>0?c<-Qt+nt&&(c=-Qt+nt):c>Qt-nt&&(c=Qt-nt);var f=o/Math.pow(r(c),i);return[f*Math.sin(i*a),o-f*Math.cos(i*a)]}return u.invert=function(a,c){var f=o-c,d=ii(i)*Math.sqrt(a*a+f*f);return[Math.atan2(a,f)/i,2*Math.atan(Math.pow(o/d,1/i))-Qt]},u}function To(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;if(ht(r)<nt)return Ai;function o(u,a){var c=i-a;return[c*Math.sin(r*u),i-c*Math.cos(r*u)]}return o.invert=function(u,a){var c=i-a;return[Math.atan2(u,c)/r,i-ii(r)*Math.sqrt(u*u+c*c)]},o}(m.geo.azimuthalEquidistant=function(){return Ur(Ao)}).raw=Ao,(m.geo.conicConformal=function(){return ds(Eo)}).raw=Eo,(m.geo.conicEquidistant=function(){return ds(To)}).raw=To;var No=Ei(function(t){return 1/t},Math.atan);function qi(t,e){return[t,Math.log(Math.tan(wt/4+e/2))]}function Do(t){var o,e=Ur(t),n=e.scale,r=e.translate,i=e.clipExtent;return e.scale=function(){var u=n.apply(e,arguments);return u===e?o?e.clipExtent(null):e:u},e.translate=function(){var u=r.apply(e,arguments);return u===e?o?e.clipExtent(null):e:u},e.clipExtent=function(u){var a=i.apply(e,arguments);if(a===e){if(o=null==u){var c=wt*n(),f=r();i([[f[0]-c,f[1]-c],[f[0]+c,f[1]+c]])}}else o&&(a=null);return a},e.clipExtent(null)}(m.geo.gnomonic=function(){return Ur(No)}).raw=No,qi.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Qt]},(m.geo.mercator=function(){return Do(qi)}).raw=qi;var Oo=Ei(function(){return 1},Math.asin);(m.geo.orthographic=function(){return Ur(Oo)}).raw=Oo;var Lo=Ei(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function Ms(t,e){return[Math.log(Math.tan(wt/4+e/2)),-t]}function _i(t){return t[0]}function Ti(t){return t[1]}function Po(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&jn(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function cu(t,e){return t[0]-e[0]||t[1]-e[1]}(m.geo.stereographic=function(){return Ur(Lo)}).raw=Lo,Ms.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Qt]},(m.geo.transverseMercator=function(){var t=Do(Ms),e=t.center,n=t.rotate;return t.center=function(r){return r?e([-r[1],r[0]]):[(r=e())[1],-r[0]]},t.rotate=function(r){return r?n([r[0],r[1],r.length>2?r[2]+90:90]):[(r=n())[0],r[1],r[2]-90]},n([0,0,90])}).raw=Ms,m.geom={},m.geom.hull=function(t){var e=_i,n=Ti;if(arguments.length)return r(t);function r(i){if(i.length<3)return[];var a,o=Ft(e),u=Ft(n),c=i.length,f=[],d=[];for(a=0;a<c;a++)f.push([+o.call(this,i[a],a),+u.call(this,i[a],a),a]);for(f.sort(cu),a=0;a<c;a++)d.push([f[a][0],-f[a][1]]);var _=Po(f),p=Po(d),M=p[0]===_[0],E=p[p.length-1]===_[_.length-1],b=[];for(a=_.length-1;a>=0;--a)b.push(i[f[_[a]][2]]);for(a=+M;a<p.length-E;++a)b.push(i[f[p[a]][2]]);return b}return r.x=function(i){return arguments.length?(e=i,r):e},r.y=function(i){return arguments.length?(n=i,r):n},r},m.geom.polygon=function(t){return Xt(t,Bi),t};var Bi=m.geom.polygon.prototype=[];function xs(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function ks(t,e,n,r){var i=t[0],o=n[0],u=e[0]-i,a=r[0]-o,c=t[1],f=n[1],d=e[1]-c,_=r[1]-f,p=(a*(c-f)-_*(i-o))/(_*u-a*d);return[i+p*u,c+p*d]}function Yo(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}Bi.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],i=0;++t<e;)i+=(n=r)[1]*(r=this[t])[0]-n[0]*r[1];return.5*i},Bi.centroid=function(t){var o,a,e=-1,n=this.length,r=0,i=0,u=this[n-1];for(arguments.length||(t=-1/(6*this.area()));++e<n;)r+=((o=u)[0]+(u=this[e])[0])*(a=o[0]*u[1]-u[0]*o[1]),i+=(o[1]+u[1])*a;return[r*t,i*t]},Bi.clip=function(t){for(var e,o,u,c,f,d,n=Yo(t),r=-1,i=this.length-Yo(this),a=this[i-1];++r<i;){for(e=t.slice(),t.length=0,c=this[r],f=e[(u=e.length-n)-1],o=-1;++o<u;)xs(d=e[o],a,c)?(xs(f,a,c)||t.push(ks(f,d,a,c)),t.push(d)):xs(f,a,c)&&t.push(ks(f,d,a,c)),f=d;n&&t.push(t[0]),a=c}return t};var pi,Kr,mi,Ss,Ni,Ro=[],Io=[];function hu(){$i(this),this.edge=this.site=this.circle=null}function zo(t){var e=Ro.pop()||new hu;return e.site=t,e}function Cs(t){yi(t),mi.remove(t),Ro.push(t),$i(t)}function fu(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,u=t.N,a=[t];Cs(t);for(var c=o;c.circle&&ht(n-c.circle.x)<nt&&ht(r-c.circle.cy)<nt;)o=c.P,a.unshift(c),Cs(c),c=o;a.unshift(c),yi(c);for(var f=u;f.circle&&ht(n-f.circle.x)<nt&&ht(r-f.circle.cy)<nt;)u=f.N,a.push(f),Cs(f),f=u;a.push(f),yi(f);var _,d=a.length;for(_=1;_<d;++_)Vi((f=a[_]).edge,(c=a[_-1]).site,f.site,i);(f=a[d-1]).edge=Di((c=a[0]).site,f.site,null,i),vi(c),vi(f)}function du(t){for(var r,i,o,u,e=t.x,n=t.y,a=mi._;a;)if((o=Fo(a,n)-e)>nt)a=a.L;else{if(!((u=e-gu(a,n))>nt)){o>-nt?(r=a.P,i=a):u>-nt?(r=a,i=a.N):r=i=a;break}if(!a.R){r=a;break}a=a.R}var c=zo(t);if(mi.insert(r,c),r||i){if(r===i)return yi(r),i=zo(r.site),mi.insert(c,i),c.edge=i.edge=Di(r.site,c.site),vi(r),void vi(i);if(!i)return void(c.edge=Di(r.site,c.site));yi(r),yi(i);var f=r.site,d=f.x,_=f.y,p=t.x-d,M=t.y-_,E=i.site,b=E.x-d,w=E.y-_,x=2*(p*w-M*b),A=p*p+M*M,k=b*b+w*w,C={x:(w*A-M*k)/x+d,y:(p*k-b*A)/x+_};Vi(i.edge,f,E,C),c.edge=Di(f,t,null,C),i.edge=Di(t,E,null,C),vi(r),vi(i)}}function Fo(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var u=t.P;if(!u)return-1/0;var a=(n=u.site).x,c=n.y,f=c-e;if(!f)return a;var d=a-r,_=1/o-1/f,p=d/f;return _?(-p+Math.sqrt(p*p-2*_*(d*d/(-2*f)-c+f/2+i-o/2)))/_+r:(r+a)/2}function gu(t,e){var n=t.N;if(n)return Fo(n,e);var r=t.site;return r.y===e?r.x:1/0}function Ho(t){this.site=t,this.edges=[]}function Uo(t,e){return e.angle-t.angle}function pu(){$i(this),this.x=this.y=this.arc=this.site=this.cy=null}function vi(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var u=i.x,a=i.y,c=r.x-u,f=r.y-a,d=o.x-u,_=2*(c*(w=o.y-a)-f*d);if(!(_>=-Sn)){var p=c*c+f*f,M=d*d+w*w,E=(w*p-f*M)/_,b=(c*M-d*p)/_,w=b+a,x=Io.pop()||new pu;x.arc=t,x.site=i,x.x=E+u,x.y=w+Math.sqrt(E*E+b*b),x.cy=w,t.circle=x;for(var A=null,k=Ni._;k;)if(x.y<k.y||x.y===k.y&&x.x<=k.x){if(!k.L){A=k.P;break}k=k.L}else{if(!k.R){A=k;break}k=k.R}Ni.insert(A,x),A||(Ss=x)}}}}function yi(t){var e=t.circle;e&&(e.P||(Ss=e.N),Ni.remove(e),Io.push(e),$i(e),t.circle=null)}function vu(t,e){var n=t.b;if(n)return!0;var w,x,r=t.a,i=e[0][0],o=e[1][0],u=e[0][1],a=e[1][1],c=t.l,f=t.r,d=c.x,_=c.y,p=f.x,M=f.y,E=(d+p)/2;if(M===_){if(E<i||E>=o)return;if(d>p){if(r){if(r.y>=a)return}else r={x:E,y:u};n={x:E,y:a}}else{if(r){if(r.y<u)return}else r={x:E,y:a};n={x:E,y:u}}}else if(x=(_+M)/2-(w=(d-p)/(M-_))*E,w<-1||w>1)if(d>p){if(r){if(r.y>=a)return}else r={x:(u-x)/w,y:u};n={x:(a-x)/w,y:a}}else{if(r){if(r.y<u)return}else r={x:(a-x)/w,y:a};n={x:(u-x)/w,y:u}}else if(_<M){if(r){if(r.x>=o)return}else r={x:i,y:w*i+x};n={x:o,y:w*o+x}}else{if(r){if(r.x<i)return}else r={x:o,y:w*o+x};n={x:i,y:w*i+x}}return t.a=r,t.b=n,!0}function Wo(t,e){this.l=t,this.r=e,this.a=this.b=null}function Di(t,e,n,r){var i=new Wo(t,e);return pi.push(i),n&&Vi(i,t,e,n),r&&Vi(i,e,t,r),Kr[t.i].edges.push(new Gi(i,t,e)),Kr[e.i].edges.push(new Gi(i,e,t)),i}function yu(t,e,n){var r=new Wo(t,null);return r.a=e,r.b=n,pi.push(r),r}function Vi(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function Gi(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function As(){this._=null}function $i(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Oi(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Li(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function jo(t){for(;t.L;)t=t.L;return t}function Es(t,e){var r,i,o,n=t.sort(bu).pop();for(pi=[],Kr=new Array(t.length),mi=new As,Ni=new As;;)if(o=Ss,n&&(!o||n.y<o.y||n.y===o.y&&n.x<o.x))(n.x!==r||n.y!==i)&&(Kr[n.i]=new Ho(n),du(n),r=n.x,i=n.y),n=t.pop();else{if(!o)break;fu(o.arc)}e&&(function mu(t){for(var i,e=pi,n=uo(t[0][0],t[0][1],t[1][0],t[1][1]),r=e.length;r--;)(!vu(i=e[r],t)||!n(i)||ht(i.a.x-i.b.x)<nt&&ht(i.a.y-i.b.y)<nt)&&(i.a=i.b=null,e.splice(r,1))}(e),function _u(t){for(var o,u,a,c,_,p,M,E,b,w,e=t[0][0],n=t[1][0],r=t[0][1],i=t[1][1],f=Kr,d=f.length;d--;)if((_=f[d])&&_.prepare())for(E=(M=_.edges).length,p=0;p<E;)a=(w=M[p].end()).x,c=w.y,u=(b=M[++p%E].start()).y,(ht(a-(o=b.x))>nt||ht(c-u)>nt)&&(M.splice(p,0,new Gi(yu(_.site,w,ht(a-e)<nt&&i-c>nt?{x:e,y:ht(o-e)<nt?u:i}:ht(c-i)<nt&&n-a>nt?{x:ht(u-i)<nt?o:n,y:i}:ht(a-n)<nt&&c-r>nt?{x:n,y:ht(o-n)<nt?u:r}:ht(c-r)<nt&&a-e>nt?{x:ht(u-r)<nt?o:e,y:r}:null),_.site,null)),++E)}(e));var u={cells:Kr,edges:pi};return mi=Ni=pi=Kr=null,u}function bu(t,e){return e.y-t.y||e.x-t.x}Ho.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)(!(n=t[e].edge).b||!n.a)&&t.splice(e,1);return t.sort(Uo),t.length},Gi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},As.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=jo(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Oi(this,n),n=(t=n).U),n.C=!1,r.C=!0,Li(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Li(this,n),n=(t=n).U),n.C=!1,r.C=!0,Oi(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,o,u,e=t.U,r=t.L,i=t.R;if(o=r?i?jo(i):r:i,e?e.L===t?e.L=o:e.R=o:this._=o,r&&i?(u=o.C,o.C=t.C,o.L=r,r.U=o,o!==i?(e=o.U,o.U=t.U,e.L=t=o.R,o.R=i,i.U=o):(o.U=e,e=o,t=o.R)):(u=t.C,t=o),t&&(t.U=e),!u){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===e.L){if((n=e.R).C&&(n.C=!1,e.C=!0,Oi(this,e),n=e.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,Li(this,n),n=e.R),n.C=e.C,e.C=n.R.C=!1,Oi(this,e),t=this._;break}}else if((n=e.L).C&&(n.C=!1,e.C=!0,Li(this,e),n=e.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,Oi(this,n),n=e.L),n.C=e.C,e.C=n.L.C=!1,Li(this,e),t=this._;break}n.C=!0,t=e,e=e.U}while(!t.C);t&&(t.C=!1)}}},m.geom.voronoi=function(t){var e=_i,n=Ti,r=e,i=n,o=Zi;if(t)return u(t);function u(c){var f=new Array(c.length),d=o[0][0],_=o[0][1],p=o[1][0],M=o[1][1];return Es(a(c),o).cells.forEach(function(E,b){var w=E.edges,x=E.site;(f[b]=w.length?w.map(function(k){var C=k.start();return[C.x,C.y]}):x.x>=d&&x.x<=p&&x.y>=_&&x.y<=M?[[d,M],[p,M],[p,_],[d,_]]:[]).point=c[b]}),f}function a(c){return c.map(function(f,d){return{x:Math.round(r(f,d)/nt)*nt,y:Math.round(i(f,d)/nt)*nt,i:d}})}return u.links=function(c){return Es(a(c)).edges.filter(function(f){return f.l&&f.r}).map(function(f){return{source:c[f.l.i],target:c[f.r.i]}})},u.triangles=function(c){var f=[];return Es(a(c)).cells.forEach(function(d,_){for(var x,p=d.site,M=d.edges.sort(Uo),E=-1,b=M.length,A=M[b-1].edge,k=A.l===p?A.r:A.l;++E<b;)x=k,k=(A=M[E].edge).l===p?A.r:A.l,_<x.i&&_<k.i&&wu(p,x,k)<0&&f.push([c[_],c[x.i],c[k.i]])}),f},u.x=function(c){return arguments.length?(r=Ft(e=c),u):e},u.y=function(c){return arguments.length?(i=Ft(n=c),u):n},u.clipExtent=function(c){return arguments.length?(o=null==c?Zi:c,u):o===Zi?null:o},u.size=function(c){return arguments.length?u.clipExtent(c&&[[0,0],c]):o===Zi?null:o&&o[1]},u};var Zi=[[-1e6,-1e6],[1e6,1e6]];function wu(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function Mu(t){return t.x}function xu(t){return t.y}function Pi(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var u=.5*(n+i),a=.5*(r+o),c=e.nodes;c[0]&&Pi(t,c[0],n,r,u,a),c[1]&&Pi(t,c[1],u,r,i,a),c[2]&&Pi(t,c[2],n,a,u,o),c[3]&&Pi(t,c[3],u,a,i,o)}}function ku(t,e,n,r,i,o,u){var c,a=1/0;return function f(d,_,p,M,E){if(!(_>o||p>u||M<r||E<i)){if(b=d.point){var b,w=e-d.x,x=n-d.y,A=w*w+x*x;if(A<a){var k=Math.sqrt(a=A);r=e-k,i=n-k,o=e+k,u=n+k,c=b}}for(var C=d.nodes,Y=.5*(_+M),O=.5*(p+E),H=(n>=O)<<1|e>=Y,j=H+4;H<j;++H)if(d=C[3&H])switch(3&H){case 0:f(d,_,p,Y,O);break;case 1:f(d,Y,p,M,O);break;case 2:f(d,_,O,Y,E);break;case 3:f(d,Y,O,M,E)}}}(t,r,i,o,u),c}function Ts(t,e){t=m.rgb(t),e=m.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,u=e.g-r,a=e.b-i;return function(c){return"#"+Gn(Math.round(n+o*c))+Gn(Math.round(r+u*c))+Gn(Math.round(i+a*c))}}function Bo(t,e){var i,n={},r={};for(i in t)i in e?n[i]=Qr(t[i],e[i]):r[i]=t[i];for(i in e)i in t||(r[i]=e[i]);return function(o){for(i in n)r[i]=n[i](o);return r}}function Sr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Vo(t,e){var r,i,o,n=Ns.lastIndex=Ds.lastIndex=0,u=-1,a=[],c=[];for(t+="",e+="";(r=Ns.exec(t))&&(i=Ds.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[u]?a[u]+=o:a[++u]=o),(r=r[0])===(i=i[0])?a[u]?a[u]+=i:a[++u]=i:(a[++u]=null,c.push({i:u,x:Sr(r,i)})),n=Ds.lastIndex;return n<e.length&&(o=e.slice(n),a[u]?a[u]+=o:a[++u]=o),a.length<2?c[0]?(e=c[0].x,function(f){return e(f)+""}):function(){return e}:(e=c.length,function(f){for(var _,d=0;d<e;++d)a[(_=c[d]).i]=_.x(f);return a.join("")})}m.geom.delaunay=function(t){return m.geom.voronoi().triangles(t)},m.geom.quadtree=function(t,e,n,r,i){var a,o=_i,u=Ti;if(a=arguments.length)return o=Mu,u=xu,3===a&&(i=n,r=e,n=e=0),c(t);function c(f){var d,M,E,b,w,x,A,k,C,_=Ft(o),p=Ft(u);if(null!=e)x=e,A=n,k=r,C=i;else if(k=C=-(x=A=1/0),M=[],E=[],w=f.length,a)for(b=0;b<w;++b)(d=f[b]).x<x&&(x=d.x),d.y<A&&(A=d.y),d.x>k&&(k=d.x),d.y>C&&(C=d.y),M.push(d.x),E.push(d.y);else for(b=0;b<w;++b){var Y=+_(d=f[b],b),O=+p(d,b);Y<x&&(x=Y),O<A&&(A=O),Y>k&&(k=Y),O>C&&(C=O),M.push(Y),E.push(O)}var L=k-x,D=C-A;function H(X,J,R,W,G,I,B,ut){if(!isNaN(R)&&!isNaN(W))if(X.leaf){var vt=X.x,St=X.y;if(null!=vt)if(ht(vt-R)+ht(St-W)<.01)j(X,J,R,W,G,I,B,ut);else{var Wt=X.point;X.x=X.y=X.point=null,j(X,Wt,vt,St,G,I,B,ut),j(X,J,R,W,G,I,B,ut)}else X.x=R,X.y=W,X.point=J}else j(X,J,R,W,G,I,B,ut)}function j(X,J,R,W,G,I,B,ut){var vt=.5*(G+B),St=.5*(I+ut),Wt=R>=vt,Zt=W>=St,Ve=Zt<<1|Wt;X.leaf=!1,Wt?G=vt:B=vt,Zt?I=St:ut=St,H(X=X.nodes[Ve]||(X.nodes[Ve]={leaf:!0,nodes:[],point:null,x:null,y:null}),J,R,W,G,I,B,ut)}L>D?C=A+L:k=x+D;var tt={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(X){H(tt,X,+_(X,++b),+p(X,b),x,A,k,C)},visit:function(X){Pi(X,tt,x,A,k,C)},find:function(X){return ku(tt,X[0],X[1],x,A,k,C)}};if(b=-1,null==e){for(;++b<w;)H(tt,f[b],M[b],E[b],x,A,k,C);--b}else f.forEach(tt.add);return M=E=f=d=null,tt}return c.x=function(f){return arguments.length?(o=f,c):o},c.y=function(f){return arguments.length?(u=f,c):u},c.extent=function(f){return arguments.length?(null==f?e=n=r=i=null:(e=+f[0][0],n=+f[0][1],r=+f[1][0],i=+f[1][1]),c):null==e?null:[[e,n],[r,i]]},c.size=function(f){return arguments.length?(null==f?e=n=r=i=null:(e=n=0,r=+f[0],i=+f[1]),c):null==e?null:[r-e,i-n]},c},m.interpolateRgb=Ts,m.interpolateObject=Bo,m.interpolateNumber=Sr,m.interpolateString=Vo;var Ns=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ds=new RegExp(Ns.source,"g");function Qr(t,e){for(var r,n=m.interpolators.length;--n>=0&&!(r=m.interpolators[n](t,e)););return r}function Xi(t,e){var a,n=[],r=[],i=t.length,o=e.length,u=Math.min(t.length,e.length);for(a=0;a<u;++a)n.push(Qr(t[a],e[a]));for(;a<i;++a)r[a]=t[a];for(;a<o;++a)r[a]=e[a];return function(c){for(a=0;a<u;++a)r[a]=n[a](c);return r}}m.interpolate=Qr,m.interpolators=[function(t,e){var n=typeof e;return("string"===n?yr.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Ts:Vo:e instanceof hn?Ts:Array.isArray(e)?Xi:"object"===n&&isNaN(e)?Bo:Sr)(t,e)}],m.interpolateArray=Xi;var Go=function(){return lt},Su=m.map({linear:Go,poly:function Du(t){return function(e){return Math.pow(e,t)}},quad:function(){return Eu},cubic:function(){return Tu},sin:function(){return Ou},exp:function(){return Lu},circle:function(){return Pu},elastic:function Yu(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/De*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*De/e)}},back:function Ru(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},bounce:function(){return Iu}}),Cu=m.map({in:lt,out:$o,"in-out":Zo,"out-in":function(t){return Zo($o(t))}});function Au(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function $o(t){return function(e){return 1-t(1-e)}}function Zo(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function Eu(t){return t*t}function Tu(t){return t*t*t}function Nu(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Ou(t){return 1-Math.cos(t*Qt)}function Lu(t){return Math.pow(2,10*(t-1))}function Pu(t){return 1-Math.sqrt(1-t*t)}function Iu(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Xo(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Ko(t){var e=[t.a,t.b],n=[t.c,t.d],r=Jo(e),i=Qo(e,n),o=Jo(function Uu(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ut,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Ut:0}function Qo(t,e){return t[0]*e[0]+t[1]*e[1]}function Jo(t){var e=Math.sqrt(Qo(t,t));return e&&(t[0]/=e,t[1]/=e),e}m.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=Su.get(n)||Go,Au((r=Cu.get(r)||lt)(n.apply(null,F.call(arguments,1))))},m.interpolateHcl=function zu(t,e){t=m.hcl(t),e=m.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,u=e.c-r,a=e.l-i;return isNaN(u)&&(u=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(c){return En(n+o*c,r+u*c,i+a*c)+""}},m.interpolateHsl=function Fu(t,e){t=m.hsl(t),e=m.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,u=e.s-r,a=e.l-i;return isNaN(u)&&(u=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(c){return An(n+o*c,r+u*c,i+a*c)+""}},m.interpolateLab=function Hu(t,e){t=m.lab(t),e=m.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,u=e.a-r,a=e.b-i;return function(c){return pr(n+o*c,r+u*c,i+a*c)+""}},m.interpolateRound=Xo,m.transform=function(t){var e=K.createElementNS(m.ns.prefix.svg,"g");return(m.transform=function(n){if(null!=n){e.setAttribute("transform",n);var r=e.transform.baseVal.consolidate()}return new Ko(r?r.matrix:Wu)})(t)},Ko.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Wu={a:1,b:0,c:0,d:1,e:0,f:0};function bi(t){return t.length?t.pop()+",":""}function ta(t,e){var n=[],r=[];return t=m.transform(t),e=m.transform(e),function ju(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:Sr(t[0],e[0])},{i:i-2,x:Sr(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,n,r),function qu(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(bi(n)+"rotate(",null,")")-2,x:Sr(t,e)})):e&&n.push(bi(n)+"rotate("+e+")")}(t.rotate,e.rotate,n,r),function Bu(t,e,n,r){t!==e?r.push({i:n.push(bi(n)+"skewX(",null,")")-2,x:Sr(t,e)}):e&&n.push(bi(n)+"skewX("+e+")")}(t.skew,e.skew,n,r),function Vu(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(bi(n)+"scale(",null,",",null,")");r.push({i:i-4,x:Sr(t[0],e[0])},{i:i-2,x:Sr(t[1],e[1])})}else(1!==e[0]||1!==e[1])&&n.push(bi(n)+"scale("+e+")")}(t.scale,e.scale,n,r),t=e=null,function(i){for(var a,o=-1,u=r.length;++o<u;)n[(a=r[o]).i]=a.x(i);return n.join("")}}function Gu(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function $u(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Zu(t){for(var e=t.source,n=t.target,r=function Xu(t,e){if(t===e)return t;for(var n=ea(t),r=ea(e),i=n.pop(),o=r.pop(),u=null;i===o;)u=i,i=n.pop(),o=r.pop();return u}(e,n),i=[e];e!==r;)i.push(e=e.parent);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function ea(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Ku(t){t.fixed|=2}function Qu(t){t.fixed&=-7}function Ju(t){t.fixed|=4,t.px=t.x,t.py=t.y}function tl(t){t.fixed&=-5}function na(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var c,o=t.nodes,u=o.length,a=-1;++a<u;)null!=(c=o[a])&&(na(c,e,n),t.charge+=c.charge,r+=c.charge*c.cx,i+=c.charge*c.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var f=e*n[t.point.index];t.charge+=t.pointCharge=f,r+=f*t.point.x,i+=f*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}m.interpolateTransform=ta,m.layout={},m.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Zu(t[n]));return e}},m.layout.chord=function(){var e,n,r,i,u,a,c,t={},o=0;function f(){var b,w,x,A,k,_={},p=[],M=m.range(i),E=[];for(e=[],n=[],b=0,A=-1;++A<i;){for(w=0,k=-1;++k<i;)w+=r[A][k];p.push(w),E.push(m.range(i)),b+=w}for(u&&M.sort(function(tt,X){return u(p[tt],p[X])}),a&&E.forEach(function(tt,X){tt.sort(function(J,R){return a(r[X][J],r[X][R])})}),b=(De-o*i)/b,w=0,A=-1;++A<i;){for(x=w,k=-1;++k<i;){var C=M[A],Y=E[C][k],O=r[C][Y],L=w,D=w+=O*b;_[C+"-"+Y]={index:C,subindex:Y,startAngle:L,endAngle:D,value:O}}n[C]={index:C,startAngle:x,endAngle:w,value:p[C]},w+=o}for(A=-1;++A<i;)for(k=A-1;++k<i;){var H=_[A+"-"+k],j=_[k+"-"+A];(H.value||j.value)&&e.push(H.value<j.value?{source:j,target:H}:{source:H,target:j})}c&&d()}function d(){e.sort(function(_,p){return c((_.source.value+_.target.value)/2,(p.source.value+p.target.value)/2)})}return t.matrix=function(_){return arguments.length?(i=(r=_)&&r.length,e=n=null,t):r},t.padding=function(_){return arguments.length?(o=_,e=n=null,t):o},t.sortGroups=function(_){return arguments.length?(u=_,e=n=null,t):u},t.sortSubgroups=function(_){return arguments.length?(a=_,e=null,t):a},t.sortChords=function(_){return arguments.length?(c=_,e&&d(),t):c},t.chords=function(){return e||f(),e},t.groups=function(){return n||f(),n},t},m.layout.force=function(){var n,i,o,b,w,x,t={},e=m.dispatch("start","tick","end"),r=[1,1],u=.9,a=el,c=nl,f=-30,d=rl,_=.1,p=.64,M=[],E=[];function A(C){return function(Y,O,L,D){if(Y.point!==C){var J,H=Y.cx-C.x,j=Y.cy-C.y,tt=D-O,X=H*H+j*j;if(tt*tt/p<X)return X<d&&(C.px-=H*(J=Y.charge/X),C.py-=j*J),!0;Y.point&&X&&X<d&&(C.px-=H*(J=Y.pointCharge/X),C.py-=j*J)}return!Y.charge}}function k(C){C.px=m.event.x,C.py=m.event.y,t.resume()}return t.tick=function(){if((o*=.99)<.005)return n=null,e.end({type:"end",alpha:o=0}),!0;var O,L,D,H,j,tt,X,J,R,C=M.length,Y=E.length;for(L=0;L<Y;++L)(tt=(J=(j=(D=E[L]).target).x-(H=D.source).x)*J+(R=j.y-H.y)*R)&&(R*=tt=o*w[L]*((tt=Math.sqrt(tt))-b[L])/tt,j.x-=(J*=tt)*(X=H.weight+j.weight?H.weight/(H.weight+j.weight):.5),j.y-=R*X,H.x+=J*(X=1-X),H.y+=R*X);if((X=o*_)&&(J=r[0]/2,R=r[1]/2,L=-1,X))for(;++L<C;)(D=M[L]).x+=(J-D.x)*X,D.y+=(R-D.y)*X;if(f)for(na(O=m.geom.quadtree(M),o,x),L=-1;++L<C;)(D=M[L]).fixed||O.visit(A(D));for(L=-1;++L<C;)(D=M[L]).fixed?(D.x=D.px,D.y=D.py):(D.x-=(D.px-(D.px=D.x))*u,D.y-=(D.py-(D.py=D.y))*u);e.tick({type:"tick",alpha:o})},t.nodes=function(C){return arguments.length?(M=C,t):M},t.links=function(C){return arguments.length?(E=C,t):E},t.size=function(C){return arguments.length?(r=C,t):r},t.linkDistance=function(C){return arguments.length?(a="function"==typeof C?C:+C,t):a},t.distance=t.linkDistance,t.linkStrength=function(C){return arguments.length?(c="function"==typeof C?C:+C,t):c},t.friction=function(C){return arguments.length?(u=+C,t):u},t.charge=function(C){return arguments.length?(f="function"==typeof C?C:+C,t):f},t.chargeDistance=function(C){return arguments.length?(d=C*C,t):Math.sqrt(d)},t.gravity=function(C){return arguments.length?(_=+C,t):_},t.theta=function(C){return arguments.length?(p=C*C,t):Math.sqrt(p)},t.alpha=function(C){return arguments.length?(C=+C,o?C>0?o=C:(n.c=null,n.t=NaN,n=null,e.end({type:"end",alpha:o=0})):C>0&&(e.start({type:"start",alpha:o=C}),n=sr(t.tick)),t):o},t.start=function(){var C,H,j,Y=M.length,O=E.length,L=r[0],D=r[1];for(C=0;C<Y;++C)(j=M[C]).index=C,j.weight=0;for(C=0;C<O;++C)"number"==typeof(j=E[C]).source&&(j.source=M[j.source]),"number"==typeof j.target&&(j.target=M[j.target]),++j.source.weight,++j.target.weight;for(C=0;C<Y;++C)j=M[C],isNaN(j.x)&&(j.x=tt("x",L)),isNaN(j.y)&&(j.y=tt("y",D)),isNaN(j.px)&&(j.px=j.x),isNaN(j.py)&&(j.py=j.y);if(b=[],"function"==typeof a)for(C=0;C<O;++C)b[C]=+a.call(this,E[C],C);else for(C=0;C<O;++C)b[C]=a;if(w=[],"function"==typeof c)for(C=0;C<O;++C)w[C]=+c.call(this,E[C],C);else for(C=0;C<O;++C)w[C]=c;if(x=[],"function"==typeof f)for(C=0;C<Y;++C)x[C]=+f.call(this,M[C],C);else for(C=0;C<Y;++C)x[C]=f;function tt(X,J){if(!H){for(H=new Array(Y),G=0;G<Y;++G)H[G]=[];for(G=0;G<O;++G){var R=E[G];H[R.source.index].push(R.target),H[R.target.index].push(R.source)}}for(var B,W=H[C],G=-1,I=W.length;++G<I;)if(!isNaN(B=W[G][X]))return B;return Math.random()*J}return t.resume()},t.resume=function(){return t.alpha(.1)},t.stop=function(){return t.alpha(0)},t.drag=function(){if(i||(i=m.behavior.drag().origin(lt).on("dragstart.force",Ku).on("drag.force",k).on("dragend.force",Qu)),!arguments.length)return i;this.on("mouseover.force",Ju).on("mouseout.force",tl).call(i)},m.rebind(t,e,"on")};var el=20,nl=1,rl=1/0;function Yi(t,e){return m.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=al,t}function Ri(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function lr(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(u=t.children)&&(o=u.length))for(var o,u,i=-1;++i<o;)n.push(u[i]);for(;null!=(t=r.pop());)e(t)}function il(t){return t.children}function sl(t){return t.value}function ol(t,e){return e.value-t.value}function al(t){return m.merge(t.map(function(e){return(e.children||[]).map(function(n){return{source:e,target:n}})}))}m.layout.hierarchy=function(){var t=ol,e=il,n=sl;function r(i){var a,o=[i],u=[];for(i.depth=0;null!=(a=o.pop());)if(u.push(a),(f=e.call(r,a,a.depth))&&(c=f.length)){for(var c,f,d;--c>=0;)o.push(d=f[c]),d.parent=a,d.depth=a.depth+1;n&&(a.value=0),a.children=f}else n&&(a.value=+n.call(r,a,a.depth)||0),delete a.children;return lr(i,function(_){var p,M;t&&(p=_.children)&&p.sort(t),n&&(M=_.parent)&&(M.value+=_.value)}),u}return r.sort=function(i){return arguments.length?(t=i,r):t},r.children=function(i){return arguments.length?(e=i,r):e},r.value=function(i){return arguments.length?(n=i,r):n},r.revalue=function(i){return n&&(Ri(i,function(o){o.children&&(o.value=0)}),lr(i,function(o){var u;o.children||(o.value=+n.call(r,o,o.depth)||0),(u=o.parent)&&(u.value+=o.value)})),i},r},m.layout.partition=function(){var t=m.layout.hierarchy(),e=[1,1];function n(o,u,a,c){var f=o.children;if(o.x=u,o.y=o.depth*c,o.dx=a,o.dy=c,f&&(_=f.length)){var _,p,M,d=-1;for(a=o.value?a/o.value:0;++d<_;)n(p=f[d],u,M=p.value*a,c),u+=M}}function r(o){var u=o.children,a=0;if(u&&(f=u.length))for(var f,c=-1;++c<f;)a=Math.max(a,r(u[c]));return 1+a}function i(o,u){var a=t.call(this,o,u);return n(a[0],0,e[0],e[1]/r(a[0])),a}return i.size=function(o){return arguments.length?(e=o,i):e},Yi(i,t)},m.layout.pie=function(){var t=Number,e=ra,n=0,r=De,i=0;function o(u){var x,a=u.length,c=u.map(function(A,k){return+t.call(o,A,k)}),f=+("function"==typeof n?n.apply(this,arguments):n),d=("function"==typeof r?r.apply(this,arguments):r)-f,_=Math.min(Math.abs(d)/a,+("function"==typeof i?i.apply(this,arguments):i)),p=_*(d<0?-1:1),M=m.sum(c),E=M?(d-a*p)/M:0,b=m.range(a),w=[];return null!=e&&b.sort(e===ra?function(A,k){return c[k]-c[A]}:function(A,k){return e(u[A],u[k])}),b.forEach(function(A){w[A]={data:u[A],value:x=c[A],startAngle:f,endAngle:f+=x*E+p,padAngle:_}}),w}return o.value=function(u){return arguments.length?(t=u,o):t},o.sort=function(u){return arguments.length?(e=u,o):e},o.startAngle=function(u){return arguments.length?(n=u,o):n},o.endAngle=function(u){return arguments.length?(r=u,o):r},o.padAngle=function(u){return arguments.length?(i=u,o):i},o};var ra={};function ul(t){return t.x}function ll(t){return t.y}function cl(t,e,n){t.y0=e,t.y=n}m.layout.stack=function(){var t=lt,e=Os,n=Ls,r=cl,i=ul,o=ll;function u(a,c){if(!(E=a.length))return a;var f=a.map(function(A,k){return t.call(u,A,k)}),d=f.map(function(A){return A.map(function(k,C){return[i.call(u,k,C),o.call(u,k,C)]})}),_=e.call(u,d,c);f=m.permute(f,_),d=m.permute(d,_);var E,b,w,x,p=n.call(u,d,c),M=f[0].length;for(w=0;w<M;++w)for(r.call(u,f[0][w],x=p[w],d[0][w][1]),b=1;b<E;++b)r.call(u,f[b][w],x+=d[b-1][w][1],d[b][w][1]);return a}return u.values=function(a){return arguments.length?(t=a,u):t},u.order=function(a){return arguments.length?(e="function"==typeof a?a:hl.get(a)||Os,u):e},u.offset=function(a){return arguments.length?(n="function"==typeof a?a:fl.get(a)||Ls,u):n},u.x=function(a){return arguments.length?(i=a,u):i},u.y=function(a){return arguments.length?(o=a,u):o},u.out=function(a){return arguments.length?(r=a,u):r},u};var hl=m.map({"inside-out":function(t){var n,r,e=t.length,i=t.map(dl),o=t.map(gl),u=m.range(e).sort(function(_,p){return i[_]-i[p]}),a=0,c=0,f=[],d=[];for(n=0;n<e;++n)r=u[n],a<c?(a+=o[r],f.push(r)):(c+=o[r],d.push(r));return d.reverse().concat(f)},reverse:function(t){return m.range(t.length).reverse()},default:Os}),fl=m.map({silhouette:function(t){var o,u,a,e=t.length,n=t[0].length,r=[],i=0,c=[];for(u=0;u<n;++u){for(o=0,a=0;o<e;o++)a+=t[o][u][1];a>i&&(i=a),r.push(a)}for(u=0;u<n;++u)c[u]=(i-r[u])/2;return c},wiggle:function(t){var i,o,u,a,c,f,d,_,p,e=t.length,n=t[0],r=n.length,M=[];for(M[0]=_=p=0,o=1;o<r;++o){for(i=0,a=0;i<e;++i)a+=t[i][o][1];for(i=0,c=0,d=n[o][0]-n[o-1][0];i<e;++i){for(u=0,f=(t[i][o][1]-t[i][o-1][1])/(2*d);u<i;++u)f+=(t[u][o][1]-t[u][o-1][1])/d;c+=f*t[i][o][1]}M[o]=_-=a?c/a*d:0,_<p&&(p=_)}for(o=0;o<r;++o)M[o]-=p;return M},expand:function(t){var i,o,u,e=t.length,n=t[0].length,r=1/e,a=[];for(o=0;o<n;++o){for(i=0,u=0;i<e;i++)u+=t[i][o][1];if(u)for(i=0;i<e;i++)t[i][o][1]/=u;else for(i=0;i<e;i++)t[i][o][1]=r}for(o=0;o<n;++o)a[o]=0;return a},zero:Ls});function Os(t){return m.range(t.length)}function Ls(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function dl(t){for(var i,e=1,n=0,r=t[0][1],o=t.length;e<o;++e)(i=t[e][1])>r&&(n=e,r=i);return n}function gl(t){return t.reduce(_l,0)}function _l(t,e){return t+e[1]}function pl(t,e){return ia(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function ia(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function ml(t){return[m.min(t),m.max(t)]}function vl(t,e){return t.value-e.value}function Ps(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function sa(t,e){t._pack_next=e,e._pack_prev=t}function oa(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function aa(t){if((e=t.children)&&(p=e.length)){var e,u,a,c,f,d,_,p,n=1/0,r=-1/0,i=1/0,o=-1/0;if(e.forEach(yl),(u=e[0]).x=-u.r,u.y=0,M(u),p>1&&((a=e[1]).x=a.r,a.y=0,M(a),p>2))for(la(u,a,c=e[2]),M(c),Ps(u,c),u._pack_prev=c,Ps(c,a),a=u._pack_next,f=3;f<p;f++){la(u,a,c=e[f]);var E=0,b=1,w=1;for(d=a._pack_next;d!==a;d=d._pack_next,b++)if(oa(d,c)){E=1;break}if(1==E)for(_=u._pack_prev;_!==d._pack_prev&&!oa(_,c);_=_._pack_prev,w++);E?(b<w||b==w&&a.r<u.r?sa(u,a=d):sa(u=_,a),f--):(Ps(u,c),a=c,M(c))}var x=(n+r)/2,A=(i+o)/2,k=0;for(f=0;f<p;f++)(c=e[f]).x-=x,c.y-=A,k=Math.max(k,c.r+Math.sqrt(c.x*c.x+c.y*c.y));t.r=k,e.forEach(bl)}function M(C){n=Math.min(C.x-C.r,n),r=Math.max(C.x+C.r,r),i=Math.min(C.y-C.r,i),o=Math.max(C.y+C.r,o)}}function yl(t){t._pack_next=t._pack_prev=t}function bl(t){delete t._pack_next,delete t._pack_prev}function ua(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,u=i.length;++o<u;)ua(i[o],e,n,r)}function la(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var u=e.r+n.r,a=i*i+o*o,c=.5+((r*=r)-(u*=u))/(2*a),f=Math.sqrt(Math.max(0,2*u*(r+a)-(r-=a)*r-u*u))/(2*a);n.x=t.x+c*i+f*o,n.y=t.y+c*o-f*i}else n.x=t.x+r,n.y=t.y}function ca(t,e){return t.parent==e.parent?1:2}function Ys(t){var e=t.children;return e.length?e[0]:t.t}function Rs(t){var n,e=t.children;return(n=e.length)?e[n-1]:t.t}function wl(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function xl(t,e,n){return t.a.parent===e.parent?t.a:n}function ha(t){var e=t.children;return e&&e.length?ha(e[0]):t}function fa(t){var n,e=t.children;return e&&(n=e.length)?fa(e[n-1]):t}function Is(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function da(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function wi(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Ki(t){return t.rangeExtent?t.rangeExtent():wi(t.range())}function Cl(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(u){return o(i(u))}}function Qi(t,e){var u,n=0,r=t.length-1,i=t[n],o=t[r];return o<i&&(u=n,n=r,r=u,u=i,i=o,o=u),t[n]=e.floor(i),t[r]=e.ceil(o),t}function ga(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Al}m.layout.histogram=function(){var t=!0,e=Number,n=ml,r=pl;function i(o,p){for(var _,w,a=[],c=o.map(e,this),f=n.call(this,c,p),d=r.call(this,f,c,p),M=(p=-1,c.length),E=d.length-1,b=t?1:1/M;++p<E;)(_=a[p]=[]).dx=d[p+1]-(_.x=d[p]),_.y=0;if(E>0)for(p=-1;++p<M;)(w=c[p])>=f[0]&&w<=f[1]&&((_=a[m.bisect(d,w,1,E)-1]).y+=b,_.push(o[p]));return a}return i.value=function(o){return arguments.length?(e=o,i):e},i.range=function(o){return arguments.length?(n=Ft(o),i):n},i.bins=function(o){return arguments.length?(r="number"==typeof o?function(u){return ia(u,o)}:Ft(o),i):r},i.frequency=function(o){return arguments.length?(t=!!o,i):t},i},m.layout.pack=function(){var r,t=m.layout.hierarchy().sort(vl),e=0,n=[1,1];function i(o,u){var a=t.call(this,o,u),c=a[0],f=n[0],d=n[1],_=null==r?Math.sqrt:"function"==typeof r?r:function(){return r};if(c.x=c.y=0,lr(c,function(M){M.r=+_(M.value)}),lr(c,aa),e){var p=e*(r?1:Math.max(2*c.r/f,2*c.r/d))/2;lr(c,function(M){M.r+=p}),lr(c,aa),lr(c,function(M){M.r-=p})}return ua(c,f/2,d/2,r?1:1/Math.max(2*c.r/f,2*c.r/d)),a}return i.size=function(o){return arguments.length?(n=o,i):n},i.radius=function(o){return arguments.length?(r=null==o||"function"==typeof o?o:+o,i):r},i.padding=function(o){return arguments.length?(e=+o,i):e},Yi(i,t)},m.layout.tree=function(){var t=m.layout.hierarchy().sort(null).value(null),e=ca,n=[1,1],r=null;function i(d,_){var p=t.call(this,d,_),M=p[0],E=function o(d){for(var M,_={A:null,children:[d]},p=[_];null!=(M=p.pop());)for(var b,E=M.children,w=0,x=E.length;w<x;++w)p.push((E[w]=b={_:E[w],parent:M,children:(b=E[w].children)&&b.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:w}).a=b);return _.children[0]}(M);if(lr(E,u),E.parent.m=-E.z,Ri(E,a),r)Ri(M,f);else{var b=M,w=M,x=M;Ri(M,function(Y){Y.x<b.x&&(b=Y),Y.x>w.x&&(w=Y),Y.depth>x.depth&&(x=Y)});var A=e(b,w)/2-b.x,k=n[0]/(w.x+e(w,b)/2+A),C=n[1]/(x.depth||1);Ri(M,function(Y){Y.x=(Y.x+A)*k,Y.y=Y.depth*C})}return p}function u(d){var _=d.children,p=d.parent.children,M=d.i?p[d.i-1]:null;if(_.length){!function Ml(t){for(var o,e=0,n=0,r=t.children,i=r.length;--i>=0;)(o=r[i]).z+=e,o.m+=e,e+=o.s+(n+=o.c)}(d);var E=(_[0].z+_[_.length-1].z)/2;M?(d.z=M.z+e(d._,M._),d.m=d.z-E):d.z=E}else M&&(d.z=M.z+e(d._,M._));d.parent.A=function c(d,_,p){if(_){for(var Y,M=d,E=d,b=_,w=M.parent.children[0],x=M.m,A=E.m,k=b.m,C=w.m;b=Rs(b),M=Ys(M),b&&M;)w=Ys(w),(E=Rs(E)).a=d,(Y=b.z+k-M.z-x+e(b._,M._))>0&&(wl(xl(b,d,p),d,Y),x+=Y,A+=Y),k+=b.m,x+=M.m,C+=w.m,A+=E.m;b&&!Rs(E)&&(E.t=b,E.m+=k-A),M&&!Ys(w)&&(w.t=M,w.m+=x-C,p=d)}return p}(d,M,d.parent.A||p[0])}function a(d){d._.x=d.z+d.parent.m,d.m+=d.parent.m}function f(d){d.x*=n[0],d.y=d.depth*n[1]}return i.separation=function(d){return arguments.length?(e=d,i):e},i.size=function(d){return arguments.length?(r=null==(n=d)?f:null,i):r?null:n},i.nodeSize=function(d){return arguments.length?(r=null==(n=d)?null:f,i):r?n:null},Yi(i,t)},m.layout.cluster=function(){var t=m.layout.hierarchy().sort(null).value(null),e=ca,n=[1,1],r=!1;function i(o,u){var f,a=t.call(this,o,u),c=a[0],d=0;lr(c,function(b){var w=b.children;w&&w.length?(b.x=function Sl(t){return t.reduce(function(e,n){return e+n.x},0)/t.length}(w),b.y=function kl(t){return 1+m.max(t,function(e){return e.y})}(w)):(b.x=f?d+=e(b,f):0,b.y=0,f=b)});var _=ha(c),p=fa(c),M=_.x-e(_,p)/2,E=p.x+e(p,_)/2;return lr(c,r?function(b){b.x=(b.x-c.x)*n[0],b.y=(c.y-b.y)*n[1]}:function(b){b.x=(b.x-M)/(E-M)*n[0],b.y=(1-(c.y?b.y/c.y:1))*n[1]}),a}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=null==(n=o),i):r?null:n},i.nodeSize=function(o){return arguments.length?(r=null!=(n=o),i):r?n:null},Yi(i,t)},m.layout.treemap=function(){var u,t=m.layout.hierarchy(),e=Math.round,n=[1,1],r=null,i=Is,o=!1,a="squarify",c=.5*(1+Math.sqrt(5));function f(b,w){for(var k,C,x=-1,A=b.length;++x<A;)C=(k=b[x]).value*(w<0?0:w),k.area=isNaN(C)||C<=0?0:C}function d(b){var w=b.children;if(w&&w.length){var C,O,D,x=i(b),A=[],k=w.slice(),Y=1/0,L="slice"===a?x.dx:"dice"===a?x.dy:"slice-dice"===a?1&b.depth?x.dy:x.dx:Math.min(x.dx,x.dy);for(f(k,x.dx*x.dy/b.value),A.area=0;(D=k.length)>0;)A.push(C=k[D-1]),A.area+=C.area,"squarify"!==a||(O=p(A,L))<=Y?(k.pop(),Y=O):(A.area-=A.pop().area,M(A,L,x,!1),L=Math.min(x.dx,x.dy),A.length=A.area=0,Y=1/0);A.length&&(M(A,L,x,!0),A.length=A.area=0),w.forEach(d)}}function _(b){var w=b.children;if(w&&w.length){var k,x=i(b),A=w.slice(),C=[];for(f(A,x.dx*x.dy/b.value),C.area=0;k=A.pop();)C.push(k),C.area+=k.area,null!=k.z&&(M(C,k.z?x.dx:x.dy,x,!A.length),C.length=C.area=0);w.forEach(_)}}function p(b,w){for(var A,x=b.area,k=0,C=1/0,Y=-1,O=b.length;++Y<O;)!(A=b[Y].area)||(A<C&&(C=A),A>k&&(k=A));return w*=w,(x*=x)?Math.max(w*k*c/x,x/(w*C*c)):1/0}function M(b,w,x,A){var D,k=-1,C=b.length,Y=x.x,O=x.y,L=w?e(b.area/w):0;if(w==x.dx){for((A||L>x.dy)&&(L=x.dy);++k<C;)(D=b[k]).x=Y,D.y=O,D.dy=L,Y+=D.dx=Math.min(x.x+x.dx-Y,L?e(D.area/L):0);D.z=!0,D.dx+=x.x+x.dx-Y,x.y+=L,x.dy-=L}else{for((A||L>x.dx)&&(L=x.dx);++k<C;)(D=b[k]).x=Y,D.y=O,D.dx=L,O+=D.dy=Math.min(x.y+x.dy-O,L?e(D.area/L):0);D.z=!1,D.dy+=x.y+x.dy-O,x.x+=L,x.dx-=L}}function E(b){var w=u||t(b),x=w[0];return x.x=x.y=0,x.value?(x.dx=n[0],x.dy=n[1]):x.dx=x.dy=0,u&&t.revalue(x),f([x],x.dx*x.dy/x.value),(u?_:d)(x),o&&(u=w),w}return E.size=function(b){return arguments.length?(n=b,E):n},E.padding=function(b){if(!arguments.length)return r;function w(k){var C=b.call(E,k,k.depth);return null==C?Is(k):da(k,"number"==typeof C?[C,C,C,C]:C)}function x(k){return da(k,b)}var A;return i=null==(r=b)?Is:"function"==(A=typeof b)?w:("number"===A&&(b=[b,b,b,b]),x),E},E.round=function(b){return arguments.length?(e=b?Math.round:Number,E):e!=Number},E.sticky=function(b){return arguments.length?(o=b,u=null,E):o},E.ratio=function(b){return arguments.length?(c=b,E):c},E.mode=function(b){return arguments.length?(a=b+"",E):a},Yi(E,t)},m.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var r,i,o;do{o=(r=2*Math.random()-1)*r+(i=2*Math.random()-1)*i}while(!o||o>1);return t+e*r*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var t=m.random.normal.apply(m,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=m.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},m.scale={};var Al={floor:lt,ceil:lt};function El(t,e,n,r){var i=[],o=[],u=0,a=Math.min(t.length,e.length)-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<=a;)i.push(n(t[u-1],t[u])),o.push(r(e[u-1],e[u]));return function(c){var f=m.bisect(t,c,1,a)-1;return o[f](i[f](c))}}function _a(t,e,n,r){var i,o;function u(){var c=Math.min(t.length,e.length)>2?El:Cl,f=r?$u:Gu;return i=c(t,e,f,n),o=c(e,t,f,Qr),a}function a(c){return i(c)}return a.invert=function(c){return o(c)},a.domain=function(c){return arguments.length?(t=c.map(Number),u()):t},a.range=function(c){return arguments.length?(e=c,u()):e},a.rangeRound=function(c){return a.range(c).interpolate(Xo)},a.clamp=function(c){return arguments.length?(r=c,u()):r},a.interpolate=function(c){return arguments.length?(n=c,u()):n},a.ticks=function(c){return Fs(t,c)},a.tickFormat=function(c,f){return Hs(t,c,f)},a.nice=function(c){return pa(t,c),u()},a.copy=function(){return _a(t,e,n,r)},u()}function zs(t,e){return m.rebind(t,e,"range","rangeRound","interpolate","clamp")}function pa(t,e){return Qi(t,ga(Mi(t,e)[2])),Qi(t,ga(Mi(t,e)[2])),t}function Mi(t,e){null==e&&(e=10);var n=wi(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Fs(t,e){return m.range.apply(m,Mi(t,e))}function Hs(t,e,n){var r=Mi(t,e);if(n){var i=$r.exec(n);if(i.shift(),"s"===i[8]){var o=m.formatPrefix(Math.max(ht(r[0]),ht(r[1])));return i[7]||(i[7]="."+Ji(o.scale(r[2]))),i[8]="f",n=m.format(i.join("")),function(u){return n(o.scale(u))+o.symbol}}i[7]||(i[7]="."+function Nl(t,e){var n=Ji(e[2]);return t in Tl?Math.abs(n-Ji(Math.max(ht(e[0]),ht(e[1]))))+ +("e"!==t):n-2*("%"===t)}(i[8],r)),n=i.join("")}else n=",."+Ji(r[2])+"f";return m.format(n)}m.scale.linear=function(){return _a([0,1],[0,1],Qr,!1)};var Tl={s:1,g:1,p:1,r:1,e:1};function Ji(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function ma(t,e,n,r){function i(a){return(n?Math.log(a<0?0:a):-Math.log(a>0?0:-a))/Math.log(e)}function o(a){return n?Math.pow(e,a):-Math.pow(e,-a)}function u(a){return t(i(a))}return u.invert=function(a){return o(t.invert(a))},u.domain=function(a){return arguments.length?(n=a[0]>=0,t.domain((r=a.map(Number)).map(i)),u):r},u.base=function(a){return arguments.length?(e=+a,t.domain(r.map(i)),u):e},u.nice=function(){var a=Qi(r.map(i),n?Math:Dl);return t.domain(a),r=a.map(o),u},u.ticks=function(){var a=wi(r),c=[],f=a[0],d=a[1],_=Math.floor(i(f)),p=Math.ceil(i(d)),M=e%1?2:e;if(isFinite(p-_)){if(n){for(;_<p;_++)for(var E=1;E<M;E++)c.push(o(_)*E);c.push(o(_))}else for(c.push(o(_));_++<p;)for(E=M-1;E>0;E--)c.push(o(_)*E);for(_=0;c[_]<f;_++);for(p=c.length;c[p-1]>d;p--);c=c.slice(_,p)}return c},u.tickFormat=function(a,c){if(!arguments.length)return va;arguments.length<2?c=va:"function"!=typeof c&&(c=m.format(c));var f=Math.max(1,e*a/u.ticks().length);return function(d){var _=d/o(Math.round(i(d)));return _*e<e-.5&&(_*=e),_<=f?c(d):""}},u.copy=function(){return ma(t.copy(),e,n,r)},zs(u,t)}m.scale.log=function(){return ma(m.scale.linear().domain([0,1]),10,!0,[1,10])};var va=m.format(".0e"),Dl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function ya(t,e,n){var r=ts(e),i=ts(1/e);function o(u){return t(r(u))}return o.invert=function(u){return i(t.invert(u))},o.domain=function(u){return arguments.length?(t.domain((n=u.map(Number)).map(r)),o):n},o.ticks=function(u){return Fs(n,u)},o.tickFormat=function(u,a){return Hs(n,u,a)},o.nice=function(u){return o.domain(pa(n,u))},o.exponent=function(u){return arguments.length?(r=ts(e=u),i=ts(1/e),t.domain(n.map(r)),o):e},o.copy=function(){return ya(t.copy(),e,n)},zs(o,t)}function ts(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ba(t,e){var n,r,i;function o(a){return r[((n.get(a)||("range"===e.t?n.set(a,t.push(a)):NaN))-1)%r.length]}function u(a,c){return m.range(t.length).map(function(f){return a+c*f})}return o.domain=function(a){if(!arguments.length)return t;t=[],n=new se;for(var d,c=-1,f=a.length;++c<f;)n.has(d=a[c])||n.set(d,t.push(d));return o[e.t].apply(o,e.a)},o.range=function(a){return arguments.length?(r=a,i=0,e={t:"range",a:arguments},o):r},o.rangePoints=function(a,c){arguments.length<2&&(c=0);var f=a[0],d=a[1],_=t.length<2?(f=(f+d)/2,0):(d-f)/(t.length-1+c);return r=u(f+_*c/2,_),i=0,e={t:"rangePoints",a:arguments},o},o.rangeRoundPoints=function(a,c){arguments.length<2&&(c=0);var f=a[0],d=a[1],_=t.length<2?(f=d=Math.round((f+d)/2),0):(d-f)/(t.length-1+c)|0;return r=u(f+Math.round(_*c/2+(d-f-(t.length-1+c)*_)/2),_),i=0,e={t:"rangeRoundPoints",a:arguments},o},o.rangeBands=function(a,c,f){arguments.length<2&&(c=0),arguments.length<3&&(f=c);var d=a[1]<a[0],_=a[d-0],p=a[1-d],M=(p-_)/(t.length-c+2*f);return r=u(_+M*f,M),d&&r.reverse(),i=M*(1-c),e={t:"rangeBands",a:arguments},o},o.rangeRoundBands=function(a,c,f){arguments.length<2&&(c=0),arguments.length<3&&(f=c);var d=a[1]<a[0],_=a[d-0],p=a[1-d],M=Math.floor((p-_)/(t.length-c+2*f));return r=u(_+Math.round((p-_-(t.length-c)*M)/2),M),d&&r.reverse(),i=Math.round(M*(1-c)),e={t:"rangeRoundBands",a:arguments},o},o.rangeBand=function(){return i},o.rangeExtent=function(){return wi(e.a[0])},o.copy=function(){return ba(t,e)},o.domain(t)}m.scale.pow=function(){return ya(m.scale.linear(),1,[0,1])},m.scale.sqrt=function(){return m.scale.pow().exponent(.5)},m.scale.ordinal=function(){return ba([],{t:"range",a:[[]]})},m.scale.category10=function(){return m.scale.ordinal().range(Ol)},m.scale.category20=function(){return m.scale.ordinal().range(Ll)},m.scale.category20b=function(){return m.scale.ordinal().range(Pl)},m.scale.category20c=function(){return m.scale.ordinal().range(Yl)};var Ol=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(je),Ll=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(je),Pl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(je),Yl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(je);function wa(t,e){var n;function r(){var o=0,u=e.length;for(n=[];++o<u;)n[o-1]=m.quantile(t,o/u);return i}function i(o){if(!isNaN(o=+o))return e[m.bisect(n,o)]}return i.domain=function(o){return arguments.length?(t=o.map(dt).filter(ue).sort(Rt),r()):t},i.range=function(o){return arguments.length?(e=o,r()):e},i.quantiles=function(){return n},i.invertExtent=function(o){return(o=e.indexOf(o))<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},i.copy=function(){return wa(t,e)},r()}function Ma(t,e,n){var r,i;function o(a){return n[Math.max(0,Math.min(i,Math.floor(r*(a-t))))]}function u(){return r=n.length/(e-t),i=n.length-1,o}return o.domain=function(a){return arguments.length?(t=+a[0],e=+a[a.length-1],u()):[t,e]},o.range=function(a){return arguments.length?(n=a,u()):n},o.invertExtent=function(a){return[a=(a=n.indexOf(a))<0?NaN:a/r+t,a+1/r]},o.copy=function(){return Ma(t,e,n)},u()}function xa(t,e){function n(r){if(r<=r)return e[m.bisect(t,r)]}return n.domain=function(r){return arguments.length?(t=r,n):t},n.range=function(r){return arguments.length?(e=r,n):e},n.invertExtent=function(r){return r=e.indexOf(r),[t[r-1],t[r]]},n.copy=function(){return xa(t,e)},n}function ka(t){function e(n){return+n}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(n){return Fs(t,n)},e.tickFormat=function(n,r){return Hs(t,n,r)},e.copy=function(){return ka(t)},e}function Rl(){return 0}m.scale.quantile=function(){return wa([],[])},m.scale.quantize=function(){return Ma(0,1,[0,1])},m.scale.threshold=function(){return xa([.5],[0,1])},m.scale.identity=function(){return ka([0,1])},m.svg={},m.svg.arc=function(){var t=Il,e=zl,n=Rl,r=es,i=Sa,o=Ca,u=Fl;function a(){var f=Math.max(0,+t.apply(this,arguments)),d=Math.max(0,+e.apply(this,arguments)),_=i.apply(this,arguments)-Qt,p=o.apply(this,arguments)-Qt,M=Math.abs(p-_),E=_>p?0:1;if(d<f&&(b=d,d=f,f=b),M>=ri)return c(d,E)+(f?c(f,1-E):"")+"Z";var b,w,x,A,Y,O,L,D,H,j,tt,X,k=0,C=0,J=[];if((A=(+u.apply(this,arguments)||0)/2)&&(x=r===es?Math.sqrt(f*f+d*d):+r.apply(this,arguments),E||(C*=-1),d&&(C=cn(x/d*Math.sin(A))),f&&(k=cn(x/f*Math.sin(A)))),d){Y=d*Math.cos(_+C),O=d*Math.sin(_+C),L=d*Math.cos(p-C),D=d*Math.sin(p-C);var R=Math.abs(p-_-2*C)<=wt?0:1;if(C&&ns(Y,O,L,D)===E^R){var W=(_+p)/2;Y=d*Math.cos(W),O=d*Math.sin(W),L=D=null}}else Y=O=0;if(f){H=f*Math.cos(p-k),j=f*Math.sin(p-k),tt=f*Math.cos(_+k),X=f*Math.sin(_+k);var G=Math.abs(_-p+2*k)<=wt?0:1;if(k&&ns(H,j,tt,X)===1-E^G){var I=(_+p)/2;H=f*Math.cos(I),j=f*Math.sin(I),tt=X=null}}else H=j=0;if(M>nt&&(b=Math.min(Math.abs(d-f)/2,+n.apply(this,arguments)))>.001){w=f<d^E?0:1;var B=b,ut=b;if(M<wt){var vt=null==tt?[H,j]:null==L?[Y,O]:ks([Y,O],[tt,X],[L,D],[H,j]),St=Y-vt[0],Wt=O-vt[1],Zt=L-vt[0],Ve=D-vt[1],rn=1/Math.sin(Math.acos((St*Zt+Wt*Ve)/(Math.sqrt(St*St+Wt*Wt)*Math.sqrt(Zt*Zt+Ve*Ve)))/2),Ge=Math.sqrt(vt[0]*vt[0]+vt[1]*vt[1]);ut=Math.min(b,(f-Ge)/(rn-1)),B=Math.min(b,(d-Ge)/(rn+1))}if(null!=L){var pn=rs(null==tt?[H,j]:[tt,X],[Y,O],d,B,E),ze=rs([L,D],[H,j],d,B,E);b===B?J.push("M",pn[0],"A",B,",",B," 0 0,",w," ",pn[1],"A",d,",",d," 0 ",1-E^ns(pn[1][0],pn[1][1],ze[1][0],ze[1][1]),",",E," ",ze[1],"A",B,",",B," 0 0,",w," ",ze[0]):J.push("M",pn[0],"A",B,",",B," 0 1,",w," ",ze[0])}else J.push("M",Y,",",O);if(null!=tt){var mn=rs([Y,O],[tt,X],f,-ut,E),ei=rs([H,j],null==L?[Y,O]:[L,D],f,-ut,E);b===ut?J.push("L",ei[0],"A",ut,",",ut," 0 0,",w," ",ei[1],"A",f,",",f," 0 ",E^ns(ei[1][0],ei[1][1],mn[1][0],mn[1][1]),",",1-E," ",mn[1],"A",ut,",",ut," 0 0,",w," ",mn[0]):J.push("L",ei[0],"A",ut,",",ut," 0 0,",w," ",mn[0])}else J.push("L",H,",",j)}else J.push("M",Y,",",O),null!=L&&J.push("A",d,",",d," 0 ",R,",",E," ",L,",",D),J.push("L",H,",",j),null!=tt&&J.push("A",f,",",f," 0 ",G,",",1-E," ",tt,",",X);return J.push("Z"),J.join("")}function c(f,d){return"M0,"+f+"A"+f+","+f+" 0 1,"+d+" 0,"+-f+"A"+f+","+f+" 0 1,"+d+" 0,"+f}return a.innerRadius=function(f){return arguments.length?(t=Ft(f),a):t},a.outerRadius=function(f){return arguments.length?(e=Ft(f),a):e},a.cornerRadius=function(f){return arguments.length?(n=Ft(f),a):n},a.padRadius=function(f){return arguments.length?(r=f==es?es:Ft(f),a):r},a.startAngle=function(f){return arguments.length?(i=Ft(f),a):i},a.endAngle=function(f){return arguments.length?(o=Ft(f),a):o},a.padAngle=function(f){return arguments.length?(u=Ft(f),a):u},a.centroid=function(){var f=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Qt;return[Math.cos(d)*f,Math.sin(d)*f]},a};var es="auto";function Il(t){return t.innerRadius}function zl(t){return t.outerRadius}function Sa(t){return t.startAngle}function Ca(t){return t.endAngle}function Fl(t){return t&&t.padAngle}function ns(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function rs(t,e,n,r,i){var o=t[0]-e[0],u=t[1]-e[1],a=(i?r:-r)/Math.sqrt(o*o+u*u),c=a*u,f=-a*o,d=t[0]+c,_=t[1]+f,p=e[0]+c,M=e[1]+f,E=(d+p)/2,b=(_+M)/2,w=p-d,x=M-_,A=w*w+x*x,k=n-r,C=d*M-p*_,Y=(x<0?-1:1)*Math.sqrt(Math.max(0,k*k*A-C*C)),O=(C*x-w*Y)/A,L=(-C*w-x*Y)/A,D=(C*x+w*Y)/A,H=(-C*w+x*Y)/A,j=O-E,tt=L-b,X=D-E,J=H-b;return j*j+tt*tt>X*X+J*J&&(O=D,L=H),[[O-c,L-f],[O*n/k,L*n/k]]}function Aa(t){var e=_i,n=Ti,r=Ci,i=Qn,o=i.key,u=.7;function a(c){var M,f=[],d=[],_=-1,p=c.length,E=Ft(e),b=Ft(n);function w(){f.push("M",i(t(d),u))}for(;++_<p;)r.call(this,M=c[_],_)?d.push([+E.call(this,M,_),+b.call(this,M,_)]):d.length&&(w(),d=[]);return d.length&&w(),f.length?f.join(""):null}return a.x=function(c){return arguments.length?(e=c,a):e},a.y=function(c){return arguments.length?(n=c,a):n},a.defined=function(c){return arguments.length?(r=c,a):r},a.interpolate=function(c){return arguments.length?(o="function"==typeof c?i=c:(i=Us.get(c)||Qn).key,a):o},a.tension=function(c){return arguments.length?(u=c,a):u},a}m.svg.line=function(){return Aa(lt)};var Us=m.map({linear:Qn,"linear-closed":Ea,step:function Hl(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")},"step-before":Ws,"step-after":js,basis:Ta,"basis-open":function ql(t){if(t.length<4)return Qn(t);for(var i,e=[],n=-1,r=t.length,o=[0],u=[0];++n<3;)o.push((i=t[n])[0]),u.push(i[1]);for(e.push(Rn(Wr,o)+","+Rn(Wr,u)),--n;++n<r;)i=t[n],o.shift(),o.push(i[0]),u.shift(),u.push(i[1]),Bs(e,o,u);return e.join("")},"basis-closed":function Bl(t){for(var e,o,n=-1,r=t.length,i=r+4,u=[],a=[];++n<4;)u.push((o=t[n%r])[0]),a.push(o[1]);for(e=[Rn(Wr,u),",",Rn(Wr,a)],--n;++n<i;)o=t[n%r],u.shift(),u.push(o[0]),a.shift(),a.push(o[1]),Bs(e,u,a);return e.join("")},bundle:function Vl(t,e){var n=t.length-1;if(n)for(var c,f,r=t[0][0],i=t[0][1],o=t[n][0]-r,u=t[n][1]-i,a=-1;++a<=n;)(c=t[a])[0]=e*c[0]+(1-e)*(r+(f=a/n)*o),c[1]=e*c[1]+(1-e)*(i+f*u);return Ta(t)},cardinal:function jl(t,e){return t.length<3?Qn(t):t[0]+is(t,qs(t,e))},"cardinal-open":function Ul(t,e){return t.length<4?Qn(t):t[1]+is(t.slice(1,-1),qs(t,e))},"cardinal-closed":function Wl(t,e){return t.length<3?Ea(t):t[0]+is((t.push(t[0]),t),qs([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function Zl(t){return t.length<3?Qn(t):t[0]+is(t,function $l(t){for(var n,r,i,o,e=[],u=function Gl(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],u=r[0]=Vs(i,o);++e<n;)r[e]=(u+(u=Vs(i=o,o=t[e+1])))/2;return r[e]=u,r}(t),a=-1,c=t.length-1;++a<c;)n=Vs(t[a],t[a+1]),ht(n)<nt?u[a]=u[a+1]=0:(o=(r=u[a]/n)*r+(i=u[a+1]/n)*i)>9&&(o=3*n/Math.sqrt(o),u[a]=o*r,u[a+1]=o*i);for(a=-1;++a<=c;)o=(t[Math.min(c,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+u[a]*u[a])),e.push([o||0,u[a]*o||0]);return e}(t))}});function Qn(t){return t.length>1?t.join("L"):t+"Z"}function Ea(t){return t.join("L")+"Z"}function Ws(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function js(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function is(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Qn(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],u=e[0],a=u,c=1;if(n&&(r+="Q"+(o[0]-2*u[0]/3)+","+(o[1]-2*u[1]/3)+","+o[0]+","+o[1],i=t[1],c=2),e.length>1){o=t[c],c++,r+="C"+(i[0]+u[0])+","+(i[1]+u[1])+","+(o[0]-(a=e[1])[0])+","+(o[1]-a[1])+","+o[0]+","+o[1];for(var f=2;f<e.length;f++,c++)r+="S"+((o=t[c])[0]-(a=e[f])[0])+","+(o[1]-a[1])+","+o[0]+","+o[1]}if(n){var d=t[c];r+="Q"+(o[0]+2*a[0]/3)+","+(o[1]+2*a[1]/3)+","+d[0]+","+d[1]}return r}function qs(t,e){for(var i,n=[],r=(1-e)/2,o=t[0],u=t[1],a=1,c=t.length;++a<c;)i=o,o=u,n.push([r*((u=t[a])[0]-i[0]),r*(u[1]-i[1])]);return n}function Ta(t){if(t.length<3)return Qn(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],u=[i,i,i,(r=t[1])[0]],a=[o,o,o,r[1]],c=[i,",",o,"L",Rn(Wr,u),",",Rn(Wr,a)];for(t.push(t[n-1]);++e<=n;)r=t[e],u.shift(),u.push(r[0]),a.shift(),a.push(r[1]),Bs(c,u,a);return t.pop(),c.push("L",r),c.join("")}function Rn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}Us.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Na=[0,2/3,1/3,0],Da=[0,1/3,2/3,0],Wr=[0,1/6,2/3,1/6];function Bs(t,e,n){t.push("C",Rn(Na,e),",",Rn(Na,n),",",Rn(Da,e),",",Rn(Da,n),",",Rn(Wr,e),",",Rn(Wr,n))}function Vs(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Oa(t){for(var e,i,o,n=-1,r=t.length;++n<r;)o=(e=t[n])[1]-Qt,e[0]=(i=e[0])*Math.cos(o),e[1]=i*Math.sin(o);return t}function La(t){var e=_i,n=_i,r=0,i=Ti,o=Ci,u=Qn,a=u.key,c=u,f="L",d=.7;function _(p){var A,L,D,M=[],E=[],b=[],w=-1,x=p.length,k=Ft(e),C=Ft(r),Y=e===n?function(){return L}:Ft(n),O=r===i?function(){return D}:Ft(i);function H(){M.push("M",u(t(b),d),f,c(t(E.reverse()),d),"Z")}for(;++w<x;)o.call(this,A=p[w],w)?(E.push([L=+k.call(this,A,w),D=+C.call(this,A,w)]),b.push([+Y.call(this,A,w),+O.call(this,A,w)])):E.length&&(H(),E=[],b=[]);return E.length&&H(),M.length?M.join(""):null}return _.x=function(p){return arguments.length?(e=n=p,_):n},_.x0=function(p){return arguments.length?(e=p,_):e},_.x1=function(p){return arguments.length?(n=p,_):n},_.y=function(p){return arguments.length?(r=i=p,_):i},_.y0=function(p){return arguments.length?(r=p,_):r},_.y1=function(p){return arguments.length?(i=p,_):i},_.defined=function(p){return arguments.length?(o=p,_):o},_.interpolate=function(p){return arguments.length?(a="function"==typeof p?u=p:(u=Us.get(p)||Qn).key,c=u.reverse||u,f=u.closed?"M":"L",_):a},_.tension=function(p){return arguments.length?(d=p,_):d},_}function Xl(t){return t.radius}function Pa(t){return[t.x,t.y]}function Kl(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Qt;return[n*Math.cos(r),n*Math.sin(r)]}}function Ql(){return 64}function Jl(){return"circle"}function Ya(t){var e=Math.sqrt(t/wt);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}m.svg.line.radial=function(){var t=Aa(Oa);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Ws.reverse=js,js.reverse=Ws,m.svg.area=function(){return La(lt)},m.svg.area.radial=function(){var t=La(Oa);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},m.svg.chord=function(){var t=ys,e=bs,n=Xl,r=Sa,i=Ca;function o(d,_){var p=u(this,t,d,_),M=u(this,e,d,_);return"M"+p.p0+c(p.r,p.p1,p.a1-p.a0)+(function a(d,_){return d.a0==_.a0&&d.a1==_.a1}(p,M)?f(0,0,0,p.p0):f(0,0,0,M.p0)+c(M.r,M.p1,M.a1-M.a0)+f(0,0,0,p.p0))+"Z"}function u(d,_,p,M){var E=_.call(d,p,M),b=n.call(d,E,M),w=r.call(d,E,M)-Qt,x=i.call(d,E,M)-Qt;return{r:b,a0:w,a1:x,p0:[b*Math.cos(w),b*Math.sin(w)],p1:[b*Math.cos(x),b*Math.sin(x)]}}function c(d,_,p){return"A"+d+","+d+" 0 "+ +(p>wt)+",1 "+_}function f(d,_,p,M){return"Q 0,0 "+M}return o.radius=function(d){return arguments.length?(n=Ft(d),o):n},o.source=function(d){return arguments.length?(t=Ft(d),o):t},o.target=function(d){return arguments.length?(e=Ft(d),o):e},o.startAngle=function(d){return arguments.length?(r=Ft(d),o):r},o.endAngle=function(d){return arguments.length?(i=Ft(d),o):i},o},m.svg.diagonal=function(){var t=ys,e=bs,n=Pa;function r(i,o){var u=t.call(this,i,o),a=e.call(this,i,o),c=(u.y+a.y)/2,f=[u,{x:u.x,y:c},{x:a.x,y:c},a];return"M"+(f=f.map(n))[0]+"C"+f[1]+" "+f[2]+" "+f[3]}return r.source=function(i){return arguments.length?(t=Ft(i),r):t},r.target=function(i){return arguments.length?(e=Ft(i),r):e},r.projection=function(i){return arguments.length?(n=i,r):n},r},m.svg.diagonal.radial=function(){var t=m.svg.diagonal(),e=Pa,n=t.projection;return t.projection=function(r){return arguments.length?n(Kl(e=r)):e},t},m.svg.symbol=function(){var t=Jl,e=Ql;function n(r,i){return(Ra.get(t.call(this,r,i))||Ya)(e.call(this,r,i))}return n.type=function(r){return arguments.length?(t=Ft(r),n):t},n.size=function(r){return arguments.length?(e=Ft(r),n):e},n};var Ra=m.map({circle:Ya,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Ia)),n=e*Ia;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/ss),n=e*ss/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/ss),n=e*ss/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});m.svg.symbolTypes=Ra.keys();var ss=Math.sqrt(3),Ia=Math.tan(30*pt);Ct.transition=function(t){for(var i,o,e=Jr||++Fa,n=$s(t),r=[],u=as||{time:Date.now(),ease:Nu,delay:0,duration:250},a=-1,c=this.length;++a<c;){r.push(i=[]);for(var f=this[a],d=-1,_=f.length;++d<_;)(o=f[d])&&us(o,d,n,e,u),i.push(o)}return Ii(r,n,e)},Ct.interrupt=function(t){return this.each(null==t?os:za($s(t)))};var os=za($s());function za(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Ii(t,e,n){return Xt(t,me),t.namespace=e,t.id=n,t}var Jr,as,me=[],Fa=0;function Gs(t,e,n,r){var i=t.id,o=t.namespace;return Nt(t,"function"==typeof n?function(u,a,c){u[o][i].tween.set(e,r(n.call(u,u.__data__,a,c)))}:(n=r(n),function(u){u[o][i].tween.set(e,n)}))}function tc(t){return null==t&&(t=""),function(){this.textContent=t}}function $s(t){return null==t?"__transition__":"__transition_"+t+"__"}function us(t,e,n,r,i){var a,c,f,d,_,o=t[n]||(t[n]={active:0,count:0}),u=o[r];function M(b){var w=o.active,x=o[w];for(var A in x&&(x.timer.c=null,x.timer.t=NaN,--o.count,delete o[w],x.event&&x.event.interrupt.call(t,t.__data__,x.index)),o)if(+A<r){var k=o[A];k.timer.c=null,k.timer.t=NaN,--o.count,delete o[A]}c.c=E,sr(function(){return c.c&&E(b||1)&&(c.c=null,c.t=NaN),1},0,a),o.active=r,u.event&&u.event.start.call(t,t.__data__,e),_=[],u.tween.forEach(function(C,Y){(Y=Y.call(t,t.__data__,e))&&_.push(Y)}),d=u.ease,f=u.duration}function E(b){for(var w=b/f,x=d(w),A=_.length;A>0;)_[--A].call(t,x);if(w>=1)return u.event&&u.event.end.call(t,t.__data__,e),--o.count?delete o[r]:delete t[n],1}u||(c=sr(function p(b){var w=u.delay;if(c.t=w+a,w<=b)return M(b-w);c.c=M},0,a=i.time),u=o[r]={tween:new se,time:a,timer:c,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++o.count)}me.call=Ct.call,me.empty=Ct.empty,me.node=Ct.node,me.size=Ct.size,m.transition=function(t,e){return t&&t.transition?Jr?t.transition(e):t:m.selection().transition(t)},m.transition.prototype=me,me.select=function(t){var i,o,u,e=this.id,n=this.namespace,r=[];t=fr(t);for(var a=-1,c=this.length;++a<c;){r.push(i=[]);for(var f=this[a],d=-1,_=f.length;++d<_;)(u=f[d])&&(o=t.call(u,u.__data__,d,a))?("__data__"in u&&(o.__data__=u.__data__),us(o,d,n,e,u[n][e]),i.push(o)):i.push(null)}return Ii(r,n,e)},me.selectAll=function(t){var i,o,u,a,c,e=this.id,n=this.namespace,r=[];t=Q(t);for(var f=-1,d=this.length;++f<d;)for(var _=this[f],p=-1,M=_.length;++p<M;)if(u=_[p]){c=u[n][e],o=t.call(u,u.__data__,p,f),r.push(i=[]);for(var E=-1,b=o.length;++E<b;)(a=o[E])&&us(a,E,n,e,c),i.push(a)}return Ii(r,n,e)},me.filter=function(t){var n,i,e=[];"function"!=typeof t&&(t=Ar(t));for(var o=0,u=this.length;o<u;o++){e.push(n=[]);for(var r,a=0,c=(r=this[o]).length;a<c;a++)(i=r[a])&&t.call(i,i.__data__,a,o)&&n.push(i)}return Ii(e,this.namespace,this.id)},me.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):Nt(this,null==e?function(i){i[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},me.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?ta:Qr,r=m.ns.qualify(t);function i(){this.removeAttribute(r)}function o(){this.removeAttributeNS(r.space,r.local)}function u(c){return null==c?i:(c+="",function(){var d,f=this.getAttribute(r);return f!==c&&(d=n(f,c),function(_){this.setAttribute(r,d(_))})})}function a(c){return null==c?o:(c+="",function(){var d,f=this.getAttributeNS(r.space,r.local);return f!==c&&(d=n(f,c),function(_){this.setAttributeNS(r.space,r.local,d(_))})})}return Gs(this,"attr."+t,e,r.local?a:u)},me.attrTween=function(t,e){var n=m.ns.qualify(t);return this.tween("attr."+t,n.local?function i(o,u){var a=e.call(this,o,u,this.getAttributeNS(n.space,n.local));return a&&function(c){this.setAttributeNS(n.space,n.local,a(c))}}:function r(o,u){var a=e.call(this,o,u,this.getAttribute(n));return a&&function(c){this.setAttribute(n,a(c))}})},me.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}function o(u){return null==u?i:(u+="",function(){var c,a=gt(this).getComputedStyle(this,null).getPropertyValue(t);return a!==u&&(c=Qr(a,u),function(f){this.style.setProperty(t,c(f),n)})})}return Gs(this,"style."+t,e,o)},me.styleTween=function(t,e,n){function r(i,o){var u=e.call(this,i,o,gt(this).getComputedStyle(this,null).getPropertyValue(t));return u&&function(a){this.style.setProperty(t,u(a),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},me.text=function(t){return Gs(this,"text",t,tc)},me.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},me.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=m.ease.apply(m,arguments)),Nt(this,function(r){r[n][e].ease=t}))},me.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:Nt(this,"function"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},me.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:Nt(this,"function"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},me.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=as,o=Jr;try{Jr=n,Nt(this,function(u,a,c){as=u[r][n],t.call(u,u.__data__,a,c)})}finally{as=i,Jr=o}}else Nt(this,function(u){var a=u[r][n];(a.event||(a.event=m.dispatch("start","end","interrupt"))).on(t,e)});return this},me.transition=function(){for(var i,u,a,t=this.id,e=++Fa,n=this.namespace,r=[],c=0,f=this.length;c<f;c++){r.push(i=[]);for(var o,d=0,_=(o=this[c]).length;d<_;d++)(u=o[d])&&us(u,d,n,e,{time:(a=u[n][t]).time,ease:a.ease,delay:a.delay+a.duration,duration:a.duration}),i.push(u)}return Ii(r,n,e)},m.svg.axis=function(){var a,t=m.scale.linear(),e=Ha,n=6,r=6,i=3,o=[10],u=null;function c(f){f.each(function(){var C,d=m.select(this),_=this.__chart__||t,p=this.__chart__=t.copy(),M=null==u?p.ticks?p.ticks.apply(p,o):p.domain():u,E=null==a?p.tickFormat?p.tickFormat.apply(p,o):lt:a,b=d.selectAll(".tick").data(M,p),w=b.enter().insert("g",".domain").attr("class","tick").style("opacity",nt),x=m.transition(b.exit()).style("opacity",nt).remove(),A=m.transition(b.order()).style("opacity",1),k=Math.max(n,0)+i,Y=Ki(p),O=d.selectAll(".domain").data([0]),L=(O.enter().append("path").attr("class","domain"),m.transition(O));w.append("line"),w.append("text");var R,W,G,I,D=w.select("line"),H=A.select("line"),j=b.select("text").text(E),tt=w.select("text"),X=A.select("text"),J="top"===e||"left"===e?-1:1;if("bottom"===e||"top"===e?(C=nc,R="x",G="y",W="x2",I="y2",j.attr("dy",J<0?"0em":".71em").style("text-anchor","middle"),L.attr("d","M"+Y[0]+","+J*r+"V0H"+Y[1]+"V"+J*r)):(C=rc,R="y",G="x",W="y2",I="x2",j.attr("dy",".32em").style("text-anchor",J<0?"end":"start"),L.attr("d","M"+J*r+","+Y[0]+"H0V"+Y[1]+"H"+J*r)),D.attr(I,J*n),tt.attr(G,J*k),H.attr(W,0).attr(I,J*n),X.attr(R,0).attr(G,J*k),p.rangeBand){var B=p,ut=B.rangeBand()/2;_=p=function(vt){return B(vt)+ut}}else _.rangeBand?_=p:x.call(C,p,_);w.call(C,_,p),A.call(C,p,p)})}return c.scale=function(f){return arguments.length?(t=f,c):t},c.orient=function(f){return arguments.length?(e=f in ec?f+"":Ha,c):e},c.ticks=function(){return arguments.length?(o=Z(arguments),c):o},c.tickValues=function(f){return arguments.length?(u=f,c):u},c.tickFormat=function(f){return arguments.length?(a=f,c):a},c.tickSize=function(f){var d=arguments.length;return d?(n=+f,r=+arguments[d-1],c):n},c.innerTickSize=function(f){return arguments.length?(n=+f,c):n},c.outerTickSize=function(f){return arguments.length?(r=+f,c):r},c.tickPadding=function(f){return arguments.length?(i=+f,c):i},c.tickSubdivide=function(){return arguments.length&&c},c};var Ha="bottom",ec={top:1,right:1,bottom:1,left:1};function nc(t,e,n){t.attr("transform",function(r){var i=e(r);return"translate("+(isFinite(i)?i:n(r))+",0)"})}function rc(t,e,n){t.attr("transform",function(r){var i=e(r);return"translate(0,"+(isFinite(i)?i:n(r))+")"})}m.svg.brush=function(){var o,u,t=Me(d,"brushstart","brush","brushend"),e=null,n=null,r=[0,0],i=[0,0],a=!0,c=!0,f=Zs[0];function d(b){b.each(function(){var w=m.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",E).on("touchstart.brush",E),x=w.selectAll(".background").data([0]);x.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),w.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var A=w.selectAll(".resize").data(f,lt);A.exit().remove(),A.enter().append("g").attr("class",function(O){return"resize "+O}).style("cursor",function(O){return ic[O]}).append("rect").attr("x",function(O){return/[ew]$/.test(O)?-3:null}).attr("y",function(O){return/^[ns]/.test(O)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),A.style("display",d.empty()?"none":null);var Y,k=m.transition(w),C=m.transition(x);e&&(Y=Ki(e),C.attr("x",Y[0]).attr("width",Y[1]-Y[0]),p(k)),n&&(Y=Ki(n),C.attr("y",Y[0]).attr("height",Y[1]-Y[0]),M(k)),_(k)})}function _(b){b.selectAll(".resize").attr("transform",function(w){return"translate("+r[+/e$/.test(w)]+","+i[+/^s/.test(w)]+")"})}function p(b){b.select(".extent").attr("x",r[0]),b.selectAll(".extent,.n>rect,.s>rect").attr("width",r[1]-r[0])}function M(b){b.select(".extent").attr("y",i[0]),b.selectAll(".extent,.e>rect,.w>rect").attr("height",i[1]-i[0])}function E(){var D,j,b=this,w=m.select(m.event.target),x=t.of(b,arguments),A=m.select(b),k=w.datum(),C=!/^(n|s)$/.test(k)&&e,Y=!/^(e|w)$/.test(k)&&n,O=w.classed("extent"),L=dr(b),H=m.mouse(b),tt=m.select(gt(b)).on("keydown.brush",R).on("keyup.brush",W);if(m.event.changedTouches?tt.on("touchmove.brush",G).on("touchend.brush",B):tt.on("mousemove.brush",G).on("mouseup.brush",B),A.interrupt().selectAll("*").interrupt(),O)H[0]=r[0]-H[0],H[1]=i[0]-H[1];else if(k){var X=+/w$/.test(k),J=+/^n/.test(k);j=[r[1-X]-H[0],i[1-J]-H[1]],H[0]=r[X],H[1]=i[J]}else m.event.altKey&&(D=H.slice());function R(){32==m.event.keyCode&&(O||(D=null,H[0]-=r[1],H[1]-=i[1],O=2),Et())}function W(){32==m.event.keyCode&&2==O&&(H[0]+=r[1],H[1]+=i[1],O=0,Et())}function G(){var ut=m.mouse(b),vt=!1;j&&(ut[0]+=j[0],ut[1]+=j[1]),O||(m.event.altKey?(D||(D=[(r[0]+r[1])/2,(i[0]+i[1])/2]),H[0]=r[+(ut[0]<D[0])],H[1]=i[+(ut[1]<D[1])]):D=null),C&&I(ut,e,0)&&(p(A),vt=!0),Y&&I(ut,n,1)&&(M(A),vt=!0),vt&&(_(A),x({type:"brush",mode:O?"move":"resize"}))}function I(ut,vt,St){var ze,mn,Wt=Ki(vt),Zt=Wt[0],Ve=Wt[1],rn=H[St],Ge=St?i:r,pn=Ge[1]-Ge[0];if(O&&(Zt-=rn,Ve-=pn+rn),ze=(St?c:a)?Math.max(Zt,Math.min(Ve,ut[St])):ut[St],O?mn=(ze+=rn)+pn:(D&&(rn=Math.max(Zt,Math.min(Ve,2*D[St]-ze))),rn<ze?(mn=ze,ze=rn):mn=rn),Ge[0]!=ze||Ge[1]!=mn)return St?u=null:o=null,Ge[0]=ze,Ge[1]=mn,!0}function B(){G(),A.style("pointer-events","all").selectAll(".resize").style("display",d.empty()?"none":null),m.select("body").style("cursor",null),tt.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),L(),x({type:"brushend"})}A.style("pointer-events","none").selectAll(".resize").style("display",null),m.select("body").style("cursor",w.style("cursor")),x({type:"brushstart"}),G()}return d.event=function(b){b.each(function(){var w=t.of(this,arguments),x={x:r,y:i,i:o,j:u},A=this.__chart__||x;this.__chart__=x,Jr?m.select(this).transition().each("start.brush",function(){o=A.i,u=A.j,r=A.x,i=A.y,w({type:"brushstart"})}).tween("brush:brush",function(){var k=Xi(r,x.x),C=Xi(i,x.y);return o=u=null,function(Y){r=x.x=k(Y),i=x.y=C(Y),w({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=x.i,u=x.j,w({type:"brush",mode:"resize"}),w({type:"brushend"})}):(w({type:"brushstart"}),w({type:"brush",mode:"resize"}),w({type:"brushend"}))})},d.x=function(b){return arguments.length?(f=Zs[!(e=b)<<1|!n],d):e},d.y=function(b){return arguments.length?(f=Zs[!e<<1|!(n=b)],d):n},d.clamp=function(b){return arguments.length?(e&&n?(a=!!b[0],c=!!b[1]):e?a=!!b:n&&(c=!!b),d):e&&n?[a,c]:e?a:n?c:null},d.extent=function(b){var w,x,A,k,C;return arguments.length?(e&&(w=b[0],x=b[1],n&&(w=w[0],x=x[0]),o=[w,x],e.invert&&(w=e(w),x=e(x)),x<w&&(C=w,w=x,x=C),(w!=r[0]||x!=r[1])&&(r=[w,x])),n&&(A=b[0],k=b[1],e&&(A=A[1],k=k[1]),u=[A,k],n.invert&&(A=n(A),k=n(k)),k<A&&(C=A,A=k,k=C),(A!=i[0]||k!=i[1])&&(i=[A,k])),d):(e&&(o?(w=o[0],x=o[1]):(w=r[0],x=r[1],e.invert&&(w=e.invert(w),x=e.invert(x)),x<w&&(C=w,w=x,x=C))),n&&(u?(A=u[0],k=u[1]):(A=i[0],k=i[1],n.invert&&(A=n.invert(A),k=n.invert(k)),k<A&&(C=A,A=k,k=C))),e&&n?[[w,A],[x,k]]:e?[w,x]:n&&[A,k])},d.clear=function(){return d.empty()||(r=[0,0],i=[0,0],o=u=null),d},d.empty=function(){return!!e&&r[0]==r[1]||!!n&&i[0]==i[1]},m.rebind(d,t,"on")};var ic={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Zs=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Xs=st.format=mt.timeFormat,Ua=Xs.utc,Wa=Ua("%Y-%m-%dT%H:%M:%S.%LZ");function Ks(t){return t.toISOString()}function Qs(t,e,n){function r(o){return t(o)}function i(o,u){var c=(o[1]-o[0])/u,f=m.bisect(ls,c);return f==ls.length?[e.year,Mi(o.map(function(d){return d/31536e6}),u)[2]]:f?e[c/ls[f-1]<ls[f]/c?f-1:f]:[oc,Mi(o,u)[2]]}return r.invert=function(o){return ti(t.invert(o))},r.domain=function(o){return arguments.length?(t.domain(o),r):t.domain().map(ti)},r.nice=function(o,u){var a=r.domain(),c=wi(a),f=null==o?i(c,10):"number"==typeof o&&i(c,o);function d(_){return!isNaN(_)&&!o.range(_,ti(+_+1),u).length}return f&&(o=f[0],u=f[1]),r.domain(Qi(a,u>1?{floor:function(_){for(;d(_=o.floor(_));)_=ti(_-1);return _},ceil:function(_){for(;d(_=o.ceil(_));)_=ti(+_+1);return _}}:o))},r.ticks=function(o,u){var a=wi(r.domain()),c=null==o?i(a,10):"number"==typeof o?i(a,o):!o.range&&[{range:o},u];return c&&(o=c[0],u=c[1]),o.range(a[0],ti(+a[1]+1),u<1?1:u)},r.tickFormat=function(){return n},r.copy=function(){return Qs(t.copy(),e,n)},zs(r,t)}function ti(t){return new Date(t)}Xs.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ks:Wa,Ks.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Ks.toString=Wa.toString,st.second=nn(function(t){return new ae(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),st.seconds=st.second.range,st.seconds.utc=st.second.utc.range,st.minute=nn(function(t){return new ae(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),st.minutes=st.minute.range,st.minutes.utc=st.minute.utc.range,st.hour=nn(function(t){var e=t.getTimezoneOffset()/60;return new ae(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),st.hours=st.hour.range,st.hours.utc=st.hour.utc.range,st.month=nn(function(t){return(t=st.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),st.months=st.month.range,st.months.utc=st.month.utc.range;var ls=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Js=[[st.second,1],[st.second,5],[st.second,15],[st.second,30],[st.minute,1],[st.minute,5],[st.minute,15],[st.minute,30],[st.hour,1],[st.hour,3],[st.hour,6],[st.hour,12],[st.day,1],[st.day,2],[st.week,1],[st.month,1],[st.month,3],[st.year,1]],sc=Xs.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Ci]]),oc={range:function(t,e,n){return m.range(Math.ceil(t/n)*n,+e,n).map(ti)},floor:lt,ceil:lt};Js.year=st.year,st.scale=function(){return Qs(m.scale.linear(),Js,sc)};var ja=Js.map(function(t){return[t[0].utc,t[1]]}),ac=Ua.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Ci]]);function uc(t){return JSON.parse(t.responseText)}function lc(t){var e=K.createRange();return e.selectNode(K.body),e.createContextualFragment(t.responseText)}ja.year=st.year.utc,st.scale.utc=function(){return Qs(m.scale.linear(),ja,ac)},m.text=Vt(function(t){return t.responseText}),m.json=function(t,e){return $n(t,"application/json",uc,e)},m.html=function(t,e){return $n(t,"text/html",lc,e)},m.xml=Vt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=m,define(m)):"object"==typeof module&&module.exports?module.exports=m:this.d3=m}();var COLORS=[{color:"#258A00",themenbereich_1:"Bildung"},{color:"#FF0080",themenbereich_1:"Gesellschaft & Chancengleichheit"},{color:"#505050",themenbereich_1:"Kultur"},{color:"#FF85C4",themenbereich_1:"Finanzen & Steuern"},{color:"#C7FF00",themenbereich_1:"Gesundheit"},{color:"#FFF500",themenbereich_1:"\xd6ffentliche Ordnung & Sicherheit"},{color:"#FF0300",themenbereich_1:"\xd6ffentlicher Raum"},{color:"#FF7100",themenbereich_1:"Politik & Staat"},{color:"#00CBFF",themenbereich_1:"Siedlungsentwicklung"},{color:"#9F00FF",themenbereich_1:"Soziale Sicherheit"},{color:"#0047FF",themenbereich_1:"Umwelt & Energie"},{color:"#00FFD5",themenbereich_1:"Verkehr & Mobilit\xe4t"},{color:"#FFCC00",themenbereich_1:"Wirtschaft & Arbeit"}],CENTERS={},_createClass=function(){function m(F,Z){for(var K=0;K<Z.length;K++){var rt=Z[K];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(F,rt.key,rt)}}return function(F,Z,K){return Z&&m(F.prototype,Z),K&&m(F,K),F}}(),CenterCalculator=function(){function m(F,Z,K,rt,gt,Mt){_classCallCheck(this,m),this.category=F,this.width=Z,this.height=K,this.margin=rt,this.innerWidth=gt,this.themenbereich_1Filter=Mt}return _createClass(m,[{key:"calculateCenters",value:function(Z){if(void 0!==CENTERS[this.category])return this.fixedCenters(Z);var K=this.calculateNumberOfCirclesInCluster(Z);return K=this.sort(K),this.calculateCoordinates(K)}},{key:"fixedCenters",value:function(Z){var K=this,rt=CENTERS[this.category];return rt.forEach(function(gt,Mt){gt.index=Mt,gt.x=gt.center*K.width,gt.y=K.height/2}),rt}},{key:"calculateNumberOfCirclesInCluster",value:function(Z){var K=[],rt=this;return Z.forEach(function(gt,Mt){var Yt=!1,It=void 0;"thema_1"===rt.category?(It="all"!==rt.themenbereich_1Filter&&rt.themenbereich_1Filter!==gt.themenbereich_1&&rt.themenbereich_1Filter===gt.themenbereich_thema_2?"thema_2":rt.category,K.forEach(function(Jt){Jt.title===gt[It]&&(Jt.size++,Yt=!0)}),Yt||K.push({title:gt[It],size:1})):(It=rt.category,K.forEach(function(Jt){Jt.title===gt[It]&&(Jt.size++,Yt=!0)}),Yt||K.push({title:gt[It],size:1}))}),K}},{key:"sort",value:function(Z){return"jahr"===this.category?(Z.sort(function(K,rt){return K.title-rt.title}),Z.reverse()):(Z.sort(function(K,rt){var gt=rt.size-K.size;return 0!==gt?gt:K.title.localeCompare(rt.title)}),Z)}},{key:"calculateCoordinates",value:function(Z){var K=this;return 1===Z.length?(Z[0].x=K.width/2,Z[0].y=K.height/2):2===Z.length?(Z[0].x=K.width/4,Z[0].y=K.height/2,Z[1].x=K.width/4*3,Z[1].y=K.height/2):Z.forEach(function(rt,gt){var Mt=void 0,Yt=void 0;Z[gt].secondRow=!1,Z.length>6?gt<Math.ceil(Z.length/2)?(Yt=K.height/3,Mt=K.margin.left+gt/Math.ceil(Z.length/2-1)*K.innerWidth):(Z[gt].secondRow=!0,Yt=2*K.height/3,Mt=K.margin.left+(gt-Math.ceil(Z.length/2))/Math.ceil((Z.length-1)/2)*K.innerWidth):(Mt=K.margin.left+gt*K.innerWidth/(Z.length-1),Yt=K.height/2),Z[gt].x=Mt,Z[gt].y=Yt,Z[gt].index=gt}),Z}}]),m}();function _classCallCheck(m,F){if(!(m instanceof F))throw new TypeError("Cannot call a class as a function")}_createClass=function(){function m(F,Z){for(var K=0;K<Z.length;K++){var rt=Z[K];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(F,rt.key,rt)}}return function(F,Z,K){return Z&&m(F.prototype,Z),K&&m(F,K),F}}();var FillColorCalculator=function(){function m(F){_classCallCheck(this,m),this.useSubColors=F,this.subCategoryColors={}}return _createClass(m,[{key:"calculateColor",value:function(Z,K,rt){var gt="";return COLORS.forEach(function(Mt){Mt.themenbereich_1===Z&&(gt=Mt.color)}),rt&&(gt=d3.rgb(gt).darker()),gt}},{key:"calculateSubcolor",value:function(Z,K,rt){this.subCategoryColors.hasOwnProperty(K)?-1===this.subCategoryColors[K].indexOf(rt)&&this.subCategoryColors[K].push(rt):this.subCategoryColors[K]=[rt];var gt=.3+.1*this.subCategoryColors[K].indexOf(rt);Z=d3.hsl(Z);var Mt=d3.hsl(Z.h,Z.s,gt);return d3.rgb(Mt)}}]),m}(),$=jQuery,BubbleChart={myBubbleChart:null,svg:null,fillColorCalculator:null,themenbereich_1Filter:null,AMOUNT_INSTRUMENTS:{Initiative:8,Referendum:8,Motion:4,Anzug:4,Resolution:4,Planungsanzug:4,Budgetpostulat:4,"Vorgezogenes Budgetpostulat":4,Standesinitiative:4,Standesreferendum:4,Petition:2,"Schriftliche Anfrage":2,Interpellation:2},bubbleChart:function(){var F=document.getElementById("vis"),Z=F.clientWidth,K=F.clientHeight,rt={left:140,right:160},gt=Z-rt.left-rt.right,Mt=floatingTooltip("gates_tooltip",240),Yt=!1,ie=BubbleChart.svg.attr("width",Z).attr("height",K),Rt=null,dt=[],le=d3.layout.force().size([gt,K]).charge(function ue(Tt){return 0}).gravity(0),sn=d3.scale.pow().exponent(.5).range([1,10]),_e=function Tt(kt,lt){sn.domain([0,BubbleChart.AMOUNT_INSTRUMENTS.Initiative]),dt=function ht(Tt){var kt=Tt.map(function(lt){return{geschaefts_nr:lt["Gesch\xe4fts-nr"],radius:sn(BubbleChart.AMOUNT_INSTRUMENTS[lt.Instrument]),instrument:lt.Instrument,urheber:lt.UrheberIn,titel:lt.Titel,status:lt.Status,letzte_uebersweisung:lt.Jahr,themenbereich_1:lt["Themenbereich 1"],themenbereich_thema_2:lt["Themenbereich 2"],thema_1:lt["Thema 1"],thema_2:lt["Thema 2"],schwerpunktthema:lt["Schwerpunktthema (bei Bedarf)"],konsorten:lt.Konsorten,link:lt.Link,parteien:lt.Partei,jahr:lt.Jahr,date:moment(new Date(lt.Jahr)),x:900*Math.random(),y:800*Math.random()}});return kt.sort(function(lt,yt){return yt.radius-lt.radius}),kt}(lt),le.nodes(dt),(Rt=ie.selectAll(".bubble").data(dt,function(yt){return yt.geschaefts_nr})).enter().append("circle").classed("bubble",!0).attr("r",0).attr("fill",function(yt){return BubbleChart.fillColorCalculator.calculateColor(yt.themenbereich_1,yt.thema_1)}).attr("stroke",function(yt){return BubbleChart.fillColorCalculator.calculateColor(yt.themenbereich_1,yt.thema_1,!0)}).attr("stroke-width",2).on("mouseover",function(yt){Yt||Mn(this,yt,!1)}).on("click",function(yt){Mn(this,yt,!0)}).on("mouseout",function(yt){Yt||hr(this,yt)}),Rt.transition().duration(2e3).attr("r",function(yt){return yt.radius}).attr("fill",function(yt){return BubbleChart.fillColorCalculator.calculateColor(yt.themenbereich_1,yt.thema_1)}).attr("stroke",function(yt){return BubbleChart.fillColorCalculator.calculateColor(yt.themenbereich_1,yt.thema_1,!0)}),Rt.exit().remove(),Tt.toggleDisplay($("#toolbar").find(".active").attr("id"))};var ye=d3.select("body").append("div").attr("class","infoTooltip").style("opacity",0);function Mn(Tt,kt,lt){d3.select(Tt).attr("stroke","black");var yt='<span class="name">Gesch\xe4ftsnummer: </span><span class="value"><a target="_blank" href="'+kt.link+'">'+kt.geschaefts_nr+"</a> ("+kt.jahr+')</span><br/><span class="name">Titel: </span><span class="value">'+kt.titel+'</span><br/><span class="name">Partei: </span><span class="value">'+kt.parteien+'</span><br/><span class="name">Status: </span><span class="value">'+kt.status+'</span><br/><span class="name">Themenbereich: </span><span class="value">'+kt.themenbereich_1+'</span><br/><span class="name">Thema 1: </span><span class="value">'+kt.thema_1+"</span><br/>";0!==kt.thema_2.length&&(yt+='<span class="name">Thema 2: </span><span class="value">'+kt.thema_2+"</span>"),Mt.showTooltip(yt,d3.event,lt),Yt=lt,$(".custom_tooltip").on("mouseleave",function(){Yt=!1,hr(Tt,kt)})}function hr(Tt,kt){d3.select(Tt).attr("stroke",BubbleChart.fillColorCalculator.calculateColor(kt.themenbereich_1,kt.thema_1,!0)),Mt.hideTooltip()}return _e.toggleDisplay=function(Tt){BubbleChart.category=Tt,function tr(Tt){var kt=void 0;if("all"===Tt)kt=[{title:"Alle",size:1e4,x:Z/2,y:K/2}];else{var lt=new CenterCalculator(Tt,Z,K,rt,gt,BubbleChart.themenbereich_1Filter);kt=lt.calculateCenters(dt)}!function Hn(Tt){var kt=this,lt=ie.selectAll(".categoryLabels").data(Tt);lt.attr("x",function(z){return z.x}).attr("y",function(z){return z.secondRow?K-40:40}).text(function(z){return z.title}).on("mouseover",function(z){return onMouseOver(z,kt,ye)}).on("mouseout",function(z){return onMouseOut(ye)}),onMouseOver=function(Et,zt,Me){var Ae=null;"Petition"===Et.title&&(Ae="Die Petition ist ein Grundrecht, das allen Menschen unabh\xe4ngig von Nationalit\xe4t oder Alter zur Verf\xfcgung steht. Auch Ausl\xe4nderinnen und Ausl\xe4nder, Bewohnerinnen und Bewohner anderer Kantone sowie Kinder haben das Recht, schriftlich Bitten, Anregungen oder Beschwerden an jede Beh\xf6rde zu richten. Petitionen werden von der Petitionskommission bearbeitet und ben\xf6tigen keine Mindestzahl an Unterschriften. Nur die durch den Grossen Rat an den Regierungsrat \xfcberwiesenen Petitionen werden in der Visualisierung erfasst."),"Anzug"===Et.title&&(Ae="Der Anzug ist das am h\xe4ufigsten gew\xe4hlte parlamentarische Instrument und entspricht dem Postulat beim Bund bzw. den meisten Kantonen. Per Anzug kann jedes Ratsmitglied oder eine st\xe4ndige Kommission dem Regierungsrat oder dem Grossen Rat Anregungen zur \xc4nderung der Verfassung, zu Gesetzen oder Beschl\xfcssen oder zu Massnahmen der Verwaltung vorlegen. Nur die an den Regierungsrat \xfcberwiesenen Anz\xfcge werden in der Visualisierung erfasst."),"Motion"===Et.title&&(Ae="Die Motion ist das parlamentarische Instrument mit dem st\xe4rksten verpflichtenden Charakter. Mit ihr kann jedes Ratsmitglied oder eine st\xe4ndige Kommission vom Regierungsrat verbindlich fordern, dem Grossen Rat ein neues Gesetz, eine Verfassungs- oder Gesetzes\xe4nderung oder eine Massnahme zu unterbreiten. Nur die an den Regierungsrat \xfcberwiesenen Motionen werden in der Visualisierung abgebildet."),"Initiative"===Et.title&&(Ae="3'000 Stimmberechtigte k\xf6nnen innert 18 Monaten eine Initiative einreichen, um eine Verfassungs- oder eine Gesetzes\xe4nderung einzubringen. Sofern der Grosse Rat die Volksinitiative als rechtlich zul\xe4ssig erachtet, muss er sie behandeln. Er kann die Initiative unterst\xfctzen, zur Ablehnung empfehlen oder einen Gegenvorschlag beschliessen und ausarbeiten lassen. Auch der Regierungsrat kann beim Grossen Rat einen Gegenvorschlag beantragen. In der Visualisierung werden alle zustande gekommenen Initiativen erfasst. Im Anschluss an eine Abstimmung gelten sie als erledigt."),null!==Ae&&Me.transition().duration(2e3).style("opacity",1),Me.html(Ae).style("left",Et.x-80+"px").style("top",Et.y+-20+"px")},onMouseOut=function(Et){Et.transition().duration(500).style("opacity",0)},lt.enter().append("text").attr("class","categoryLabels").attr("x",function(z){return z.x}).attr("y",function(z){return z.secondRow?K-45:40}).attr("text-anchor","middle").text(function(z){return z.title}),lt.exit().remove();var Et,Me,Ae,yt=ie.selectAll(".labelColorLine").data(Tt);yt.enter().append("line").attr("class","labelColorLine").attr("x1",function(z){return z.x-12+"px"}).attr("x2",function(z){return z.x+12+"px"}).attr("y1",function(z){return z.secondRow?K-35:50}).attr("y2",function(z){return z.secondRow?K-35:50}).attr("stroke",function(z){return"all"===BubbleChart.themenbereich_1Filter?BubbleChart.fillColorCalculator.calculateColor(z.title,null):BubbleChart.fillColorCalculator.calculateColor(BubbleChart.themenbereich_1Filter,z.title)}).attr("stroke-width",2),yt.attr("x1",function(z){return z.x-12+"px"}).attr("x2",function(z){return z.x+12+"px"}).attr("y1",function(z){return z.secondRow?K-35:50}).attr("y2",function(z){return z.secondRow?K-35:50}).attr("stroke",function(z){return"all"===BubbleChart.themenbereich_1Filter?BubbleChart.fillColorCalculator.calculateColor(z.title,null):BubbleChart.fillColorCalculator.calculateColor(BubbleChart.themenbereich_1Filter,z.title)}),yt.exit().remove(),"themenbereich_1"!==BubbleChart.category&&"thema_1"!==BubbleChart.category&&d3.selectAll(".labelColorLine").remove();for(var at=!1,Pt=1;Pt<lt[0].length-1;Pt++)at=at||(Et=Pt,Me=void 0,Ae=void 0,Me=parseInt(lt[0][Et].getAttribute("x"))-lt[0][Et].getBBox().width/2,Ae=parseInt(lt[0][Et-1].getAttribute("x"))+lt[0][Et-1].getBBox().width/2,!(Me<parseInt(lt[0][Et-1].getAttribute("x"))-lt[0][Et-1].getBBox().width/2)&&Me<Ae+15);if(at)for(var ee=1;ee<lt[0].length;ee+=2)d3.select(lt[0][ee]).attr("y",parseInt(lt[0][ee].getAttribute("y"))+30),d3.select(yt[0][ee]).attr("y1",parseInt(yt[0][ee].getAttribute("y1"))+30),d3.select(yt[0][ee]).attr("y2",parseInt(yt[0][ee].getAttribute("y2"))+30)}(kt);var yt=ie.selectAll(".centerMarkers").data(kt).attr("cx",function(Ot){return Ot.x}).attr("cy",function(Ot){return Ot.y});yt.enter().append("circle").attr("class","centerMarkers").attr("r",5).attr("cx",function(Ot){return Ot.x}).attr("cy",function(Ot){return Ot.y}),yt.exit().remove(),le.on("tick",function(Ot){Rt.each(function ve(Tt,kt,lt){return function(yt){var Ot=null,at=null;kt.forEach(function(ee){(ee.title===yt[lt]||"all"===lt||"all"!==BubbleChart.themenbereich_1Filter&&yt.themenbereich_1!==BubbleChart.themenbereich_1Filter&&ee.title===yt.thema_2)&&(Ot=ee.x,at=ee.y)});var Pt_y=at;yt.x=yt.x+.102*(Ot-yt.x)*Tt*1.1,yt.y=yt.y+.102*(Pt_y-yt.y)*Tt*1.1}}(Ot.alpha,kt,Tt)).each(function wn(Tt){var yt=d3.geom.quadtree(dt);return function(Ot){var at=Ot.radius+15+4,Pt=Ot.x-at,ee=Ot.x+at,z=Ot.y-at,Et=Ot.y+at;yt.visit(function(zt,Me,Ae,Xt,oe){if(zt.point&&zt.point!==Ot){var ne=Ot.x-zt.point.x,_t=Ot.y-zt.point.y,ce=Math.sqrt(ne*ne+_t*_t),Ct=Ot.radius+zt.point.radius+4;ce<Ct&&(Ot.x-=ne*=ce=(ce-Ct)/ce*Tt,Ot.y-=_t*=ce,zt.point.x+=ne,zt.point.y+=_t)}return Me>ee||Xt<Pt||Ae>Et||oe<z})}}(.11)).attr("cx",function(at){return at.x}).attr("cy",function(at){return at.y})}),le.start()}(Tt)},_e},display:function(F){BubbleChart.myBubbleChart("#vis",F)},setupButtons:function(){d3.select("#toolbar").selectAll(".btn").on("click",function(){d3.selectAll(".btn").classed("active",!1);var F=d3.select(this);F.classed("active",!0);var Z=F.attr("id");BubbleChart.myBubbleChart.toggleDisplay(Z)})},addCommas:function(F){for(var Z=(F+="").split("."),K=Z[0],rt=Z.length>1?"."+Z[1]:"",gt=/(\d+)(\d{3})/;gt.test(K);)K=K.replace(gt,"$1,$2");return K+rt},initialize:function(F,Z){BubbleChart.themenbereich_1Filter=Z,BubbleChart.svg=d3.select("#vis").select("svg").remove(),BubbleChart.svg=d3.select("#vis").append("svg"),BubbleChart.update(F)},update:function(F){BubbleChart.fillColorCalculator=new FillColorCalculator(1===$("#toolbar").find("#thema_1").length),BubbleChart.myBubbleChart=BubbleChart.bubbleChart(),BubbleChart.display(F),BubbleChart.setupButtons()}};!function(m,F){"object"==typeof exports&&"undefined"!=typeof module?module.exports=F(require("@popperjs/core")):"function"==typeof define&&define.amd?define(["@popperjs/core"],F):(m="undefined"!=typeof globalThis?globalThis:m||self).bootstrap=F(m.Popper)}(this,function(m){"use strict";const Z=function F(N){if(N&&N.__esModule)return N;const h=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(N)for(const v in N)if("default"!==v){const T=Object.getOwnPropertyDescriptor(N,v);Object.defineProperty(h,v,T.get?T:{enumerable:!0,get:()=>N[v]})}return h.default=N,Object.freeze(h)}(m),K="transitionend",rt=N=>{let h=N.getAttribute("data-bs-target");if(!h||"#"===h){let v=N.getAttribute("href");if(!v||!v.includes("#")&&!v.startsWith("."))return null;v.includes("#")&&!v.startsWith("#")&&(v=`#${v.split("#")[1]}`),h=v&&"#"!==v?v.trim():null}return h},gt=N=>{const h=rt(N);return h&&document.querySelector(h)?h:null},Mt=N=>{const h=rt(N);return h?document.querySelector(h):null},Yt=N=>{N.dispatchEvent(new Event(K))},It=N=>!(!N||"object"!=typeof N)&&(void 0!==N.jquery&&(N=N[0]),void 0!==N.nodeType),Jt=N=>It(N)?N.jquery?N[0]:N:"string"==typeof N&&N.length>0?document.querySelector(N):null,ie=N=>{if(!It(N)||0===N.getClientRects().length)return!1;const h="visible"===getComputedStyle(N).getPropertyValue("visibility"),v=N.closest("details:not([open])");if(!v)return h;if(v!==N){const T=N.closest("summary");if(T&&T.parentNode!==v||null===T)return!1}return h},Rt=N=>!N||N.nodeType!==Node.ELEMENT_NODE||!!N.classList.contains("disabled")||(void 0!==N.disabled?N.disabled:N.hasAttribute("disabled")&&"false"!==N.getAttribute("disabled")),dt=N=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof N.getRootNode){const h=N.getRootNode();return h instanceof ShadowRoot?h:null}return N instanceof ShadowRoot?N:N.parentNode?dt(N.parentNode):null},ue=()=>{},sn=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ne=[],ht=()=>"rtl"===document.documentElement.dir,_e=N=>{var h;h=()=>{const v=sn();if(v){const T=N.NAME,q=v.fn[T];v.fn[T]=N.jQueryInterface,v.fn[T].Constructor=N,v.fn[T].noConflict=()=>(v.fn[T]=q,N.jQueryInterface)}},"loading"===document.readyState?(Ne.length||document.addEventListener("DOMContentLoaded",()=>{for(const v of Ne)v()}),Ne.push(h)):h()},we=N=>{"function"==typeof N&&N()},se=(N,h,v=!0)=>{if(!v)return void we(N);const T=(ft=>{if(!ft)return 0;let{transitionDuration:Lt,transitionDelay:Gt}=window.getComputedStyle(ft);const re=Number.parseFloat(Lt),fe=Number.parseFloat(Gt);return re||fe?(Lt=Lt.split(",")[0],Gt=Gt.split(",")[0],1e3*(Number.parseFloat(Lt)+Number.parseFloat(Gt))):0})(h)+5;let q=!1;const it=({target:ft})=>{ft===h&&(q=!0,h.removeEventListener(K,it),we(N))};h.addEventListener(K,it),setTimeout(()=>{q||Yt(h)},T)},tr=(N,h,v,T)=>{const q=N.length;let it=N.indexOf(h);return-1===it?!v&&T?N[q-1]:N[0]:(it+=v?1:-1,T&&(it=(it+q)%q),N[Math.max(0,Math.min(it,q-1))])},ve=/[^.]*(?=\..*)\.|.*/,wn=/\..*/,Fn=/::\d+$/,ye={};let Hn=1;const Mn={mouseenter:"mouseover",mouseleave:"mouseout"},hr=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Tt(N,h){return h&&`${h}::${Hn++}`||N.uidEvent||Hn++}function kt(N){const h=Tt(N);return N.uidEvent=h,ye[h]=ye[h]||{},ye[h]}function lt(N,h,v=null){return Object.values(N).find(T=>T.callable===h&&T.delegationSelector===v)}function yt(N,h,v){const T="string"==typeof h,q=T?v:h||v;let it=ee(N);return hr.has(it)||(it=N),[T,q,it]}function Ot(N,h,v,T,q){if("string"!=typeof h||!N)return;let[it,ft,Lt]=yt(h,v,T);var mt;h in Mn&&(mt=ft,ft=function(Re){if(!Re.relatedTarget||Re.relatedTarget!==Re.delegateTarget&&!Re.delegateTarget.contains(Re.relatedTarget))return mt.call(this,Re)});const Gt=kt(N),re=Gt[Lt]||(Gt[Lt]={}),fe=lt(re,ft,it?v:null);if(fe)return void(fe.oneOff=fe.oneOff&&q);const de=Tt(ft,h.replace(ve,"")),Ce=it?function(Ye,mt,Re){return function Pn(Mr){const Be=Ye.querySelectorAll(mt);for(let{target:Ie}=Mr;Ie&&Ie!==this;Ie=Ie.parentNode)for(const hi of Be)if(hi===Ie)return Et(Mr,{delegateTarget:Ie}),Pn.oneOff&&z.off(Ye,Mr.type,mt,Re),Re.apply(Ie,[Mr])}}(N,v,ft):function(Ye,mt){return function Re(Pn){return Et(Pn,{delegateTarget:Ye}),Re.oneOff&&z.off(Ye,Pn.type,mt),mt.apply(Ye,[Pn])}}(N,ft);Ce.delegationSelector=it?v:null,Ce.callable=ft,Ce.oneOff=q,Ce.uidEvent=de,re[de]=Ce,N.addEventListener(Lt,Ce,it)}function at(N,h,v,T,q){const it=lt(h[v],T,q);it&&(N.removeEventListener(v,it,Boolean(q)),delete h[v][it.uidEvent])}function Pt(N,h,v,T){const q=h[v]||{};for(const it of Object.keys(q))if(it.includes(T)){const ft=q[it];at(N,h,v,ft.callable,ft.delegationSelector)}}function ee(N){return N=N.replace(wn,""),Mn[N]||N}const z={on(N,h,v,T){Ot(N,h,v,T,!1)},one(N,h,v,T){Ot(N,h,v,T,!0)},off(N,h,v,T){if("string"!=typeof h||!N)return;const[q,it,ft]=yt(h,v,T),Lt=ft!==h,Gt=kt(N),re=Gt[ft]||{},fe=h.startsWith(".");if(void 0===it){if(fe)for(const de of Object.keys(Gt))Pt(N,Gt,de,h.slice(1));for(const de of Object.keys(re)){const Ce=de.replace(Fn,"");if(!Lt||h.includes(Ce)){const Ye=re[de];at(N,Gt,ft,Ye.callable,Ye.delegationSelector)}}}else{if(!Object.keys(re).length)return;at(N,Gt,ft,it,q?v:null)}},trigger(N,h,v){if("string"!=typeof h||!N)return null;const T=sn();let q=null,it=!0,ft=!0,Lt=!1;h!==ee(h)&&T&&(q=T.Event(h,v),T(N).trigger(q),it=!q.isPropagationStopped(),ft=!q.isImmediatePropagationStopped(),Lt=q.isDefaultPrevented());let Gt=new Event(h,{bubbles:it,cancelable:!0});return Gt=Et(Gt,v),Lt&&Gt.preventDefault(),ft&&N.dispatchEvent(Gt),Gt.defaultPrevented&&q&&q.preventDefault(),Gt}};function Et(N,h){for(const[v,T]of Object.entries(h||{}))try{N[v]=T}catch(q){Object.defineProperty(N,v,{configurable:!0,get:()=>T})}return N}const zt=new Map,Me={set(N,h,v){zt.has(N)||zt.set(N,new Map);const T=zt.get(N);T.has(h)||0===T.size?T.set(h,v):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(T.keys())[0]}.`)},get:(N,h)=>zt.has(N)&&zt.get(N).get(h)||null,remove(N,h){if(!zt.has(N))return;const v=zt.get(N);v.delete(h),0===v.size&&zt.delete(N)}};function Ae(N){if("true"===N)return!0;if("false"===N)return!1;if(N===Number(N).toString())return Number(N);if(""===N||"null"===N)return null;if("string"!=typeof N)return N;try{return JSON.parse(decodeURIComponent(N))}catch(h){return N}}function Xt(N){return N.replace(/[A-Z]/g,h=>`-${h.toLowerCase()}`)}const oe={setDataAttribute(N,h,v){N.setAttribute(`data-bs-${Xt(h)}`,v)},removeDataAttribute(N,h){N.removeAttribute(`data-bs-${Xt(h)}`)},getDataAttributes(N){if(!N)return{};const h={},v=Object.keys(N.dataset).filter(T=>T.startsWith("bs")&&!T.startsWith("bsConfig"));for(const T of v){let q=T.replace(/^bs/,"");q=q.charAt(0).toLowerCase()+q.slice(1,q.length),h[q]=Ae(N.dataset[T])}return h},getDataAttribute:(N,h)=>Ae(N.getAttribute(`data-bs-${Xt(h)}`))};class ne{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(h){return h=this._mergeConfigObj(h),h=this._configAfterMerge(h),this._typeCheckConfig(h),h}_configAfterMerge(h){return h}_mergeConfigObj(h,v){const T=It(v)?oe.getDataAttribute(v,"config"):{};return $e($e($e($e({},this.constructor.Default),"object"==typeof T?T:{}),It(v)?oe.getDataAttributes(v):{}),"object"==typeof h?h:{})}_typeCheckConfig(h,v=this.constructor.DefaultType){for(const q of Object.keys(v)){const it=v[q],ft=h[q],Lt=It(ft)?"element":null==(T=ft)?`${T}`:Object.prototype.toString.call(T).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(it).test(Lt))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${q}" provided type "${Lt}" but expected type "${it}".`)}var T}}class _t extends ne{constructor(h,v){super(),(h=Jt(h))&&(this._element=h,this._config=this._getConfig(v),Me.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Me.remove(this._element,this.constructor.DATA_KEY),z.off(this._element,this.constructor.EVENT_KEY);for(const h of Object.getOwnPropertyNames(this))this[h]=null}_queueCallback(h,v,T=!0){se(h,v,T)}_getConfig(h){return h=this._mergeConfigObj(h,this._element),h=this._configAfterMerge(h),this._typeCheckConfig(h),h}static getInstance(h){return Me.get(Jt(h),this.DATA_KEY)}static getOrCreateInstance(h,v={}){return this.getInstance(h)||new this(h,"object"==typeof v?v:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(h){return`${h}${this.EVENT_KEY}`}}const ce=(N,h="hide")=>{const T=N.NAME;z.on(document,`click.dismiss${N.EVENT_KEY}`,`[data-bs-dismiss="${T}"]`,function(q){if(["A","AREA"].includes(this.tagName)&&q.preventDefault(),Rt(this))return;const it=Mt(this)||this.closest(`.${T}`);N.getOrCreateInstance(it)[h]()})};class Ct extends _t{static get NAME(){return"alert"}close(){if(z.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const h=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,h)}_destroyElement(){this._element.remove(),z.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(h){return this.each(function(){const v=Ct.getOrCreateInstance(this);if("string"==typeof h){if(void 0===v[h]||h.startsWith("_")||"constructor"===h)throw new TypeError(`No method named "${h}"`);v[h](this)}})}}ce(Ct,"close"),_e(Ct);const fr='[data-bs-toggle="button"]';class Q extends _t{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(h){return this.each(function(){const v=Q.getOrCreateInstance(this);"toggle"===h&&v[h]()})}}z.on(document,"click.bs.button.data-api",fr,N=>{N.preventDefault();const h=N.target.closest(fr);Q.getOrCreateInstance(h).toggle()}),_e(Q);const At={find:(N,h=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(h,N)),findOne:(N,h=document.documentElement)=>Element.prototype.querySelector.call(h,N),children:(N,h)=>[].concat(...N.children).filter(v=>v.matches(h)),parents(N,h){const v=[];let T=N.parentNode.closest(h);for(;T;)v.push(T),T=T.parentNode.closest(h);return v},prev(N,h){let v=N.previousElementSibling;for(;v;){if(v.matches(h))return[v];v=v.previousElementSibling}return[]},next(N,h){let v=N.nextElementSibling;for(;v;){if(v.matches(h))return[v];v=v.nextElementSibling}return[]},focusableChildren(N){const h=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(v=>`${v}:not([tabindex^="-"])`).join(",");return this.find(h,N).filter(v=>!Rt(v)&&ie(v))}},qt={endCallback:null,leftCallback:null,rightCallback:null},Un={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class on extends ne{constructor(h,v){super(),this._element=h,h&&on.isSupported()&&(this._config=this._getConfig(v),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return qt}static get DefaultType(){return Un}static get NAME(){return"swipe"}dispose(){z.off(this._element,".bs.swipe")}_start(h){this._supportPointerEvents?this._eventIsPointerPenTouch(h)&&(this._deltaX=h.clientX):this._deltaX=h.touches[0].clientX}_end(h){this._eventIsPointerPenTouch(h)&&(this._deltaX=h.clientX-this._deltaX),this._handleSwipe(),we(this._config.endCallback)}_move(h){this._deltaX=h.touches&&h.touches.length>1?0:h.touches[0].clientX-this._deltaX}_handleSwipe(){const h=Math.abs(this._deltaX);if(h<=40)return;const v=h/this._deltaX;this._deltaX=0,v&&we(v>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(z.on(this._element,"pointerdown.bs.swipe",h=>this._start(h)),z.on(this._element,"pointerup.bs.swipe",h=>this._end(h)),this._element.classList.add("pointer-event")):(z.on(this._element,"touchstart.bs.swipe",h=>this._start(h)),z.on(this._element,"touchmove.bs.swipe",h=>this._move(h)),z.on(this._element,"touchend.bs.swipe",h=>this._end(h)))}_eventIsPointerPenTouch(h){return this._supportPointerEvents&&("pen"===h.pointerType||"touch"===h.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ze="next",Fe="prev",an="left",Cr="right",Wn="slid.bs.carousel",Xe="carousel",ct="active",ki={ArrowLeft:Cr,ArrowRight:an},xe={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ar={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class xn extends _t{constructor(h,v){super(h,v),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=At.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Xe&&this.cycle()}static get Default(){return xe}static get DefaultType(){return Ar}static get NAME(){return"carousel"}next(){this._slide(Ze)}nextWhenVisible(){!document.hidden&&ie(this._element)&&this.next()}prev(){this._slide(Fe)}pause(){this._isSliding&&Yt(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?z.one(this._element,Wn,()=>this.cycle()):this.cycle())}to(h){const v=this._getItems();if(h>v.length-1||h<0)return;if(this._isSliding)return void z.one(this._element,Wn,()=>this.to(h));const T=this._getItemIndex(this._getActive());T!==h&&this._slide(h>T?Ze:Fe,v[h])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(h){return h.defaultInterval=h.interval,h}_addEventListeners(){this._config.keyboard&&z.on(this._element,"keydown.bs.carousel",h=>this._keydown(h)),"hover"===this._config.pause&&(z.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),z.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&on.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const v of At.find(".carousel-item img",this._element))z.on(v,"dragstart.bs.carousel",T=>T.preventDefault());this._swipeHelper=new on(this._element,{leftCallback:()=>this._slide(this._directionToOrder(an)),rightCallback:()=>this._slide(this._directionToOrder(Cr)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(h){if(/input|textarea/i.test(h.target.tagName))return;const v=ki[h.key];v&&(h.preventDefault(),this._slide(this._directionToOrder(v)))}_getItemIndex(h){return this._getItems().indexOf(h)}_setActiveIndicatorElement(h){if(!this._indicatorsElement)return;const v=At.findOne(".active",this._indicatorsElement);v.classList.remove(ct),v.removeAttribute("aria-current");const T=At.findOne(`[data-bs-slide-to="${h}"]`,this._indicatorsElement);T&&(T.classList.add(ct),T.setAttribute("aria-current","true"))}_updateInterval(){const h=this._activeElement||this._getActive();if(!h)return;const v=Number.parseInt(h.getAttribute("data-bs-interval"),10);this._config.interval=v||this._config.defaultInterval}_slide(h,v=null){if(this._isSliding)return;const T=this._getActive(),q=h===Ze,it=v||tr(this._getItems(),T,q,this._config.wrap);if(it===T)return;const ft=this._getItemIndex(it),Lt=de=>z.trigger(this._element,de,{relatedTarget:it,direction:this._orderToDirection(h),from:this._getItemIndex(T),to:ft});if(Lt("slide.bs.carousel").defaultPrevented||!T||!it)return;const Gt=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ft),this._activeElement=it;const re=q?"carousel-item-start":"carousel-item-end",fe=q?"carousel-item-next":"carousel-item-prev";it.classList.add(fe),T.classList.add(re),it.classList.add(re),this._queueCallback(()=>{it.classList.remove(re,fe),it.classList.add(ct),T.classList.remove(ct,fe,re),this._isSliding=!1,Lt(Wn)},T,this._isAnimated()),Gt&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return At.findOne(".active.carousel-item",this._element)}_getItems(){return At.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(h){return ht()?h===an?Fe:Ze:h===an?Ze:Fe}_orderToDirection(h){return ht()?h===Fe?an:Cr:h===Fe?Cr:an}static jQueryInterface(h){return this.each(function(){const v=xn.getOrCreateInstance(this,h);if("number"!=typeof h){if("string"==typeof h){if(void 0===v[h]||h.startsWith("_")||"constructor"===h)throw new TypeError(`No method named "${h}"`);v[h]()}}else v.to(h)})}}z.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(N){const h=Mt(this);if(!h||!h.classList.contains(Xe))return;N.preventDefault();const v=xn.getOrCreateInstance(h),T=this.getAttribute("data-bs-slide-to");return T?(v.to(T),void v._maybeEnableCycle()):"next"===oe.getDataAttribute(this,"slide")?(v.next(),void v._maybeEnableCycle()):(v.prev(),void v._maybeEnableCycle())}),z.on(window,"load.bs.carousel.data-api",()=>{const N=At.find('[data-bs-ride="carousel"]');for(const h of N)xn.getOrCreateInstance(h)}),_e(xn);const Nt="show",vn="collapse",Ht="collapsing",ge='[data-bs-toggle="collapse"]',un={parent:null,toggle:!0},He={parent:"(null|element)",toggle:"boolean"};class Kt extends _t{constructor(h,v){super(h,v),this._isTransitioning=!1,this._triggerArray=[];const T=At.find(ge);for(const q of T){const it=gt(q),ft=At.find(it).filter(Lt=>Lt===this._element);null!==it&&ft.length&&this._triggerArray.push(q)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return un}static get DefaultType(){return He}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let h=[];if(this._config.parent&&(h=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(q=>q!==this._element).map(q=>Kt.getOrCreateInstance(q,{toggle:!1}))),h.length&&h[0]._isTransitioning||z.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const q of h)q.hide();const v=this._getDimension();this._element.classList.remove(vn),this._element.classList.add(Ht),this._element.style[v]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const T=`scroll${v[0].toUpperCase()+v.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ht),this._element.classList.add(vn,Nt),this._element.style[v]="",z.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[v]=`${this._element[T]}px`}hide(){if(this._isTransitioning||!this._isShown()||z.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const h=this._getDimension();this._element.style[h]=`${this._element.getBoundingClientRect()[h]}px`,this._element.classList.add(Ht),this._element.classList.remove(vn,Nt);for(const v of this._triggerArray){const T=Mt(v);T&&!this._isShown(T)&&this._addAriaAndCollapsedClass([v],!1)}this._isTransitioning=!0,this._element.style[h]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ht),this._element.classList.add(vn),z.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(h=this._element){return h.classList.contains(Nt)}_configAfterMerge(h){return h.toggle=Boolean(h.toggle),h.parent=Jt(h.parent),h}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const h=this._getFirstLevelChildren(ge);for(const v of h){const T=Mt(v);T&&this._addAriaAndCollapsedClass([v],this._isShown(T))}}_getFirstLevelChildren(h){const v=At.find(":scope .collapse .collapse",this._config.parent);return At.find(h,this._config.parent).filter(T=>!v.includes(T))}_addAriaAndCollapsedClass(h,v){if(h.length)for(const T of h)T.classList.toggle("collapsed",!v),T.setAttribute("aria-expanded",v)}static jQueryInterface(h){const v={};return"string"==typeof h&&/show|hide/.test(h)&&(v.toggle=!1),this.each(function(){const T=Kt.getOrCreateInstance(this,v);if("string"==typeof h){if(void 0===T[h])throw new TypeError(`No method named "${h}"`);T[h]()}})}}z.on(document,"click.bs.collapse.data-api",ge,function(N){("A"===N.target.tagName||N.delegateTarget&&"A"===N.delegateTarget.tagName)&&N.preventDefault();const h=gt(this),v=At.find(h);for(const T of v)Kt.getOrCreateInstance(T,{toggle:!1}).toggle()}),_e(Kt);const Ue="dropdown",ke="ArrowUp",kn="ArrowDown",dr="click.bs.dropdown.data-api",Er="keydown.bs.dropdown.data-api",ln="show",Ke='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',nt=`${Ke}.show`,Sn=".dropdown-menu",wt=ht()?"top-end":"top-start",De=ht()?"top-start":"top-end",ri=ht()?"bottom-end":"bottom-start",Qt=ht()?"bottom-start":"bottom-end",pt=ht()?"left-start":"right-start",Ut=ht()?"right-start":"left-start",ii={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},jn={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Se extends _t{constructor(h,v){super(h,v),this._popper=null,this._parent=this._element.parentNode,this._menu=At.next(this._element,Sn)[0]||At.prev(this._element,Sn)[0]||At.findOne(Sn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ii}static get DefaultType(){return jn}static get NAME(){return Ue}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Rt(this._element)||this._isShown())return;const h={relatedTarget:this._element};if(!z.trigger(this._element,"show.bs.dropdown",h).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const v of[].concat(...document.body.children))z.on(v,"mouseover",ue);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ln),this._element.classList.add(ln),z.trigger(this._element,"shown.bs.dropdown",h)}}hide(){!Rt(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(h){if(!z.trigger(this._element,"hide.bs.dropdown",h).defaultPrevented){if("ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))z.off(v,"mouseover",ue);this._popper&&this._popper.destroy(),this._menu.classList.remove(ln),this._element.classList.remove(ln),this._element.setAttribute("aria-expanded","false"),oe.removeDataAttribute(this._menu,"popper"),z.trigger(this._element,"hidden.bs.dropdown",h)}}_getConfig(h){if("object"==typeof(h=super._getConfig(h)).reference&&!It(h.reference)&&"function"!=typeof h.reference.getBoundingClientRect)throw new TypeError(`${Ue.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return h}_createPopper(){if(void 0===Z)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let h=this._element;"parent"===this._config.reference?h=this._parent:It(this._config.reference)?h=Jt(this._config.reference):"object"==typeof this._config.reference&&(h=this._config.reference);const v=this._getPopperConfig();this._popper=Z.createPopper(h,this._menu,v)}_isShown(){return this._menu.classList.contains(ln)}_getPlacement(){const h=this._parent;if(h.classList.contains("dropend"))return pt;if(h.classList.contains("dropstart"))return Ut;if(h.classList.contains("dropup-center"))return"top";if(h.classList.contains("dropdown-center"))return"bottom";const v="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return h.classList.contains("dropup")?v?De:wt:v?Qt:ri}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:h}=this._config;return"string"==typeof h?h.split(",").map(v=>Number.parseInt(v,10)):"function"==typeof h?v=>h(v,this._element):h}_getPopperConfig(){const h={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(oe.setDataAttribute(this._menu,"popper","static"),h.modifiers=[{name:"applyStyles",enabled:!1}]),$e($e({},h),"function"==typeof this._config.popperConfig?this._config.popperConfig(h):this._config.popperConfig)}_selectMenuItem({key:h,target:v}){const T=At.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(q=>ie(q));T.length&&tr(T,v,h===kn,!T.includes(v)).focus()}static jQueryInterface(h){return this.each(function(){const v=Se.getOrCreateInstance(this,h);if("string"==typeof h){if(void 0===v[h])throw new TypeError(`No method named "${h}"`);v[h]()}})}static clearMenus(h){if(2===h.button||"keyup"===h.type&&"Tab"!==h.key)return;const v=At.find(nt);for(const T of v){const q=Se.getInstance(T);if(!q||!1===q._config.autoClose)continue;const it=h.composedPath(),ft=it.includes(q._menu);if(it.includes(q._element)||"inside"===q._config.autoClose&&!ft||"outside"===q._config.autoClose&&ft||q._menu.contains(h.target)&&("keyup"===h.type&&"Tab"===h.key||/input|select|option|textarea|form/i.test(h.target.tagName)))continue;const Lt={relatedTarget:q._element};"click"===h.type&&(Lt.clickEvent=h),q._completeHide(Lt)}}static dataApiKeydownHandler(h){const v=/input|textarea/i.test(h.target.tagName),T="Escape"===h.key,q=[ke,kn].includes(h.key);if(!q&&!T||v&&!T)return;h.preventDefault();const it=this.matches(Ke)?this:At.prev(this,Ke)[0]||At.next(this,Ke)[0]||At.findOne(Ke,h.delegateTarget.parentNode),ft=Se.getOrCreateInstance(it);if(q)return h.stopPropagation(),ft.show(),void ft._selectMenuItem(h);ft._isShown()&&(h.stopPropagation(),ft.hide(),it.focus())}}z.on(document,Er,Ke,Se.dataApiKeydownHandler),z.on(document,Er,Sn,Se.dataApiKeydownHandler),z.on(document,dr,Se.clearMenus),z.on(document,"keyup.bs.dropdown.data-api",Se.clearMenus),z.on(document,dr,Ke,function(N){N.preventDefault(),Se.getOrCreateInstance(this).toggle()}),_e(Se);const cn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",er=".sticky-top",Oe="padding-right",Tr="margin-right";class Cn{constructor(){this._element=document.body}getWidth(){const h=document.documentElement.clientWidth;return Math.abs(window.innerWidth-h)}hide(){const h=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Oe,v=>v+h),this._setElementAttributes(cn,Oe,v=>v+h),this._setElementAttributes(er,Tr,v=>v-h)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Oe),this._resetElementAttributes(cn,Oe),this._resetElementAttributes(er,Tr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(h,v,T){const q=this.getWidth();this._applyManipulationCallback(h,it=>{if(it!==this._element&&window.innerWidth>it.clientWidth+q)return;this._saveInitialAttribute(it,v);const ft=window.getComputedStyle(it).getPropertyValue(v);it.style.setProperty(v,`${T(Number.parseFloat(ft))}px`)})}_saveInitialAttribute(h,v){const T=h.style.getPropertyValue(v);T&&oe.setDataAttribute(h,v,T)}_resetElementAttributes(h,v){this._applyManipulationCallback(h,T=>{const q=oe.getDataAttribute(T,v);null!==q?(oe.removeDataAttribute(T,v),T.style.setProperty(v,q)):T.style.removeProperty(v)})}_applyManipulationCallback(h,v){if(It(h))v(h);else for(const T of At.find(h,this._element))v(T)}}const Bn="mousedown.bs.backdrop",si={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},oi={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class gr extends ne{constructor(h){super(),this._config=this._getConfig(h),this._isAppended=!1,this._element=null}static get Default(){return si}static get DefaultType(){return oi}static get NAME(){return"backdrop"}show(h){if(!this._config.isVisible)return void we(h);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{we(h)})}hide(h){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),we(h)})):we(h)}dispose(){this._isAppended&&(z.off(this._element,Bn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const h=document.createElement("div");h.className=this._config.className,this._config.isAnimated&&h.classList.add("fade"),this._element=h}return this._element}_configAfterMerge(h){return h.rootElement=Jt(h.rootElement),h}_append(){if(this._isAppended)return;const h=this._getElement();this._config.rootElement.append(h),z.on(h,Bn,()=>{we(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(h){se(h,this._getElement(),this._config.isAnimated)}}const nr=".bs.focustrap",hn="backward",Qe={autofocus:!0,trapElement:null},Nr={autofocus:"boolean",trapElement:"element"};class An extends ne{constructor(h){super(),this._config=this._getConfig(h),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Qe}static get DefaultType(){return Nr}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),z.off(document,nr),z.on(document,"focusin.bs.focustrap",h=>this._handleFocusin(h)),z.on(document,"keydown.tab.bs.focustrap",h=>this._handleKeydown(h)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,z.off(document,nr))}_handleFocusin(h){const{trapElement:v}=this._config;if(h.target===document||h.target===v||v.contains(h.target))return;const T=At.focusableChildren(v);0===T.length?v.focus():this._lastTabNavDirection===hn?T[T.length-1].focus():T[0].focus()}_handleKeydown(h){"Tab"===h.key&&(this._lastTabNavDirection=h.shiftKey?hn:"forward")}}const Le="hidden.bs.modal",Bt="show.bs.modal",En="modal-open",rr="modal-static",_r={backdrop:!0,focus:!0,keyboard:!0},yn={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class fn extends _t{constructor(h,v){super(h,v),this._dialog=At.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Cn,this._addEventListeners()}static get Default(){return _r}static get DefaultType(){return yn}static get NAME(){return"modal"}toggle(h){return this._isShown?this.hide():this.show(h)}show(h){this._isShown||this._isTransitioning||z.trigger(this._element,Bt,{relatedTarget:h}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(En),this._adjustDialog(),this._backdrop.show(()=>this._showElement(h)))}hide(){this._isShown&&!this._isTransitioning&&(z.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){for(const h of[window,this._dialog])z.off(h,".bs.modal");this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new gr({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new An({trapElement:this._element})}_showElement(h){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const v=At.findOne(".modal-body",this._dialog);v&&(v.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,z.trigger(this._element,"shown.bs.modal",{relatedTarget:h})},this._dialog,this._isAnimated())}_addEventListeners(){z.on(this._element,"keydown.dismiss.bs.modal",h=>{if("Escape"===h.key)return this._config.keyboard?(h.preventDefault(),void this.hide()):void this._triggerBackdropTransition()}),z.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),z.on(this._element,"mousedown.dismiss.bs.modal",h=>{z.one(this._element,"click.dismiss.bs.modal",v=>{this._element===h.target&&this._element===v.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(En),this._resetAdjustments(),this._scrollBar.reset(),z.trigger(this._element,Le)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(z.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const h=this._element.scrollHeight>document.documentElement.clientHeight,v=this._element.style.overflowY;"hidden"===v||this._element.classList.contains(rr)||(h||(this._element.style.overflowY="hidden"),this._element.classList.add(rr),this._queueCallback(()=>{this._element.classList.remove(rr),this._queueCallback(()=>{this._element.style.overflowY=v},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const h=this._element.scrollHeight>document.documentElement.clientHeight,v=this._scrollBar.getWidth(),T=v>0;if(T&&!h){const q=ht()?"paddingLeft":"paddingRight";this._element.style[q]=`${v}px`}if(!T&&h){const q=ht()?"paddingRight":"paddingLeft";this._element.style[q]=`${v}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(h,v){return this.each(function(){const T=fn.getOrCreateInstance(this,h);if("string"==typeof h){if(void 0===T[h])throw new TypeError(`No method named "${h}"`);T[h](v)}})}}z.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(N){const h=Mt(this);["A","AREA"].includes(this.tagName)&&N.preventDefault(),z.one(h,Bt,T=>{T.defaultPrevented||z.one(h,Le,()=>{ie(this)&&this.focus()})});const v=At.findOne(".modal.show");v&&fn.getInstance(v).hide(),fn.getOrCreateInstance(h).toggle(this)}),ce(fn),_e(fn);const pr="showing",Dr=".offcanvas.show",Or="hidePrevented.bs.offcanvas",Vn="hidden.bs.offcanvas",be={backdrop:!0,keyboard:!0,scroll:!1},ai={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class je extends _t{constructor(h,v){super(h,v),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return be}static get DefaultType(){return ai}static get NAME(){return"offcanvas"}toggle(h){return this._isShown?this.hide():this.show(h)}show(h){this._isShown||z.trigger(this._element,"show.bs.offcanvas",{relatedTarget:h}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Cn).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(pr),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(pr),z.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:h})},this._element,!0))}hide(){this._isShown&&(z.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Cn).reset(),z.trigger(this._element,Vn)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const h=Boolean(this._config.backdrop);return new gr({className:"offcanvas-backdrop",isVisible:h,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:h?()=>{"static"!==this._config.backdrop?this.hide():z.trigger(this._element,Or)}:null})}_initializeFocusTrap(){return new An({trapElement:this._element})}_addEventListeners(){z.on(this._element,"keydown.dismiss.bs.offcanvas",h=>{"Escape"===h.key&&(this._config.keyboard?this.hide():z.trigger(this._element,Or))})}static jQueryInterface(h){return this.each(function(){const v=je.getOrCreateInstance(this,h);if("string"==typeof h){if(void 0===v[h]||h.startsWith("_")||"constructor"===h)throw new TypeError(`No method named "${h}"`);v[h](this)}})}}z.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(N){const h=Mt(this);if(["A","AREA"].includes(this.tagName)&&N.preventDefault(),Rt(this))return;z.one(h,Vn,()=>{ie(this)&&this.focus()});const v=At.findOne(Dr);v&&v!==h&&je.getInstance(v).hide(),je.getOrCreateInstance(h).toggle(this)}),z.on(window,"load.bs.offcanvas.data-api",()=>{for(const N of At.find(Dr))je.getOrCreateInstance(N).show()}),z.on(window,"resize.bs.offcanvas",()=>{for(const N of At.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(N).position&&je.getOrCreateInstance(N).hide()}),ce(je),_e(je);const Lr=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Gn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,ui=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Br=(N,h)=>{const v=N.nodeName.toLowerCase();return h.includes(v)?!Lr.has(v)||Boolean(Gn.test(N.nodeValue)||ui.test(N.nodeValue)):h.filter(T=>T instanceof RegExp).some(T=>T.test(v))},Tn={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},mr={allowList:Tn,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},vr={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},yr={entry:"(string|element|function|null)",selector:"(string|element)"};class Ft extends ne{constructor(h){super(),this._config=this._getConfig(h)}static get Default(){return mr}static get DefaultType(){return vr}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(h=>this._resolvePossibleFunction(h)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(h){return this._checkContent(h),this._config.content=$e($e({},this._config.content),h),this}toHtml(){const h=document.createElement("div");h.innerHTML=this._maybeSanitize(this._config.template);for(const[q,it]of Object.entries(this._config.content))this._setContent(h,it,q);const v=h.children[0],T=this._resolvePossibleFunction(this._config.extraClass);return T&&v.classList.add(...T.split(" ")),v}_typeCheckConfig(h){super._typeCheckConfig(h),this._checkContent(h.content)}_checkContent(h){for(const[v,T]of Object.entries(h))super._typeCheckConfig({selector:v,entry:T},yr)}_setContent(h,v,T){const q=At.findOne(T,h);q&&((v=this._resolvePossibleFunction(v))?It(v)?this._putElementInTemplate(Jt(v),q):this._config.html?q.innerHTML=this._maybeSanitize(v):q.textContent=v:q.remove())}_maybeSanitize(h){return this._config.sanitize?function(v,T,q){if(!v.length)return v;if(q&&"function"==typeof q)return q(v);const it=(new window.DOMParser).parseFromString(v,"text/html"),ft=[].concat(...it.body.querySelectorAll("*"));for(const Lt of ft){const Gt=Lt.nodeName.toLowerCase();if(!Object.keys(T).includes(Gt)){Lt.remove();continue}const re=[].concat(...Lt.attributes),fe=[].concat(T["*"]||[],T[Gt]||[]);for(const de of re)Br(de,fe)||Lt.removeAttribute(de.nodeName)}return it.body.innerHTML}(h,this._config.allowList,this._config.sanitizeFn):h}_resolvePossibleFunction(h){return"function"==typeof h?h(this):h}_putElementInTemplate(h,v){if(this._config.html)return v.innerHTML="",void v.append(h);v.textContent=h.textContent}}const Vt=new Set(["sanitize","allowList","sanitizeFn"]),$n="fade",Nn="show",Dn="hide.bs.modal",bn="hover",Pr={AUTO:"auto",TOP:"top",RIGHT:ht()?"left":"right",BOTTOM:"bottom",LEFT:ht()?"right":"left"},Yr={allowList:Tn,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},sr={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Je extends _t{constructor(h,v){if(void 0===Z)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(h,v),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Yr}static get DefaultType(){return sr}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),z.off(this._element.closest(".modal"),Dn,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const h=z.trigger(this._element,this.constructor.eventName("show")),v=(dt(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(h.defaultPrevented||!v)return;this._disposePopper();const T=this._getTipElement();this._element.setAttribute("aria-describedby",T.getAttribute("id"));const{container:q}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(q.append(T),z.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(T),T.classList.add(Nn),"ontouchstart"in document.documentElement)for(const it of[].concat(...document.body.children))z.on(it,"mouseover",ue);this._queueCallback(()=>{z.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!z.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Nn),"ontouchstart"in document.documentElement)for(const h of[].concat(...document.body.children))z.off(h,"mouseover",ue);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),z.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(h){const v=this._getTemplateFactory(h).toHtml();if(!v)return null;v.classList.remove($n,Nn),v.classList.add(`bs-${this.constructor.NAME}-auto`);const T=(q=>{do{q+=Math.floor(1e6*Math.random())}while(document.getElementById(q));return q})(this.constructor.NAME).toString();return v.setAttribute("id",T),this._isAnimated()&&v.classList.add($n),v}setContent(h){this._newContent=h,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(h){return this._templateFactory?this._templateFactory.changeContent(h):this._templateFactory=new Ft(hs($e({},this._config),{content:h,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(h){return this.constructor.getOrCreateInstance(h.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains($n)}_isShown(){return this.tip&&this.tip.classList.contains(Nn)}_createPopper(h){const v="function"==typeof this._config.placement?this._config.placement.call(this,h,this._element):this._config.placement,T=Pr[v.toUpperCase()];return Z.createPopper(this._element,h,this._getPopperConfig(T))}_getOffset(){const{offset:h}=this._config;return"string"==typeof h?h.split(",").map(v=>Number.parseInt(v,10)):"function"==typeof h?v=>h(v,this._element):h}_resolvePossibleFunction(h){return"function"==typeof h?h.call(this._element):h}_getPopperConfig(h){const v={placement:h,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:T=>{this._getTipElement().setAttribute("data-popper-placement",T.state.placement)}}]};return $e($e({},v),"function"==typeof this._config.popperConfig?this._config.popperConfig(v):this._config.popperConfig)}_setListeners(){const h=this._config.trigger.split(" ");for(const v of h)if("click"===v)z.on(this._element,this.constructor.eventName("click"),this._config.selector,T=>{this._initializeOnDelegatedTarget(T).toggle()});else if("manual"!==v){const T=this.constructor.eventName(v===bn?"mouseenter":"focusin"),q=this.constructor.eventName(v===bn?"mouseleave":"focusout");z.on(this._element,T,this._config.selector,it=>{const ft=this._initializeOnDelegatedTarget(it);ft._activeTrigger["focusin"===it.type?"focus":bn]=!0,ft._enter()}),z.on(this._element,q,this._config.selector,it=>{const ft=this._initializeOnDelegatedTarget(it);ft._activeTrigger["focusout"===it.type?"focus":bn]=ft._element.contains(it.relatedTarget),ft._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},z.on(this._element.closest(".modal"),Dn,this._hideModalHandler)}_fixTitle(){const h=this._element.getAttribute("title");h&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",h),this._element.setAttribute("data-bs-original-title",h),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(h,v){clearTimeout(this._timeout),this._timeout=setTimeout(h,v)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(h){const v=oe.getDataAttributes(this._element);for(const T of Object.keys(v))Vt.has(T)&&delete v[T];return h=$e($e({},v),"object"==typeof h&&h?h:{}),h=this._mergeConfigObj(h),h=this._configAfterMerge(h),this._typeCheckConfig(h),h}_configAfterMerge(h){return h.container=!1===h.container?document.body:Jt(h.container),"number"==typeof h.delay&&(h.delay={show:h.delay,hide:h.delay}),"number"==typeof h.title&&(h.title=h.title.toString()),"number"==typeof h.content&&(h.content=h.content.toString()),h}_getDelegateConfig(){const h={};for(const v in this._config)this.constructor.Default[v]!==this._config[v]&&(h[v]=this._config[v]);return h.selector=!1,h.trigger="manual",h}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(h){return this.each(function(){const v=Je.getOrCreateInstance(this,h);if("string"==typeof h){if(void 0===v[h])throw new TypeError(`No method named "${h}"`);v[h]()}})}}_e(Je);const Vr=hs($e({},Je.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),li=hs($e({},Je.DefaultType),{content:"(null|string|element|function)"});class or extends Je{static get Default(){return Vr}static get DefaultType(){return li}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(h){return this.each(function(){const v=or.getOrCreateInstance(this,h);if("string"==typeof h){if(void 0===v[h])throw new TypeError(`No method named "${h}"`);v[h]()}})}}_e(or);const qe="click.bs.scrollspy",tn="active",$r={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ci={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ar extends _t{constructor(h,v){super(h,v),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return $r}static get DefaultType(){return ci}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const h of this._observableSections.values())this._observer.observe(h)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(h){return h.target=Jt(h.target)||document.body,h.rootMargin=h.offset?`${h.offset}px 0px -30%`:h.rootMargin,"string"==typeof h.threshold&&(h.threshold=h.threshold.split(",").map(v=>Number.parseFloat(v))),h}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(z.off(this._config.target,qe),z.on(this._config.target,qe,"[href]",h=>{const v=this._observableSections.get(h.target.hash);if(v){h.preventDefault();const T=this._rootElement||window,q=v.offsetTop-this._element.offsetTop;if(T.scrollTo)return void T.scrollTo({top:q,behavior:"smooth"});T.scrollTop=q}}))}_getNewObserver(){return new IntersectionObserver(v=>this._observerCallback(v),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(h){const v=ft=>this._targetLinks.get(`#${ft.target.id}`),T=ft=>{this._previousScrollData.visibleEntryTop=ft.target.offsetTop,this._process(v(ft))},q=(this._rootElement||document.documentElement).scrollTop,it=q>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=q;for(const ft of h){if(!ft.isIntersecting){this._activeTarget=null,this._clearActiveClass(v(ft));continue}const Lt=ft.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(it&&Lt){if(T(ft),!q)return}else it||Lt||T(ft)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const h=At.find("[href]",this._config.target);for(const v of h){if(!v.hash||Rt(v))continue;const T=At.findOne(v.hash,this._element);ie(T)&&(this._targetLinks.set(v.hash,v),this._observableSections.set(v.hash,T))}}_process(h){this._activeTarget!==h&&(this._clearActiveClass(this._config.target),this._activeTarget=h,h.classList.add(tn),this._activateParents(h),z.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:h}))}_activateParents(h){if(h.classList.contains("dropdown-item"))At.findOne(".dropdown-toggle",h.closest(".dropdown")).classList.add(tn);else for(const v of At.parents(h,".nav, .list-group"))for(const T of At.prev(v,".nav-link, .nav-item > .nav-link, .list-group-item"))T.classList.add(tn)}_clearActiveClass(h){h.classList.remove(tn);const v=At.find("[href].active",h);for(const T of v)T.classList.remove(tn)}static jQueryInterface(h){return this.each(function(){const v=ar.getOrCreateInstance(this,h);if("string"==typeof h){if(void 0===v[h]||h.startsWith("_")||"constructor"===h)throw new TypeError(`No method named "${h}"`);v[h]()}})}}z.on(window,"load.bs.scrollspy.data-api",()=>{for(const N of At.find('[data-bs-spy="scroll"]'))ar.getOrCreateInstance(N)}),_e(ar);const st="ArrowLeft",ae="ArrowRight",dn="ArrowUp",en="ArrowDown",nn="active",Rr="show",Ir='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',jt=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${Ir}`;class _n extends _t{constructor(h){super(h),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),z.on(this._element,"keydown.bs.tab",v=>this._keydown(v)))}static get NAME(){return"tab"}show(){const h=this._element;if(this._elemIsActive(h))return;const v=this._getActiveElem(),T=v?z.trigger(v,"hide.bs.tab",{relatedTarget:h}):null;z.trigger(h,"show.bs.tab",{relatedTarget:v}).defaultPrevented||T&&T.defaultPrevented||(this._deactivate(v,h),this._activate(h,v))}_activate(h,v){h&&(h.classList.add(nn),this._activate(Mt(h)),this._queueCallback(()=>{"tab"===h.getAttribute("role")?(h.removeAttribute("tabindex"),h.setAttribute("aria-selected",!0),this._toggleDropDown(h,!0),z.trigger(h,"shown.bs.tab",{relatedTarget:v})):h.classList.add(Rr)},h,h.classList.contains("fade")))}_deactivate(h,v){h&&(h.classList.remove(nn),h.blur(),this._deactivate(Mt(h)),this._queueCallback(()=>{"tab"===h.getAttribute("role")?(h.setAttribute("aria-selected",!1),h.setAttribute("tabindex","-1"),this._toggleDropDown(h,!1),z.trigger(h,"hidden.bs.tab",{relatedTarget:v})):h.classList.remove(Rr)},h,h.classList.contains("fade")))}_keydown(h){if(![st,ae,dn,en].includes(h.key))return;h.stopPropagation(),h.preventDefault();const v=[ae,en].includes(h.key),T=tr(this._getChildren().filter(q=>!Rt(q)),h.target,v,!0);T&&(T.focus({preventScroll:!0}),_n.getOrCreateInstance(T).show())}_getChildren(){return At.find(jt,this._parent)}_getActiveElem(){return this._getChildren().find(h=>this._elemIsActive(h))||null}_setInitialAttributes(h,v){this._setAttributeIfNotExists(h,"role","tablist");for(const T of v)this._setInitialAttributesOnChild(T)}_setInitialAttributesOnChild(h){h=this._getInnerElement(h);const v=this._elemIsActive(h),T=this._getOuterElement(h);h.setAttribute("aria-selected",v),T!==h&&this._setAttributeIfNotExists(T,"role","presentation"),v||h.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(h,"role","tab"),this._setInitialAttributesOnTargetPanel(h)}_setInitialAttributesOnTargetPanel(h){const v=Mt(h);v&&(this._setAttributeIfNotExists(v,"role","tabpanel"),h.id&&this._setAttributeIfNotExists(v,"aria-labelledby",`#${h.id}`))}_toggleDropDown(h,v){const T=this._getOuterElement(h);if(!T.classList.contains("dropdown"))return;const q=(it,ft)=>{const Lt=At.findOne(it,T);Lt&&Lt.classList.toggle(ft,v)};q(".dropdown-toggle",nn),q(".dropdown-menu",Rr),T.setAttribute("aria-expanded",v)}_setAttributeIfNotExists(h,v,T){h.hasAttribute(v)||h.setAttribute(v,T)}_elemIsActive(h){return h.classList.contains(nn)}_getInnerElement(h){return h.matches(jt)?h:At.findOne(jt,h)}_getOuterElement(h){return h.closest(".nav-item, .list-group-item")||h}static jQueryInterface(h){return this.each(function(){const v=_n.getOrCreateInstance(this);if("string"==typeof h){if(void 0===v[h]||h.startsWith("_")||"constructor"===h)throw new TypeError(`No method named "${h}"`);v[h]()}})}}z.on(document,"click.bs.tab",Ir,function(N){["A","AREA"].includes(this.tagName)&&N.preventDefault(),Rt(this)||_n.getOrCreateInstance(this).show()}),z.on(window,"load.bs.tab",()=>{for(const N of At.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))_n.getOrCreateInstance(N)}),_e(_n);const On="show",Ee="showing",Zn={animation:"boolean",autohide:"boolean",delay:"number"},Ln={animation:!0,autohide:!0,delay:5e3};class wr extends _t{constructor(h,v){super(h,v),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Ln}static get DefaultType(){return Zn}static get NAME(){return"toast"}show(){z.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(On,Ee),this._queueCallback(()=>{this._element.classList.remove(Ee),z.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(z.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(Ee),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Ee,On),z.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(On),super.dispose()}isShown(){return this._element.classList.contains(On)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(h,v){switch(h.type){case"mouseover":case"mouseout":this._hasMouseInteraction=v;break;case"focusin":case"focusout":this._hasKeyboardInteraction=v}if(v)return void this._clearTimeout();const T=h.relatedTarget;this._element===T||this._element.contains(T)||this._maybeScheduleHide()}_setListeners(){z.on(this._element,"mouseover.bs.toast",h=>this._onInteraction(h,!0)),z.on(this._element,"mouseout.bs.toast",h=>this._onInteraction(h,!1)),z.on(this._element,"focusin.bs.toast",h=>this._onInteraction(h,!0)),z.on(this._element,"focusout.bs.toast",h=>this._onInteraction(h,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(h){return this.each(function(){const v=wr.getOrCreateInstance(this,h);if("string"==typeof h){if(void 0===v[h])throw new TypeError(`No method named "${h}"`);v[h](this)}})}}return ce(wr),_e(wr),{Alert:Ct,Button:Q,Carousel:xn,Collapse:Kt,Dropdown:Se,Modal:fn,Offcanvas:je,Popover:or,ScrollSpy:ar,Tab:_n,Toast:wr,Tooltip:Je}});